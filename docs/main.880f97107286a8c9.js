(self.webpackChunkLeagueWinrate=self.webpackChunkLeagueWinrate||[]).push([[179],{86:(X,_,O)=>{"use strict";function x(e){return"function"==typeof e}function w(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const T=w(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function g(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class b{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const a of n)a.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(x(r))try{r()}catch(a){t=a instanceof T?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{c(a)}catch(d){t=t??[],d instanceof T?t=[...t,...d.errors]:t.push(d)}}if(t)throw new T(t)}}add(t){var n;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof b){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&g(n,t)}remove(t){const{_finalizers:n}=this;n&&g(n,t),t instanceof b&&t._removeParent(this)}}b.EMPTY=(()=>{const e=new b;return e.closed=!0,e})();const v=b.EMPTY;function p(e){return e instanceof b||e&&"closed"in e&&x(e.remove)&&x(e.add)&&x(e.unsubscribe)}function c(e){x(e)?e():e.unsubscribe()}const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},o={setTimeout(e,t,...n){const{delegate:r}=o;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=o;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function u(e){o.setTimeout(()=>{const{onUnhandledError:t}=s;if(!t)throw e;t(e)})}function l(){}const f=E("C",void 0,void 0);function E(e,t,n){return{kind:e,value:t,error:n}}let S=null;function A(e){if(s.useDeprecatedSynchronousErrorHandling){const t=!S;if(t&&(S={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=S;if(S=null,n)throw r}}else e()}class k extends b{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,p(t)&&t.add(this)):this.destination=ne}static create(t,n,r){return new j(t,n,r)}next(t){this.isStopped?G(function D(e){return E("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?G(function m(e){return E("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?G(f,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const L=Function.prototype.bind;function R(e,t){return L.call(e,t)}class P{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){z(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){z(r)}else z(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){z(n)}}}class j extends k{constructor(t,n,r){let i;if(super(),x(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let a;this&&s.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&R(t.next,a),error:t.error&&R(t.error,a),complete:t.complete&&R(t.complete,a)}):i=t}this.destination=new P(i)}}function z(e){s.useDeprecatedSynchronousErrorHandling?function I(e){s.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=e)}(e):u(e)}function G(e,t){const{onStoppedNotification:n}=s;n&&o.setTimeout(()=>n(e,t))}const ne={closed:!0,next:l,error:function J(e){throw e},complete:l},se="function"==typeof Symbol&&Symbol.observable||"@@observable";function q(e){return e}let ie=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const a=function Re(e){return e&&e instanceof k||function Ke(e){return e&&x(e.next)&&x(e.error)&&x(e.complete)}(e)&&p(e)}(n)?n:new j(n,r,i);return A(()=>{const{operator:d,source:h}=this;a.add(d?d.call(a,h):h?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=_e(r))((i,a)=>{const d=new j({next:h=>{try{n(h)}catch(y){a(y),d.unsubscribe()}},error:a,complete:i});this.subscribe(d)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[se](){return this}pipe(...n){return function pe(e){return 0===e.length?q:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=_e(n))((r,i)=>{let a;this.subscribe(d=>a=d,d=>i(d),()=>r(a))})}}return e.create=t=>new e(t),e})();function _e(e){var t;return null!==(t=e??s.Promise)&&void 0!==t?t:Promise}const lt=w(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $e=(()=>{class e extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ze(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lt}next(n){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:a}=this;return r||i?v:(this.currentObservers=null,a.push(n),new b(()=>{this.currentObservers=null,g(a,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:a}=this;r?n.error(i):a&&n.complete()}asObservable(){const n=new ie;return n.source=this,n}}return e.create=(t,n)=>new ze(t,n),e})();class ze extends $e{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:v}}function nt(e){return x(e?.lift)}function Ce(e){return t=>{if(nt(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function je(e,t,n,r,i){return new hn(e,t,n,r,i)}class hn extends k{constructor(t,n,r,i,a,d){super(t),this.onFinalize=a,this.shouldUnsubscribe=d,this._next=n?function(h){try{n(h)}catch(y){t.error(y)}}:super._next,this._error=i?function(h){try{i(h)}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Fe(e,t){return Ce((n,r)=>{let i=0;n.subscribe(je(r,a=>{r.next(e.call(t,a,i++))}))})}function gn(e){return this instanceof gn?(this.v=e,this):new gn(e)}function zn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},d("next"),d("throw"),d("return"),i[Symbol.asyncIterator]=function(){return this},i;function d($){r[$]&&(i[$]=function(B){return new Promise(function(Y,ee){a.push([$,B,Y,ee])>1||h($,B)})})}function h($,B){try{!function y($){$.value instanceof gn?Promise.resolve($.value.v).then(C,M):N(a[0][2],$)}(r[$](B))}catch(Y){N(a[0][3],Y)}}function C($){h("next",$)}function M($){h("throw",$)}function N($,B){$(B),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Br(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Dr(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(d){return new Promise(function(h,y){!function i(a,d,h,y){Promise.resolve(y).then(function(C){a({value:C,done:h})},d)}(h,y,(d=e[a](d)).done,d.value)})}}}const Ur=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Tr(e){return x(e?.then)}function Hr(e){return x(e[se])}function po(e){return Symbol.asyncIterator&&x(e?.[Symbol.asyncIterator])}function U(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const re=function K(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ce(e){return x(e?.[re])}function we(e){return zn(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield gn(n.read());if(i)return yield gn(void 0);yield yield gn(r)}}finally{n.releaseLock()}})}function be(e){return x(e?.getReader)}function Te(e){if(e instanceof ie)return e;if(null!=e){if(Hr(e))return function Nt(e){return new ie(t=>{const n=e[se]();if(x(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ur(e))return function Yt(e){return new ie(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Tr(e))return function Kt(e){return new ie(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,u)})}(e);if(po(e))return Wn(e);if(ce(e))return function Ct(e){return new ie(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(be(e))return function sr(e){return Wn(we(e))}(e)}throw U(e)}function Wn(e){return new ie(t=>{(function te(e,t){var n,r,i,a;return function wr(e,t,n,r){return new(n||(n=Promise))(function(a,d){function h(M){try{C(r.next(M))}catch(N){d(N)}}function y(M){try{C(r.throw(M))}catch(N){d(N)}}function C(M){M.done?a(M.value):function i(a){return a instanceof n?a:new n(function(d){d(a)})}(M.value).then(h,y)}C((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Br(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(d){i={error:d}}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ke(e,t,n,r=0,i=!1){const a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function ft(e,t,n=1/0){return x(t)?ft((r,i)=>Fe((a,d)=>t(r,a,i,d))(Te(e(r,i))),n):("number"==typeof t&&(n=t),Ce((r,i)=>function vt(e,t,n,r,i,a,d,h){const y=[];let C=0,M=0,N=!1;const $=()=>{N&&!y.length&&!C&&t.complete()},B=ee=>C<r?Y(ee):y.push(ee),Y=ee=>{a&&t.next(ee),C++;let fe=!1;Te(n(ee,M++)).subscribe(je(t,ue=>{i?.(ue),a?B(ue):t.next(ue)},()=>{fe=!0},void 0,()=>{if(fe)try{for(C--;y.length&&C<r;){const ue=y.shift();d?ke(t,d,()=>Y(ue)):Y(ue)}$()}catch(ue){t.error(ue)}}))};return e.subscribe(je(t,B,()=>{N=!0,$()})),()=>{h?.()}}(r,i,e,n)))}function Yn(e=1/0){return ft(q,e)}const Kn=new ie(e=>e.complete());function Fo(e){return e[e.length-1]}function Na(e){return x(Fo(e))?e.pop():void 0}function Gr(e){return function mt(e){return e&&x(e.schedule)}(Fo(e))?e.pop():void 0}function as(e,t=0){return Ce((n,r)=>{n.subscribe(je(r,i=>ke(r,e,()=>r.next(i),t),()=>ke(r,e,()=>r.complete(),t),i=>ke(r,e,()=>r.error(i),t)))})}function ui(e,t=0){return Ce((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ls(e,t){if(!e)throw new Error("Iterable cannot be null");return new ie(n=>{ke(n,t,()=>{const r=e[Symbol.asyncIterator]();ke(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function St(e,t){return t?function Va(e,t){if(null!=e){if(Hr(e))return function Hl(e,t){return Te(e).pipe(ui(t),as(t))}(e,t);if(Ur(e))return function Fa(e,t){return new ie(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Tr(e))return function us(e,t){return Te(e).pipe(ui(t),as(t))}(e,t);if(po(e))return ls(e,t);if(ce(e))return function ka(e,t){return new ie(n=>{let r;return ke(n,t,()=>{r=e[re](),ke(n,t,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(d){return void n.error(d)}a?n.complete():n.next(i)},0,!0)}),()=>x(r?.return)&&r.return()})}(e,t);if(be(e))return function La(e,t){return ls(we(e),t)}(e,t)}throw U(e)}(e,t):Te(e)}function Er(e){return e<=0?()=>Kn:Ce((t,n)=>{let r=0;t.subscribe(je(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function go(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(Er(1)).subscribe(()=>e())}function ot(e){for(let t in e)if(e[t]===ot)return t;throw Error("Could not find renamed property on target object.")}function mo(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ut(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ut).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ds(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Gl=ot({__forward_ref__:ot});function ct(e){return e.__forward_ref__=ct,e.toString=function(){return ut(this())},e}function Se(e){return zr(e)?e():e}function zr(e){return"function"==typeof e&&e.hasOwnProperty(Gl)&&e.__forward_ref__===ct}class Ue extends Error{constructor(t,n){super(function yo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Le(e){return"string"==typeof e?e:null==e?"":String(e)}function qr(e,t){throw new Ue(-201,!1)}function W(e,t){null==e&&function ae(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function De(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function rt(e){return{providers:e.providers||[],imports:e.imports||[]}}function rn(e){return Tt(e,on)||Tt(e,Ha)}function Tt(e,t){return e.hasOwnProperty(t)?e[t]:null}function st(e){return e&&(e.hasOwnProperty(Cr)||e.hasOwnProperty(yD))?e[Cr]:null}const on=ot({\u0275prov:ot}),Cr=ot({\u0275inj:ot}),Ha=ot({ngInjectableDef:ot}),yD=ot({ngInjectorDef:ot});var Me=(()=>((Me=Me||{})[Me.Default=0]="Default",Me[Me.Host=1]="Host",Me[Me.Self=2]="Self",Me[Me.SkipSelf=4]="SkipSelf",Me[Me.Optional=8]="Optional",Me))();let Kl;function Sr(e){const t=Kl;return Kl=e,t}function lp(e,t,n){const r=rn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Me.Optional?null:void 0!==t?t:void qr(ut(e))}function bo(e){return{toString:e}.toString()}var ar=(()=>((ar=ar||{})[ar.OnPush=0]="OnPush",ar[ar.Default=1]="Default",ar))(),Ar=(()=>{return(e=Ar||(Ar={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ar;var e})();const ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ci={},at=[],Ga=ot({\u0275cmp:ot}),Xl=ot({\u0275dir:ot}),Zl=ot({\u0275pipe:ot}),cp=ot({\u0275mod:ot}),Wr=ot({\u0275fac:ot}),ms=ot({__NG_ELEMENT_ID__:ot});let vD=0;function ys(e){return bo(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ar.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||at,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ar.Emulated,id:"c",styles:e.styles||at,_:null,setInput:null,schemas:e.schemas||null,tView:null},a=e.dependencies,d=e.features;return i.id+=vD++,i.inputs=hp(e.inputs,r),i.outputs=hp(e.outputs),d&&d.forEach(h=>h(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(dp).filter(fp):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(yn).filter(fp):null,i})}function dp(e){return pt(e)||mn(e)}function fp(e){return null!==e}const wD={};function Xn(e){return bo(()=>{const t={type:e.type,bootstrap:e.bootstrap||at,declarations:e.declarations||at,imports:e.imports||at,exports:e.exports||at,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(wD[e.id]=e.type),t})}function hp(e,t){if(null==e)return ci;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}const Ne=ys;function pt(e){return e[Ga]||null}function mn(e){return e[Xl]||null}function yn(e){return e[Zl]||null}function Nn(e,t){const n=e[cp]||null;if(!n&&!0===t)throw new Error(`Type ${ut(e)} does not have '\u0275mod' property.`);return n}function On(e){return Array.isArray(e)&&"object"==typeof e[1]}function lr(e){return Array.isArray(e)&&!0===e[1]}function ec(e){return 0!=(8&e.flags)}function Ya(e){return 2==(2&e.flags)}function Ka(e){return 1==(1&e.flags)}function cr(e){return null!==e.template}function CD(e){return 0!=(256&e[2])}function jo(e,t){return e.hasOwnProperty(Wr)?e[Wr]:null}class ID{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qn(){return mp}function mp(e){return e.type.prototype.ngOnChanges&&(e.setInput=MD),OD}function OD(){const e=bp(this),t=e?.current;if(t){const n=e.previous;if(n===ci)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function MD(e,t,n,r){const i=bp(e)||function PD(e,t){return e[yp]=t}(e,{previous:ci,current:null}),a=i.current||(i.current={}),d=i.previous,h=this.declaredInputs[n],y=d[h];a[h]=new ID(y&&y.currentValue,t,d===ci),e[r]=t}Qn.ngInherit=!0;const yp="__ngSimpleChanges__";function bp(e){return e[yp]||null}let ic;function It(e){return!!e.listen}const vp={createRenderer:(e,t)=>function sc(){return void 0!==ic?ic:typeof document<"u"?document:void 0}()};function kt(e){for(;Array.isArray(e);)e=e[0];return e}function Xa(e,t){return kt(t[e])}function er(e,t){return kt(t[e.index])}function ac(e,t){return e.data[t]}function Fn(e,t){const n=t[e];return On(n)?n:n[0]}function uc(e){return 64==(64&e[2])}function vo(e,t){return null==t?null:e[t]}function wp(e){e[18]=0}function lc(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Be={lFrame:Op(null),bindingsEnabled:!0};function xp(){return Be.bindingsEnabled}function le(){return Be.lFrame.lView}function tt(){return Be.lFrame.tView}function cc(e){return Be.lFrame.contextLView=e,e[8]}function dc(e){return Be.lFrame.contextLView=null,e}function Gt(){let e=Tp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Tp(){return Be.lFrame.currentTNode}function Ir(e,t){const n=Be.lFrame;n.currentTNode=e,n.isParent=t}function fc(){return Be.lFrame.isParent}function mi(){return Be.lFrame.bindingIndex++}function KD(e,t){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=e,pc(t)}function pc(e){Be.lFrame.currentDirectiveIndex=e}function mc(e){Be.lFrame.currentQueryIndex=e}function ZD(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ap(e,t,n){if(n&Me.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||n&Me.Host||(i=ZD(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;t=i,e=a}const r=Be.lFrame=Ip();return r.currentTNode=t,r.lView=e,!0}function Qa(e){const t=Ip(),n=e[1];Be.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ip(){const e=Be.lFrame,t=null===e?null:e.child;return null===t?Op(e):t}function Op(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Mp(){const e=Be.lFrame;return Be.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Pp=Mp;function Ja(){const e=Mp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _n(){return Be.lFrame.selectedIndex}function _o(e){Be.lFrame.selectedIndex=e}function Ot(){const e=Be.lFrame;return ac(e.tView,e.selectedIndex)}function eu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:h,ngAfterViewInit:y,ngAfterViewChecked:C,ngOnDestroy:M}=a;d&&(e.contentHooks||(e.contentHooks=[])).push(-n,d),h&&((e.contentHooks||(e.contentHooks=[])).push(n,h),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,h)),y&&(e.viewHooks||(e.viewHooks=[])).push(-n,y),C&&((e.viewHooks||(e.viewHooks=[])).push(n,C),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,C)),null!=M&&(e.destroyHooks||(e.destroyHooks=[])).push(n,M)}}function tu(e,t,n){Np(e,t,3,n)}function nu(e,t,n,r){(3&e[2])===n&&Np(e,t,n,r)}function yc(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Np(e,t,n,r){const a=r??-1,d=t.length-1;let h=0;for(let y=void 0!==r?65535&e[18]:0;y<d;y++)if("number"==typeof t[y+1]){if(h=t[y],null!=r&&h>=r)break}else t[y]<0&&(e[18]+=65536),(h<a||-1==a)&&(s1(e,n,t,y),e[18]=(4294901760&e[18])+y+2),y++}function s1(e,t,n,r){const i=n[r]<0,a=n[r+1],h=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(h)}finally{}}}else try{a.call(h)}finally{}}class Ds{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ru(e,t,n){const r=It(e);let i=0;for(;i<n.length;){const a=n[i];if("number"==typeof a){if(0!==a)break;i++;const d=n[i++],h=n[i++],y=n[i++];r?e.setAttribute(t,h,y,d):t.setAttributeNS(d,h,y)}else{const d=a,h=n[++i];vc(d)?r&&e.setProperty(t,d,h):r?e.setAttribute(t,d,h):t.setAttribute(d,h),i++}}return i}function Rp(e){return 3===e||4===e||6===e}function vc(e){return 64===e.charCodeAt(0)}function ou(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Fp(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Fp(e,t,n,r,i){let a=0,d=e.length;if(-1===t)d=-1;else for(;a<e.length;){const h=e[a++];if("number"==typeof h){if(h===t){d=-1;break}if(h>t){d=a-1;break}}}for(;a<e.length;){const h=e[a];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==d&&(e.splice(d,0,t),a=d+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function kp(e){return-1!==e}function yi(e){return 32767&e}function bi(e,t){let n=function d1(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let _c=!0;function iu(e){const t=_c;return _c=e,t}let f1=0;const Or={};function Ts(e,t){const n=Dc(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,wc(r.data,e),wc(t,null),wc(r.blueprint,null));const i=su(e,t),a=e.injectorIndex;if(kp(i)){const d=yi(i),h=bi(i,t),y=h[1].data;for(let C=0;C<8;C++)t[a+C]=h[d+C]|y[d+C]}return t[a+8]=i,a}function wc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Dc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function su(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=zp(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function au(e,t,n){!function h1(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ms)&&(r=n[ms]),null==r&&(r=n[ms]=f1++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function $p(e,t,n){if(n&Me.Optional)return e;qr()}function jp(e,t,n,r){if(n&Me.Optional&&void 0===r&&(r=null),0==(n&(Me.Self|Me.Host))){const i=e[9],a=Sr(void 0);try{return i?i.get(t,r,n&Me.Optional):lp(t,r,n&Me.Optional)}finally{Sr(a)}}return $p(r,0,n)}function Bp(e,t,n,r=Me.Default,i){if(null!==e){if(1024&t[2]){const d=function b1(e,t,n,r,i){let a=e,d=t;for(;null!==a&&null!==d&&1024&d[2]&&!(256&d[2]);){const h=Up(a,d,n,r|Me.Self,Or);if(h!==Or)return h;let y=a.parent;if(!y){const C=d[21];if(C){const M=C.get(n,Or,r);if(M!==Or)return M}y=zp(d),d=d[15]}a=y}return i}(e,t,n,r,Or);if(d!==Or)return d}const a=Up(e,t,n,r,Or);if(a!==Or)return a}return jp(t,n,r,i)}function Up(e,t,n,r,i){const a=function m1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ms)?e[ms]:void 0;return"number"==typeof t?t>=0?255&t:y1:t}(n);if("function"==typeof a){if(!Ap(t,e,r))return r&Me.Host?$p(i,0,r):jp(t,n,r,i);try{const d=a(r);if(null!=d||r&Me.Optional)return d;qr()}finally{Pp()}}else if("number"==typeof a){let d=null,h=Dc(e,t),y=-1,C=r&Me.Host?t[16][6]:null;for((-1===h||r&Me.SkipSelf)&&(y=-1===h?su(e,t):t[h+8],-1!==y&&Gp(r,!1)?(d=t[1],h=yi(y),t=bi(y,t)):h=-1);-1!==h;){const M=t[1];if(Hp(a,h,M.data)){const N=g1(h,t,n,d,r,C);if(N!==Or)return N}y=t[h+8],-1!==y&&Gp(r,t[1].data[h+8]===C)&&Hp(a,h,t)?(d=M,h=yi(y),t=bi(y,t)):h=-1}}return i}function g1(e,t,n,r,i,a){const d=t[1],h=d.data[e+8],M=function uu(e,t,n,r,i){const a=e.providerIndexes,d=t.data,h=1048575&a,y=e.directiveStart,M=a>>20,$=i?h+M:e.directiveEnd;for(let B=r?h:h+M;B<$;B++){const Y=d[B];if(B<y&&n===Y||B>=y&&Y.type===n)return B}if(i){const B=d[y];if(B&&cr(B)&&B.type===n)return y}return null}(h,d,n,null==r?Ya(h)&&_c:r!=d&&0!=(3&h.type),i&Me.Host&&a===h);return null!==M?Es(t,d,M,h):Or}function Es(e,t,n,r){let i=e[n];const a=t.data;if(function a1(e){return e instanceof Ds}(i)){const d=i;d.resolving&&function ja(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${e}${n}`)}(function et(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Le(e)}(a[n]));const h=iu(d.canSeeViewProviders);d.resolving=!0;const y=d.injectImpl?Sr(d.injectImpl):null;Ap(e,r,Me.Default);try{i=e[n]=d.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function i1(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const d=mp(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==y&&Sr(y),iu(h),d.resolving=!1,Pp()}}return i}function Hp(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Gp(e,t){return!(e&Me.Self||e&Me.Host&&t)}class vi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Bp(this._tNode,this._lView,t,r,n)}}function y1(){return new vi(Gt(),le())}function xc(e){return zr(e)?()=>{const t=xc(Se(e));return t&&t()}:jo(e)}function zp(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const wi="__parameters__";function xi(e,t,n){return bo(()=>{const r=function Tc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const d=new i(...a);return h.annotation=d,h;function h(y,C,M){const N=y.hasOwnProperty(wi)?y[wi]:Object.defineProperty(y,wi,{value:[]})[wi];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(d),y}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Ve{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=De({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _1=new Ve("AnalyzeForEntryComponents");function Xr(e,t){e.forEach(n=>Array.isArray(n)?Xr(n,t):t(n))}function Wp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function lu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ln(e,t,n){let r=Ti(e,t);return r>=0?e[1|r]=n:(r=~r,function x1(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Cc(e,t){const n=Ti(e,t);if(n>=0)return e[1|n]}function Ti(e,t){return function Xp(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const a=r+(i-r>>1),d=e[a<<n];if(t===d)return a<<n;d>t?i=a:r=a+1}return~(i<<n)}(e,t,1)}const Os={},Ac="__NG_DI_FLAG__",du="ngTempTokenPath",M1=/\n/gm,Zp="__source";let Ms;function fu(e){const t=Ms;return Ms=e,t}function N1(e,t=Me.Default){if(void 0===Ms)throw new Ue(-203,"");return null===Ms?lp(e,void 0,t):Ms.get(e,t&Me.Optional?null:void 0,t)}function ve(e,t=Me.Default){return(function bD(){return Kl}()||N1)(Se(e),t)}function Ic(e){const t=[];for(let n=0;n<e.length;n++){const r=Se(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ue(900,"");let i,a=Me.Default;for(let d=0;d<r.length;d++){const h=r[d],y=F1(h);"number"==typeof y?-1===y?i=h.token:a|=y:i=h}t.push(ve(i,a))}else t.push(ve(r))}return t}function Ps(e,t){return e[Ac]=t,e.prototype[Ac]=t,e}function F1(e){return e[Ac]}const hu=Ps(xi("Inject",e=>({token:e})),-1),Zr=Ps(xi("Optional"),8),Ns=Ps(xi("SkipSelf"),4);const Lc=new Map;let vx=0;const $c="__ngContext__";function un(e,t){On(t)?(e[$c]=t[20],function wx(e){Lc.set(e[20],e)}(t)):e[$c]=t}function $s(e){const t=e[$c];return"number"==typeof t?function bg(e){return Lc.get(e)||null}(t):t||null}function _u(e){const t=$s(e);return t?On(t)?t:t.lView:null}function Bc(e){return e.ngOriginalError}function Nx(e,...t){e.error(...t)}class Si{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function Px(e){return e&&e.ngErrorLogger||Nx}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Bc(t);for(;n&&Bc(n);)n=Bc(n);return n||null}}const Hx=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(ht))();function Qr(e){return e instanceof Function?e():e}var Vn=(()=>((Vn=Vn||{})[Vn.Important=1]="Important",Vn[Vn.DashCase=2]="DashCase",Vn))();function Hc(e,t){return undefined(e,t)}function js(e){const t=e[3];return lr(t)?t[3]:t}function Gc(e){return Ag(e[13])}function zc(e){return Ag(e[4])}function Ag(e){for(;null!==e&&!lr(e);)e=e[4];return e}function Ii(e,t,n,r,i){if(null!=r){let a,d=!1;lr(r)?a=r:On(r)&&(d=!0,r=r[0]);const h=kt(r);0===e&&null!==n?null==i?Rg(t,n,h):Bo(t,n,h,i||null,!0):1===e&&null!==n?Bo(t,n,h,i||null,!0):2===e?function Ug(e,t,n){const r=wu(e,t);r&&function oT(e,t,n,r){It(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,h,d):3===e&&t.destroyNode(h),null!=a&&function aT(e,t,n,r,i){const a=n[7];a!==kt(n)&&Ii(t,e,r,a,i);for(let h=10;h<n.length;h++){const y=n[h];Bs(y[1],y,e,t,r,a)}}(t,e,a,n,i)}}function Wc(e,t,n){if(It(e))return e.createElement(t,n);{const r=null!==n?function kD(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function Og(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,lc(i,-1)),n.splice(r,1)}function Yc(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Og(i,r),t>0&&(e[n-1][4]=r[4]);const a=lu(e,10+t);!function Xx(e,t){Bs(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const d=a[19];null!==d&&d.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Mg(e,t){if(!(128&t[2])){const n=t[11];It(n)&&n.destroyNode&&Bs(e,t,n,3,null,null),function Jx(e){let t=e[13];if(!t)return Kc(e[1],e);for(;t;){let n=null;if(On(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)On(t)&&Kc(t[1],t),t=t[3];null===t&&(t=e),On(t)&&Kc(t[1],t),n=t&&t[4]}t=n}}(t)}}function Kc(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function rT(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Ds)){const a=n[r+1];if(Array.isArray(a))for(let d=0;d<a.length;d+=2){const h=i[a[d]],y=a[d+1];try{y.call(h)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function nT(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const d=n[a+1],h="function"==typeof d?d(t):kt(t[d]),y=r[i=n[a+2]],C=n[a+3];"boolean"==typeof C?h.removeEventListener(n[a],y,C):C>=0?r[i=C]():r[i=-C].unsubscribe(),a+=2}else{const d=r[i=n[a+1]];n[a].call(d)}if(null!==r){for(let a=i+1;a<r.length;a++)r[a]();t[7]=null}}(e,t),1===t[1].type&&It(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&lr(t[3])){n!==t[3]&&Og(n,t);const r=t[19];null!==r&&r.detachView(e)}!function Dx(e){Lc.delete(e[20])}(t)}}function Pg(e,t,n){return function Ng(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Ar.None||i===Ar.Emulated)return null}return er(r,n)}(e,t.parent,n)}function Bo(e,t,n,r,i){It(e)?e.insertBefore(t,n,r,i):(kg(t)?t.content:t).insertBefore(n,r,i)}function Rg(e,t,n){It(e)?e.appendChild(t,n):(kg(t)?t.content:t).appendChild(n)}function Fg(e,t,n,r,i){null!==r?Bo(e,t,n,r,i):Rg(e,t,n)}function kg(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}function wu(e,t){return It(e)?e.parentNode(t):t.parentNode}let $g=function Vg(e,t,n){return 40&e.type?er(e,n):null};function Du(e,t,n,r){const i=Pg(e,r,t),a=t[11],h=function Lg(e,t,n){return $g(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let y=0;y<n.length;y++)Fg(a,i,n[y],h,!1);else Fg(a,i,n,h,!1)}function xu(e,t){if(null!==t){const n=t.type;if(3&n)return er(t,e);if(4&n)return Zc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return xu(e,r);{const i=e[t.index];return lr(i)?Zc(-1,i):kt(i)}}if(32&n)return Hc(t,e)()||kt(e[t.index]);{const r=Bg(e,t);return null!==r?Array.isArray(r)?r[0]:xu(js(e[16]),r):xu(e,t.next)}}return null}function Bg(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Zc(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return xu(r,i)}return t[7]}function Qc(e,t,n,r,i,a,d){for(;null!=n;){const h=r[n.index],y=n.type;if(d&&0===t&&(h&&un(kt(h),r),n.flags|=4),64!=(64&n.flags))if(8&y)Qc(e,t,n.child,r,i,a,!1),Ii(t,e,i,h,a);else if(32&y){const C=Hc(n,r);let M;for(;M=C();)Ii(t,e,i,M,a);Ii(t,e,i,h,a)}else 16&y?Hg(e,t,r,n,i,a):Ii(t,e,i,h,a);n=d?n.projectionNext:n.next}}function Bs(e,t,n,r,i,a){Qc(n,r,e.firstChild,t,i,a,!1)}function Hg(e,t,n,r,i,a){const d=n[16],y=d[6].projection[r.projection];if(Array.isArray(y))for(let C=0;C<y.length;C++)Ii(t,e,i,y[C],a);else Qc(e,t,y,d[3],i,a,!0)}function Gg(e,t,n){It(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Jc(e,t,n){It(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function zg(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}const qg="ng-template";function lT(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==zg(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Wg(e){return 4===e.type&&e.value!==qg}function cT(e,t,n){return t===(4!==e.type||n?e.value:qg)}function dT(e,t,n){let r=4;const i=e.attrs||[],a=function pT(e){for(let t=0;t<e.length;t++)if(Rp(e[t]))return t;return e.length}(i);let d=!1;for(let h=0;h<t.length;h++){const y=t[h];if("number"!=typeof y){if(!d)if(4&r){if(r=2|1&r,""!==y&&!cT(e,y,n)||""===y&&1===t.length){if(dr(r))return!1;d=!0}}else{const C=8&r?y:t[++h];if(8&r&&null!==e.attrs){if(!lT(e.attrs,C,n)){if(dr(r))return!1;d=!0}continue}const N=fT(8&r?"class":y,i,Wg(e),n);if(-1===N){if(dr(r))return!1;d=!0;continue}if(""!==C){let $;$=N>a?"":i[N+1].toLowerCase();const B=8&r?$:null;if(B&&-1!==zg(B,C,0)||2&r&&C!==$){if(dr(r))return!1;d=!0}}}}else{if(!d&&!dr(r)&&!dr(y))return!1;if(d&&dr(y))continue;d=!1,r=y|1&r}}return dr(r)||d}function dr(e){return 0==(1&e)}function fT(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let a=!1;for(;i<t.length;){const d=t[i];if(d===e)return i;if(3===d||6===d)a=!0;else{if(1===d||2===d){let h=t[++i];for(;"string"==typeof h;)h=t[++i];continue}if(4===d)break;if(0===d){i+=4;continue}}i+=a?1:2}return-1}return function gT(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Yg(e,t,n=!1){for(let r=0;r<t.length;r++)if(dT(e,t[r],n))return!0;return!1}function Kg(e,t){return e?":not("+t.trim()+")":t}function yT(e){let t=e[0],n=1,r=2,i="",a=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&r){const h=e[++n];i+="["+d+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+d:4&r&&(i+=" "+d);else""!==i&&!dr(d)&&(t+=Kg(a,i),i=""),r=d,a=a||!dr(r);n++}return""!==i&&(t+=Kg(a,i)),t}const He={};function $n(e){Xg(tt(),le(),_n()+e,!1)}function Xg(e,t,n,r){if(!r)if(3==(3&t[2])){const a=e.preOrderCheckHooks;null!==a&&tu(t,a,n)}else{const a=e.preOrderHooks;null!==a&&nu(t,a,0,n)}_o(n)}const em=new Ve("ENVIRONMENT_INITIALIZER"),tm=new Ve("INJECTOR_DEF_TYPES");function ET(...e){return{\u0275providers:nm(0,e)}}function nm(e,...t){const n=[],r=new Set;let i;return Xr(t,a=>{const d=a;ed(d,n,[],r)&&(i||(i=[]),i.push(d))}),void 0!==i&&rm(i,n),n}function rm(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];Xr(i,a=>{t.push(a)})}}function ed(e,t,n,r){if(!(e=Se(e)))return!1;let i=null,a=st(e);const d=!a&&pt(e);if(a||d){if(d&&!d.standalone)return!1;i=e}else{const y=e.ngModule;if(a=st(y),!a)return!1;i=y}const h=r.has(i);if(d){if(h)return!1;if(r.add(i),d.dependencies){const y="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const C of y)ed(C,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!h){let C;r.add(i);try{Xr(a.imports,M=>{ed(M,t,n,r)&&(C||(C=[]),C.push(M))})}finally{}void 0!==C&&rm(C,t)}if(!h){const C=jo(i)||(()=>new i);t.push({provide:i,useFactory:C,deps:at},{provide:tm,useValue:i,multi:!0},{provide:em,useValue:()=>ve(i),multi:!0})}const y=a.providers;null==y||h||Xr(y,M=>{t.push(M)})}}return i!==e&&void 0!==e.providers}const CT=ot({provide:String,useValue:ot});function td(e){return null!==e&&"object"==typeof e&&CT in e}function Uo(e){return"function"==typeof e}const nd=new Ve("INJECTOR",-1);class sm{get(t,n=Os){if(n===Os){const r=new Error(`NullInjectorError: No provider for ${ut(t)}!`);throw r.name="NullInjectorError",r}return n}}const rd=new Ve("Set Injector scope."),Tu={},AT={};let od;function id(){return void 0===od&&(od=new sm),od}class Ho{}class am extends Ho{constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ad(t,d=>this.processProvider(d)),this.records.set(nd,Oi(void 0,this)),i.has("environment")&&this.records.set(Ho,Oi(void 0,this));const a=this.records.get(rd);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(tm.multi,at,Me.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}get(t,n=Os,r=Me.Default){this.assertNotDestroyed();const i=fu(this),a=Sr(void 0);try{if(!(r&Me.SkipSelf)){let h=this.records.get(t);if(void 0===h){const y=function NT(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ve}(t)&&rn(t);h=y&&this.injectableDefInScope(y)?Oi(sd(t),Tu):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(r&Me.Self?id():this.parent).get(t,n=r&Me.Optional&&n===Os?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[du]=d[du]||[]).unshift(ut(t)),i)throw d;return function k1(e,t,n,r){const i=e[du];throw t[Zp]&&i.unshift(t[Zp]),e.message=function L1(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ut(t);if(Array.isArray(t))i=t.map(ut).join(" -> ");else if("object"==typeof t){let a=[];for(let d in t)if(t.hasOwnProperty(d)){let h=t[d];a.push(d+":"+("string"==typeof h?JSON.stringify(h):ut(h)))}i=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(M1,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[du]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{Sr(a),fu(i)}}resolveInjectorInitializers(){const t=fu(this),n=Sr(void 0);try{const r=this.get(em.multi,at,Me.Self);for(const i of r)i()}finally{fu(t),Sr(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ut(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(t){let n=Uo(t=Se(t))?t:Se(t&&t.provide);const r=function OT(e){return td(e)?Oi(void 0,e.useValue):Oi(um(e),Tu)}(t);if(Uo(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Oi(void 0,Tu,!0),i.factory=()=>Ic(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Tu&&(n.value=AT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function PT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Se(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function sd(e){const t=rn(e),n=null!==t?t.factory:jo(e);if(null!==n)return n;if(e instanceof Ve)throw new Ue(204,!1);if(e instanceof Function)return function IT(e){const t=e.length;if(t>0)throw function Is(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ue(204,!1);const n=function Q(e){const t=e&&(e[on]||e[Ha]);if(t){const n=function Ae(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ue(204,!1)}function um(e,t,n){let r;if(Uo(e)){const i=Se(e);return jo(i)||sd(i)}if(td(e))r=()=>Se(e.useValue);else if(function im(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ic(e.deps||[]));else if(function om(e){return!(!e||!e.useExisting)}(e))r=()=>ve(Se(e.useExisting));else{const i=Se(e&&(e.useClass||e.provide));if(!function MT(e){return!!e.deps}(e))return jo(i)||sd(i);r=()=>new i(...Ic(e.deps))}return r}function Oi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function RT(e){return!!e.\u0275providers}function ad(e,t){for(const n of e)Array.isArray(n)?ad(n,t):RT(n)?ad(n.\u0275providers,t):t(n)}function lm(e,t=null,n=null,r){const i=cm(e,t,n,r);return i.resolveInjectorInitializers(),i}function cm(e,t=null,n=null,r,i=new Set){const a=[n||at,ET(e)];return r=r||("object"==typeof e?void 0:ut(e)),new am(a,t||id(),r||null,i)}let Dn=(()=>{class e{static create(n,r){if(Array.isArray(n))return lm({name:""},r,n,"");{const i=n.name??"";return lm({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=Os,e.NULL=new sm,e.\u0275prov=De({token:e,providedIn:"any",factory:()=>ve(nd)}),e.__NG_ELEMENT_ID__=-1,e})();function de(e,t=Me.Default){const n=le();return null===n?ve(e,t):Bp(Gt(),n,Se(e),t)}function fd(){throw new Error("invalid")}function Cu(e,t){return e<<17|t<<2}function fr(e){return e>>17&32767}function hd(e){return 2|e}function Jr(e){return(131068&e)>>2}function pd(e,t){return-131069&e|t<<2}function gd(e){return 1|e}function Sm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],a=n[r+1];if(-1!==a){const d=e.data[a];mc(i),d.contentQueries(2,t[a],a)}}}function Us(e,t,n,r,i,a,d,h,y,C,M){const N=t.blueprint.slice();return N[0]=i,N[2]=76|r,(null!==M||e&&1024&e[2])&&(N[2]|=1024),wp(N),N[3]=N[15]=e,N[8]=n,N[10]=d||e&&e[10],N[11]=h||e&&e[11],N[12]=y||e&&e[12]||null,N[9]=C||e&&e[9]||null,N[6]=a,N[20]=function _x(){return vx++}(),N[21]=M,N[16]=2==t.type?e[16]:N,N}function Pi(e,t,n,r,i){let a=e.data[t];if(null===a)a=function Ed(e,t,n,r,i){const a=Tp(),d=fc(),y=e.data[t]=function lE(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=y),null!==a&&(d?null==a.child&&null!==y.parent&&(a.child=y):null===a.next&&(a.next=y)),y}(e,t,n,r,i),function YD(){return Be.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;const d=function ws(){const e=Be.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===d?-1:d.injectorIndex}return Ir(a,!0),a}function Ni(e,t,n,r){if(0===n)return-1;const i=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Hs(e,t,n){Qa(t);try{const r=e.viewQuery;null!==r&&Rd(1,r,n);const i=e.template;null!==i&&Mm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Sm(e,t),e.staticViewQueries&&Rd(2,e.viewQuery,n);const a=e.components;null!==a&&function sE(e,t){for(let n=0;n<t.length;n++)AE(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ja()}}function Ri(e,t,n,r){const i=t[2];if(128!=(128&i)){Qa(t);try{wp(t),function Ep(e){return Be.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Mm(e,t,n,2,r);const d=3==(3&i);if(d){const C=e.preOrderCheckHooks;null!==C&&tu(t,C,null)}else{const C=e.preOrderHooks;null!==C&&nu(t,C,0,null),yc(t,0)}if(function CE(e){for(let t=Gc(e);null!==t;t=zc(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],a=i[3];0==(512&i[2])&&lc(a,1),i[2]|=512}}}(t),function EE(e){for(let t=Gc(e);null!==t;t=zc(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];uc(r)&&Ri(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Sm(e,t),d){const C=e.contentCheckHooks;null!==C&&tu(t,C)}else{const C=e.contentHooks;null!==C&&nu(t,C,1),yc(t,1)}!function oE(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)_o(~i);else{const a=i,d=n[++r],h=n[++r];KD(d,a),h(2,t[a])}}}finally{_o(-1)}}(e,t);const h=e.components;null!==h&&function iE(e,t){for(let n=0;n<t.length;n++)SE(e,t[n])}(t,h);const y=e.viewQuery;if(null!==y&&Rd(2,y,r),d){const C=e.viewCheckHooks;null!==C&&tu(t,C)}else{const C=e.viewHooks;null!==C&&nu(t,C,2),yc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,lc(t[3],-1))}finally{Ja()}}}function aE(e,t,n,r){const i=t[10],d=function _p(e){return 4==(4&e[2])}(t);try{!d&&i.begin&&i.begin(),d&&Hs(e,t,r),Ri(e,t,n,r)}finally{!d&&i.end&&i.end()}}function Mm(e,t,n,r,i){const a=_n(),d=2&r;try{_o(-1),d&&t.length>22&&Xg(e,t,22,!1),n(r,i)}finally{_o(a)}}function Cd(e,t,n){!xp()||(function yE(e,t,n,r){const i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||Ts(n,t),un(r,t);const d=n.initialInputs;for(let h=i;h<a;h++){const y=e.data[h],C=cr(y);C&&DE(t,n,y);const M=Es(t,e,h,n);un(M,t),null!==d&&xE(0,h-i,M,y,0,d),C&&(Fn(n.index,t)[8]=M)}}(e,t,n,er(n,t)),128==(128&n.flags)&&function bE(e,t,n){const r=n.directiveStart,i=n.directiveEnd,a=n.index,d=function XD(){return Be.lFrame.currentDirectiveIndex}();try{_o(a);for(let h=r;h<i;h++){const y=e.data[h],C=t[h];pc(h),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&jm(y,C)}}finally{_o(-1),pc(d)}}(e,t,n))}function Sd(e,t,n=er){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const d=r[a+1],h=-1===d?n(t,e):e[d];e[i++]=h}}}function Nm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Iu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Iu(e,t,n,r,i,a,d,h,y,C){const M=22+r,N=M+i,$=function uE(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:He);return n}(M,N),B="function"==typeof C?C():C;return $[1]={type:e,blueprint:$,template:n,queries:null,viewQuery:h,declTNode:t,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:y,consts:B,incompleteFirstPass:!1}}function Lm(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function jn(e,t,n,r,i,a,d,h){const y=er(t,n);let M,C=t.inputs;!h&&null!=C&&(M=C[r])?(Xm(e,n,M,r,i),Ya(t)&&function fE(e,t){const n=Fn(t,e);16&n[2]||(n[2]|=32)}(n,t.index)):3&t.type&&(r=function dE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=d?d(i,t.value||"",r):i,It(a)?a.setProperty(y,r,i):vc(r)||(y.setProperty?y.setProperty(r,i):y[r]=i))}function Ad(e,t,n,r){let i=!1;if(xp()){const a=function vE(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let a=0;a<r.length;a++){const d=r[a];Yg(n,d.selectors,!1)&&(i||(i=[]),au(Ts(n,t),e,d.type),cr(d)?(Bm(e,n),i.unshift(d)):i.push(d))}return i}(e,t,n),d=null===r?null:{"":-1};if(null!==a){i=!0,Um(n,e.data.length,a.length);for(let M=0;M<a.length;M++){const N=a[M];N.providersResolver&&N.providersResolver(N)}let h=!1,y=!1,C=Ni(e,t,a.length,null);for(let M=0;M<a.length;M++){const N=a[M];n.mergedAttrs=ou(n.mergedAttrs,N.hostAttrs),Hm(e,n,t,C,N),wE(C,N,d),null!==N.contentQueries&&(n.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(n.flags|=128);const $=N.type.prototype;!h&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),h=!0),!y&&($.ngOnChanges||$.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),y=!0),C++}!function cE(e,t){const r=t.directiveEnd,i=e.data,a=t.attrs,d=[];let h=null,y=null;for(let C=t.directiveStart;C<r;C++){const M=i[C],N=M.inputs,$=null===a||Wg(t)?null:TE(N,a);d.push($),h=Lm(N,C,h),y=Lm(M.outputs,C,y)}null!==h&&(h.hasOwnProperty("class")&&(t.flags|=16),h.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=d,t.inputs=h,t.outputs=y}(e,n)}d&&function _E(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=n[t[i+1]];if(null==a)throw new Ue(-301,!1);r.push(t[i],a)}}}(n,r,d)}return n.mergedAttrs=ou(n.mergedAttrs,n.attrs),i}function $m(e,t,n,r,i,a){const d=a.hostBindings;if(d){let h=e.hostBindingOpCodes;null===h&&(h=e.hostBindingOpCodes=[]);const y=~t.index;(function mE(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(h)!=y&&h.push(y),h.push(r,i,d)}}function jm(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Bm(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function wE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;cr(t)&&(n[""]=e)}}function Um(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Hm(e,t,n,r,i){e.data[r]=i;const a=i.factory||(i.factory=jo(i.type)),d=new Ds(a,cr(i),de);e.blueprint[r]=d,n[r]=d,$m(e,t,0,r,Ni(e,n,i.hostVars,He),i)}function DE(e,t,n){const r=er(t,e),i=Nm(n),a=e[10],d=Ou(e,Us(e,i,null,n.onPush?32:16,r,t,a,a.createRenderer(r,n),null,null,null));e[t.index]=d}function xE(e,t,n,r,i,a){const d=a[t];if(null!==d){const h=r.setInput;for(let y=0;y<d.length;){const C=d[y++],M=d[y++],N=d[y++];null!==h?r.setInput(n,N,C,M):n[M]=N}}}function TE(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Gm(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function SE(e,t){const n=Fn(t,e);if(uc(n)){const r=n[1];48&n[2]?Ri(r,n,r.template,n[8]):n[5]>0&&Od(n)}}function Od(e){for(let r=Gc(e);null!==r;r=zc(r))for(let i=10;i<r.length;i++){const a=r[i];if(512&a[2]){const d=a[1];Ri(d,a,d.template,a[8])}else a[5]>0&&Od(a)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Fn(n[r],e);uc(i)&&i[5]>0&&Od(i)}}function AE(e,t){const n=Fn(t,e),r=n[1];(function IE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Hs(r,n,n[8])}function Ou(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Md(e){for(;e;){e[2]|=32;const t=js(e);if(CD(e)&&!t)return e;e=t}return null}function zm(e){!function Pd(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=_u(n);if(null!==r){const i=r[1];aE(i,r,i.template,n)}}}(e[8])}function Rd(e,t,n){mc(0),t(e,n)}const ME=(()=>Promise.resolve(null))();function qm(e){return e[7]||(e[7]=[])}function Wm(e){return e.cleanup||(e.cleanup=[])}function Km(e,t){const n=e[9],r=n?n.get(Si,null):null;r&&r.handleError(t)}function Xm(e,t,n,r,i){for(let a=0;a<n.length;){const d=n[a++],h=n[a++],y=t[d],C=e.data[d];null!==C.setInput?C.setInput(y,i,r,h):y[h]=i}}function eo(e,t,n){const r=Xa(t,e);!function Ig(e,t,n){It(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function Mu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(let d=0;d<t.length;d++){const h=t[d];"number"==typeof h?a=h:1==a?i=ds(i,h):2==a&&(r=ds(r,h+": "+t[++d]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function UE(e,t){eu(_u(e)[1],Gt())}function dt(e){let t=function uy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(cr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ue(903,"");i=t.\u0275dir}if(i){if(n){r.push(i);const d=e;d.inputs=kd(e.inputs),d.declaredInputs=kd(e.declaredInputs),d.outputs=kd(e.outputs);const h=i.hostBindings;h&&qE(e,h);const y=i.viewQuery,C=i.contentQueries;if(y&&GE(e,y),C&&zE(e,C),mo(e.inputs,i.inputs),mo(e.declaredInputs,i.declaredInputs),mo(e.outputs,i.outputs),cr(i)&&i.data.animation){const M=e.data;M.animation=(M.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let d=0;d<a.length;d++){const h=a[d];h&&h.ngInherit&&h(e),h===dt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function HE(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ou(i.hostAttrs,n=ou(n,i.hostAttrs))}}(r)}function kd(e){return e===ci?{}:e===at?[]:e}function GE(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function zE(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,a)=>{t(r,i,a),n(r,i,a)}:t}function qE(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let Pu=null;function Go(){if(!Pu){const e=ht.Symbol;if(e&&e.iterator)Pu=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Pu=r)}}}return Pu}function Gs(e){return!!function Ld(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Go()in e)}function ln(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ki(e,t,n,r){return ln(e,mi(),n)?t+Le(n)+r:He}function qs(e,t,n,r,i,a,d,h){const y=le(),C=tt(),M=e+22,N=C.firstCreatePass?function JE(e,t,n,r,i,a,d,h,y){const C=t.consts,M=Pi(t,e,4,d||null,vo(C,h));Ad(t,n,M,vo(C,y)),eu(t,M);const N=M.tViews=Iu(2,M,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,C);return null!==t.queries&&(t.queries.template(t,M),N.queries=t.queries.embeddedTView(M)),M}(M,C,y,t,n,r,i,a,d):C.data[M];Ir(N,!1);const $=y[11].createComment("");Du(C,y,$,N),un($,y),Ou(y,y[M]=Gm($,y,$,N)),Ka(N)&&Cd(C,y,N),null!=d&&Sd(y,N,h)}function qo(e,t,n){const r=le();return ln(r,mi(),t)&&jn(tt(),Ot(),r,e,t,r[11],n,!1),qo}function Vd(e,t,n,r,i){const d=i?"class":"style";Xm(e,n,t.inputs[d],d,r)}function xn(e,t,n,r){const i=le(),a=tt(),d=22+e,h=i[11],y=i[d]=Wc(h,t,function o1(){return Be.lFrame.currentNamespace}()),C=a.firstCreatePass?function nC(e,t,n,r,i,a,d){const h=t.consts,C=Pi(t,e,2,i,vo(h,a));return Ad(t,n,C,vo(h,d)),null!==C.attrs&&Mu(C,C.attrs,!1),null!==C.mergedAttrs&&Mu(C,C.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,C),C}(d,a,i,0,t,n,r):a.data[d];Ir(C,!0);const M=C.mergedAttrs;null!==M&&ru(h,y,M);const N=C.classes;null!==N&&Jc(h,y,N);const $=C.styles;return null!==$&&Gg(h,y,$),64!=(64&C.flags)&&Du(a,i,y,C),0===function UD(){return Be.lFrame.elementDepthCount}()&&un(y,i),function HD(){Be.lFrame.elementDepthCount++}(),Ka(C)&&(Cd(a,i,C),function Pm(e,t,n){if(ec(t)){const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const d=e.data[a];d.contentQueries&&d.contentQueries(1,n[a],a)}}}(a,C,i)),null!==r&&Sd(i,C),xn}function cn(){let e=Gt();fc()?function hc(){Be.lFrame.isParent=!1}():(e=e.parent,Ir(e,!1));const t=e;!function GD(){Be.lFrame.elementDepthCount--}();const n=tt();return n.firstCreatePass&&(eu(n,e),ec(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function l1(e){return 0!=(16&e.flags)}(t)&&Vd(n,t,le(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function c1(e){return 0!=(32&e.flags)}(t)&&Vd(n,t,le(),t.stylesWithoutHost,!1),cn}function Gi(e,t,n,r){return xn(e,t,n,r),cn(),Gi}function Ws(e){return!!e&&"function"==typeof e.then}const Ud=function _y(e){return!!e&&"function"==typeof e.subscribe};function Jt(e,t,n,r){const i=le(),a=tt(),d=Gt();return function Dy(e,t,n,r,i,a,d,h){const y=Ka(r),M=e.firstCreatePass&&Wm(e),N=t[8],$=qm(t);let B=!0;if(3&r.type||h){const fe=er(r,t),ue=h?h(fe):fe,he=$.length,oe=h?xe=>h(kt(xe[r.index])):r.index;if(It(n)){let xe=null;if(!h&&y&&(xe=function oC(e,t,n,r){const i=e.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const d=i[a];if(d===n&&i[a+1]===r){const h=t[7],y=i[a+2];return h.length>y?h[y]:null}"string"==typeof d&&(a+=2)}return null}(e,t,i,r.index)),null!==xe)(xe.__ngLastListenerFn__||xe).__ngNextListenerFn__=a,xe.__ngLastListenerFn__=a,B=!1;else{a=Hd(r,t,N,a,!1);const Qe=n.listen(ue,i,a);$.push(a,Qe),M&&M.push(i,oe,he,he+1)}}else a=Hd(r,t,N,a,!0),ue.addEventListener(i,a,d),$.push(a),M&&M.push(i,oe,he,d)}else a=Hd(r,t,N,a,!1);const Y=r.outputs;let ee;if(B&&null!==Y&&(ee=Y[i])){const fe=ee.length;if(fe)for(let ue=0;ue<fe;ue+=2){const _t=t[ee[ue]][ee[ue+1]].subscribe(a),oi=$.length;$.push(a,_t),M&&M.push(i,r.index,oi,-(oi+1))}}}(a,i,i[11],d,e,t,!!n,r),Jt}function xy(e,t,n,r){try{return!1!==n(r)}catch(i){return Km(e,i),!1}}function Hd(e,t,n,r,i){return function a(d){if(d===Function)return r;Md(2&e.flags?Fn(e.index,t):t);let y=xy(t,0,r,d),C=a.__ngNextListenerFn__;for(;C;)y=xy(t,0,C,d)&&y,C=C.__ngNextListenerFn__;return i&&!1===y&&(d.preventDefault(),d.returnValue=!1),y}}function Ys(e=1){return function QD(e){return(Be.lFrame.contextLView=function JD(e,t){for(;e>0;)t=t[15],e--;return t}(e,Be.lFrame.contextLView))[8]}(e)}function Gd(e,t,n){return Ru(e,"",t,"",n),Gd}function Ru(e,t,n,r,i){const a=le(),d=ki(a,t,n,r);return d!==He&&jn(tt(),Ot(),a,e,d,a[11],i,!1),Ru}function Py(e,t,n,r,i){const a=e[n+1],d=null===t;let h=r?fr(a):Jr(a),y=!1;for(;0!==h&&(!1===y||d);){const M=e[h+1];cC(e[h],t)&&(y=!0,e[h+1]=r?gd(M):hd(M)),h=r?fr(M):Jr(M)}y&&(e[n+1]=r?hd(a):gd(a))}function cC(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ti(e,t)>=0}function Fu(e,t){return function pr(e,t,n,r){const i=le(),a=tt(),d=function Kr(e){const t=Be.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);a.firstUpdatePass&&function By(e,t,n,r){const i=e.data;if(null===i[n+1]){const a=i[_n()],d=function jy(e,t){return t>=e.expandoStartIndex}(e,n);(function zy(e,t){return 0!=(e.flags&(t?16:32))})(a,r)&&null===t&&!d&&(t=!1),t=function vC(e,t,n,r){const i=function gc(e){const t=Be.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ks(n=zd(null,e,t,n,r),t.attrs,r),a=null);else{const d=t.directiveStylingLast;if(-1===d||e[d]!==i)if(n=zd(i,e,t,n,r),null===a){let y=function _C(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Jr(r))return e[fr(r)]}(e,t,r);void 0!==y&&Array.isArray(y)&&(y=zd(null,e,t,y[1],r),y=Ks(y,t.attrs,r),function wC(e,t,n,r){e[fr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,y))}else a=function DC(e,t,n){let r;const i=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<i;a++)r=Ks(r,e[a].hostAttrs,n);return Ks(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function uC(e,t,n,r,i,a){let d=a?t.classBindings:t.styleBindings,h=fr(d),y=Jr(d);e[r]=n;let M,C=!1;if(Array.isArray(n)){const N=n;M=N[1],(null===M||Ti(N,M)>0)&&(C=!0)}else M=n;if(i)if(0!==y){const $=fr(e[h+1]);e[r+1]=Cu($,h),0!==$&&(e[$+1]=pd(e[$+1],r)),e[h+1]=function YT(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=Cu(h,0),0!==h&&(e[h+1]=pd(e[h+1],r)),h=r;else e[r+1]=Cu(y,0),0===h?h=r:e[y+1]=pd(e[y+1],r),y=r;C&&(e[r+1]=hd(e[r+1])),Py(e,M,r,!0),Py(e,M,r,!1),function lC(e,t,n,r,i){const a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Ti(a,t)>=0&&(n[r+1]=gd(n[r+1]))}(t,M,e,r,a),d=Cu(h,y),a?t.classBindings=d:t.styleBindings=d}(i,a,t,n,d,r)}}(a,e,d,r),t!==He&&ln(i,d,t)&&function Hy(e,t,n,r,i,a,d,h){if(!(3&t.type))return;const y=e.data,C=y[h+1];ku(function vm(e){return 1==(1&e)}(C)?Gy(y,t,n,i,Jr(C),d):void 0)||(ku(a)||function bm(e){return 2==(2&e)}(C)&&(a=Gy(y,null,n,i,h,d)),function uT(e,t,n,r,i){const a=It(e);if(t)i?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{let d=-1===r.indexOf("-")?void 0:Vn.DashCase;if(null==i)a?e.removeStyle(n,r,d):n.style.removeProperty(r);else{const h="string"==typeof i&&i.endsWith("!important");h&&(i=i.slice(0,-10),d|=Vn.Important),a?e.setStyle(n,r,i,d):n.style.setProperty(r,i,h?"important":"")}}}(r,d,Xa(_n(),n),i,a))}(a,a.data[_n()],i,i[11],e,i[d+1]=function EC(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ut(function Do(e){return e instanceof class lg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,d)}(e,t,null,!0),Fu}function zd(e,t,n,r,i){let a=null;const d=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<d&&(a=t[h],r=Ks(r,a.hostAttrs,i),a!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function Ks(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let a=0;a<t.length;a++){const d=t[a];"number"==typeof d?i=d:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ln(e,d,!!n||t[++a]))}return void 0===e?null:e}function Gy(e,t,n,r,i,a){const d=null===t;let h;for(;i>0;){const y=e[i],C=Array.isArray(y),M=C?y[1]:y,N=null===M;let $=n[i+1];$===He&&($=N?at:void 0);let B=N?Cc($,r):M===r?$:void 0;if(C&&!ku(B)&&(B=Cc(y,r)),ku(B)&&(h=B,d))return h;const Y=e[i+1];i=d?fr(Y):Jr(Y)}if(null!==t){let y=a?t.residualClasses:t.residualStyles;null!=y&&(h=Cc(y,r))}return h}function ku(e){return void 0!==e}function to(e,t=""){const n=le(),r=tt(),i=e+22,a=r.firstCreatePass?Pi(r,i,1,t,null):r.data[i],d=n[i]=function qc(e,t){return It(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Du(r,n,d,a),Ir(a,!1)}function Lu(e){return qi("",e,""),Lu}function qi(e,t,n){const r=le(),i=ki(r,e,t,n);return i!==He&&eo(r,_n(),i),qi}const Yi="en-US";let hb=Yi;function Yd(e,t,n,r,i){if(e=Se(e),Array.isArray(e))for(let a=0;a<e.length;a++)Yd(e[a],t,n,r,i);else{const a=tt(),d=le();let h=Uo(e)?e:Se(e.provide),y=um(e);const C=Gt(),M=1048575&C.providerIndexes,N=C.directiveStart,$=C.providerIndexes>>20;if(Uo(e)||!e.multi){const B=new Ds(y,i,de),Y=Xd(h,t,i?M:M+$,N);-1===Y?(au(Ts(C,d),a,h),Kd(a,e,t.length),t.push(h),C.directiveStart++,C.directiveEnd++,i&&(C.providerIndexes+=1048576),n.push(B),d.push(B)):(n[Y]=B,d[Y]=B)}else{const B=Xd(h,t,M+$,N),Y=Xd(h,t,M,M+$),ee=B>=0&&n[B],fe=Y>=0&&n[Y];if(i&&!fe||!i&&!ee){au(Ts(C,d),a,h);const ue=function HS(e,t,n,r,i){const a=new Ds(e,n,de);return a.multi=[],a.index=t,a.componentProviders=0,Vb(a,i,r&&!n),a}(i?US:BS,n.length,i,r,y);!i&&fe&&(n[Y].providerFactory=ue),Kd(a,e,t.length,0),t.push(h),C.directiveStart++,C.directiveEnd++,i&&(C.providerIndexes+=1048576),n.push(ue),d.push(ue)}else Kd(a,e,B>-1?B:Y,Vb(n[i?Y:B],y,!i&&r));!i&&r&&fe&&n[Y].componentProviders++}}}function Kd(e,t,n,r){const i=Uo(t),a=function ST(e){return!!e.useClass}(t);if(i||a){const y=(a?Se(t.useClass):t).prototype.ngOnDestroy;if(y){const C=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const M=C.indexOf(n);-1===M?C.push(n,[r,y]):C[M+1].push(r,y)}else C.push(n,y)}}}function Vb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Xd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function BS(e,t,n,r){return Zd(this.multi,[])}function US(e,t,n,r){const i=this.multi;let a;if(this.providerFactory){const d=this.providerFactory.componentProviders,h=Es(n,n[1],this.providerFactory.index,r);a=h.slice(0,d),Zd(i,a);for(let y=d;y<h.length;y++)a.push(h[y])}else a=[],Zd(i,a);return a}function Zd(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function xt(e,t=[]){return n=>{n.providersResolver=(r,i)=>function jS(e,t,n){const r=tt();if(r.firstCreatePass){const i=cr(e);Yd(n,r.data,r.blueprint,i,!0),Yd(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class zS{resolveComponentFactory(t){throw function GS(e){const t=Error(`No component factory found for ${ut(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let ea=(()=>{class e{}return e.NULL=new zS,e})();class Eo{}class jb{}class Bb{}function WS(){return Xi(Gt(),le())}function Xi(e,t){return new Bn(er(e,t))}let Bn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=WS,e})();class Ub{}let no=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function XS(){const e=le(),n=Fn(Gt().index,e);return function KS(e){return e[11]}(On(n)?n:e)}(),e})(),ZS=(()=>{class e{}return e.\u0275prov=De({token:e,providedIn:"root",factory:()=>null}),e})();class ta{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const QS=new ta("14.0.0"),Qd={};function Uu(e,t,n,r,i=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(kt(a)),lr(a))for(let h=10;h<a.length;h++){const y=a[h],C=y[1].firstChild;null!==C&&Uu(y[1],y,C,r)}const d=n.type;if(8&d)Uu(e,t,n.child,r);else if(32&d){const h=Hc(n,t);let y;for(;y=h();)r.push(y)}else if(16&d){const h=Bg(t,n);if(Array.isArray(h))r.push(...h);else{const y=js(t[16]);Uu(y[1],y,h,r,!0)}}n=i?n.projectionNext:n.next}return r}class na{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Uu(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(lr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Yc(t,r),lu(n,r))}this._attachedToViewContainer=!1}Mg(this._lView[1],this._lView)}onDestroy(t){!function km(e,t,n,r){const i=qm(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Wm(e).push(r,i.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Md(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Nd(e,t,n){const r=t[10];r.begin&&r.begin();try{Ri(e,t,e.template,n)}catch(i){throw Km(t,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qx(e,t){Bs(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ue(902,"");this._appRef=t}}class JS extends na{constructor(t){super(t),this._view=t}detectChanges(){zm(this._view)}checkNoChanges(){}get context(){return null}}class Jd extends ea{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pt(t);return new ef(n,this.ngModule)}}function Hb(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class tA{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const i=this.injector.get(t,Qd,r);return i!==Qd||n===Qd?i:this.parentInjector.get(t,n,r)}}class ef extends Bb{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function bT(e){return e.map(yT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Hb(this.componentDef.inputs)}get outputs(){return Hb(this.componentDef.outputs)}create(t,n,r,i){let a=(i=i||this.ngModule)instanceof Ho?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const d=a?new tA(t,a):t,h=d.get(Ub,vp),y=d.get(ZS,null),C=h.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",N=r?function Fm(e,t,n){if(It(e))return e.selectRootElement(t,n===Ar.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(C,r,this.componentDef.encapsulation):Wc(h.createRenderer(null,this.componentDef),M,function eA(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(M)),$=this.componentDef.onPush?288:272,B=function ay(e,t){return{components:[],scheduler:e||Hx,clean:ME,playerHandler:t||null,flags:0}}(),Y=Iu(0,null,null,1,0,null,null,null,null,null),ee=Us(null,Y,B,$,null,null,h,C,y,d,null);let fe,ue;Qa(ee);try{const he=function iy(e,t,n,r,i,a){const d=n[1];n[22]=e;const y=Pi(d,22,2,"#host",null),C=y.mergedAttrs=t.hostAttrs;null!==C&&(Mu(y,C,!0),null!==e&&(ru(i,e,C),null!==y.classes&&Jc(i,e,y.classes),null!==y.styles&&Gg(i,e,y.styles)));const M=r.createRenderer(e,t),N=Us(n,Nm(t),null,t.onPush?32:16,n[22],y,r,M,a||null,null,null);return d.firstCreatePass&&(au(Ts(y,n),d,t.type),Bm(d,y),Um(y,n.length,1)),Ou(n,N),n[22]=N}(N,this.componentDef,ee,h,C);if(N)if(r)ru(C,N,["ng-version",QS.full]);else{const{attrs:oe,classes:xe}=function vT(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!dr(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);oe&&ru(C,N,oe),xe&&xe.length>0&&Jc(C,N,xe.join(" "))}if(ue=ac(Y,22),void 0!==n){const oe=ue.projection=[];for(let xe=0;xe<this.ngContentSelectors.length;xe++){const Qe=n[xe];oe.push(null!=Qe?Array.from(Qe):null)}}fe=function sy(e,t,n,r,i){const a=n[1],d=function gE(e,t,n){const r=Gt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hm(e,r,t,Ni(e,t,1,null),n));const i=Es(t,e,r.directiveStart,r);un(i,t);const a=er(r,t);return a&&un(a,t),i}(a,n,t);if(r.components.push(d),e[8]=d,i&&i.forEach(y=>y(d,t)),t.contentQueries){const y=Gt();t.contentQueries(1,d,y.directiveStart)}const h=Gt();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(_o(h.index),$m(n[1],h,0,h.directiveStart,h.directiveEnd,t),jm(t,d)),d}(he,this.componentDef,ee,B,[UE]),Hs(Y,ee,null)}finally{Ja()}return new rA(this.componentType,fe,Xi(ue,ee),ee,ue)}}class rA extends class qS{}{constructor(t,n,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=n,this.hostView=this.changeDetectorRef=new JS(i),this.componentType=t}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Gb extends Eo{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jd(this);const r=Nn(t);this._bootstrapComponents=Qr(r.bootstrap),this._r3Injector=cm(t,n,[{provide:Eo,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],ut(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(t)}get(t,n=Dn.THROW_IF_NOT_FOUND,r=Me.Default){return t===Dn||t===Eo||t===nd?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tf extends jb{constructor(t){super(),this.moduleType=t}create(t){return new Gb(this.moduleType,t)}}class iA extends Eo{constructor(t,n,r){super(),this.componentFactoryResolver=new Jd(this),this.instance=null;const i=new am([...t,{provide:Eo,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],n||id(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Hu(e,t=null,n=null){return new iA(e,t,n).injector}function nf(e){return t=>{setTimeout(e,void 0,t)}}const Pt=class CA extends $e{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,a=n||(()=>null),d=r;if(t&&"object"==typeof t){const y=t;i=y.next?.bind(y),a=y.error?.bind(y),d=y.complete?.bind(y)}this.__isAsync&&(a=nf(a),i&&(i=nf(i)),d&&(d=nf(d)));const h=super.subscribe({next:i,error:a,complete:d});return t instanceof b&&t.add(h),h}};let ro=(()=>{class e{}return e.__NG_ELEMENT_ID__=OA,e})();const AA=ro,IA=class extends AA{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,i=Us(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(i[19]=d.createEmbeddedView(r)),Hs(r,i,t),new na(i)}};function OA(){return function Gu(e,t){return 4&e.type?new IA(t,e,Xi(e,t)):null}(Gt(),le())}let mr=(()=>{class e{}return e.__NG_ELEMENT_ID__=MA,e})();function MA(){return function Qb(e,t){let n;const r=t[e.index];if(lr(r))n=r;else{let i;if(8&e.type)i=kt(r);else{const a=t[11];i=a.createComment("");const d=er(e,t);Bo(a,wu(a,d),i,function iT(e,t){return It(e)?e.nextSibling(t):t.nextSibling}(a,d),!1)}t[e.index]=n=Gm(r,t,i,e),Ou(t,n)}return new Xb(n,e,t)}(Gt(),le())}const PA=mr,Xb=class extends PA{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Xi(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){const t=su(this._hostTNode,this._hostLView);if(kp(t)){const n=bi(t,this._hostLView),r=yi(t);return new vi(n[1].data[r+8],n)}return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Zb(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const d=t.createEmbeddedView(n||{},a);return this.insert(d,i),d}createComponent(t,n,r,i,a){const d=t&&!function As(e){return"function"==typeof e}(t);let h;if(d)h=n;else{const N=n||{};h=N.index,r=N.injector,i=N.projectableNodes,a=N.environmentInjector||N.ngModuleRef}const y=d?t:new ef(pt(t)),C=r||this.parentInjector;if(!a&&null==y.ngModule){const $=(d?C:this.parentInjector).get(Ho,null);$&&(a=$)}const M=y.create(C,i,void 0,a);return this.insert(M.hostView,h),M}insert(t,n){const r=t._lView,i=r[1];if(function BD(e){return lr(e[3])}(r)){const M=this.indexOf(t);if(-1!==M)this.detach(M);else{const N=r[3],$=new Xb(N,N[6],N[3]);$.detach($.indexOf(t))}}const a=this._adjustIndex(n),d=this._lContainer;!function eT(e,t,n,r){const i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],Wp(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const d=t[17];null!==d&&n!==d&&function tT(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(d,t);const h=t[19];null!==h&&h.insertView(e),t[2]|=64}(i,r,d,a);const h=Zc(a,d),y=r[11],C=wu(y,d[7]);return null!==C&&function Zx(e,t,n,r,i,a){r[0]=i,r[6]=t,Bs(e,r,n,1,i,a)}(i,d[6],y,r,C,h),t.attachToViewContainerRef(),Wp(of(d),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Zb(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Yc(this._lContainer,n);r&&(lu(of(this._lContainer),n),Mg(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Yc(this._lContainer,n);return r&&null!=lu(of(this._lContainer),n)?new na(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Zb(e){return e[8]}function of(e){return e[8]||(e[8]=[])}function qu(...e){}const bf=new Ve("Application Initializer");let Wu=(()=>{class e{constructor(n){this.appInits=n,this.resolve=qu,this.reject=qu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(Ws(a))n.push(a);else if(Ud(a)){const d=new Promise((h,y)=>{a.subscribe({complete:h,error:y})});n.push(d)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ve(bf,8))},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const sa=new Ve("AppId",{providedIn:"root",factory:function Dv(){return`${vf()}${vf()}${vf()}`}});function vf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xv=new Ve("Platform Initializer"),_f=new Ve("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Tv=new Ve("appBootstrapListener");let uI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const oo=new Ve("LocaleId",{providedIn:"root",factory:()=>function R1(e,t=Me.Default){return ve(e,t)}(oo,Me.Optional|Me.SkipSelf)||function lI(){return typeof $localize<"u"&&$localize.locale||Yi}()});class dI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let wf=(()=>{class e{compileModuleSync(n){return new tf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=Qr(Nn(n).declarations).reduce((d,h)=>{const y=pt(h);return y&&d.push(new ef(y)),d},[]);return new dI(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const hI=(()=>Promise.resolve(0))();function Df(e){typeof Zone>"u"?hI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Vt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pt(!1),this.onMicrotaskEmpty=new Pt(!1),this.onStable=new Pt(!1),this.onError=new Pt(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function pI(){let e=ht.requestAnimationFrame,t=ht.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function yI(e){const t=()=>{!function mI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ht,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Tf(e),e.isCheckStableRunning=!0,xf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Tf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,a,d,h)=>{try{return Ev(e),n.invokeTask(i,a,d,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Cv(e)}},onInvoke:(n,r,i,a,d,h,y)=>{try{return Ev(e),n.invoke(i,a,d,h,y)}finally{e.shouldCoalesceRunChangeDetection&&t(),Cv(e)}},onHasTask:(n,r,i,a)=>{n.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,Tf(e),xf(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,i,a)=>(n.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const a=this._inner,d=a.scheduleEventTask("NgZoneEvent: "+i,t,gI,qu,qu);try{return a.runTask(d,n,r)}finally{a.cancelTask(d)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const gI={};function xf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ev(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cv(e){e._nesting--,xf(e)}class bI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pt,this.onMicrotaskEmpty=new Pt,this.onStable=new Pt,this.onError=new Pt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const Sv=new Ve(""),Yu=new Ve("");let Sf,Ef=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sf||(function vI(e){Sf=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vt.assertNotInAngularZone(),Df(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Df(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(ve(Vt),ve(Cf),ve(Yu))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),Cf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Sf?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Co=null;const Av=new Ve("AllowMultipleToken"),Iv=new Ve("PlatformOnDestroy");class Ov{constructor(t,n){this.name=t,this.token=n}}function Pv(e,t,n=[]){const r=`Platform: ${t}`,i=new Ve(r);return(a=[])=>{let d=Af();if(!d||d.injector.get(Av,!1)){const h=[...n,...a,{provide:i,useValue:!0}];e?e(h):function DI(e){if(Co&&!Co.get(Av,!1))throw new Ue(400,"");Co=e;const t=e.get(Rv);(function Mv(e){const t=e.get(xv,null);t&&t.forEach(n=>n())})(e)}(function Nv(e=[],t){return Dn.create({name:t,providers:[{provide:rd,useValue:"platform"},{provide:Iv,useValue:()=>Co=null},...e]})}(h,r))}return function TI(e){const t=Af();if(!t)throw new Ue(401,"");return t}()}}function Af(){return Co?.get(Rv)??null}let Rv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function EI(e,t){let n;return n="noop"===e?new bI:("zone.js"===e?void 0:e)||new Vt(t),n}(r?.ngZone,function Fv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),a=[{provide:Vt,useValue:i}];return i.run(()=>{const d=Dn.create({providers:a,parent:this.injector,name:n.moduleType.name}),h=n.create(d),y=h.injector.get(Si,null);if(!y)throw new Ue(402,"");return i.runOutsideAngular(()=>{const C=i.onError.subscribe({next:M=>{y.handleError(M)}});h.onDestroy(()=>{Xu(this._modules,h),C.unsubscribe()})}),function kv(e,t,n){try{const r=n();return Ws(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(y,i,()=>{const C=h.injector.get(Wu);return C.runInitializers(),C.donePromise.then(()=>(function pb(e){W(e,"Expected localeId to be defined"),"string"==typeof e&&(hb=e.toLowerCase().replace(/_/g,"-"))}(h.injector.get(oo,Yi)||Yi),this._moduleDoBootstrap(h),h))})})}bootstrapModule(n,r=[]){const i=Lv({},r);return function _I(e,t,n){const r=new tf(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ku);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ue(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._injector.get(Iv,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ve(Dn))},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Lv(e,t){return Array.isArray(t)?t.reduce(Lv,e):{...e,...t}}let Ku=(()=>{class e{constructor(n,r,i,a){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new ie(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),h=new ie(y=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Vt.assertNotInAngularZone(),Df(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Vt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{C.unsubscribe(),M.unsubscribe()}});this.isStable=function $a(...e){const t=Gr(e),n=function Ra(e,t){return"number"==typeof Fo(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Te(r[0]):Yn(n)(St(r,t)):Kn}(d,h.pipe(function cs(e={}){const{connector:t=(()=>new $e),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return a=>{let d=null,h=null,y=null,C=0,M=!1,N=!1;const $=()=>{h?.unsubscribe(),h=null},B=()=>{$(),d=y=null,M=N=!1},Y=()=>{const ee=d;B(),ee?.unsubscribe()};return Ce((ee,fe)=>{C++,!N&&!M&&$();const ue=y=y??t();fe.add(()=>{C--,0===C&&!N&&!M&&(h=go(Y,i))}),ue.subscribe(fe),d||(d=new j({next:he=>ue.next(he),error:he=>{N=!0,$(),h=go(B,n,he),ue.error(he)},complete:()=>{M=!0,$(),h=go(B,r),ue.complete()}}),St(ee).subscribe(d))})(a)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Bb;if(!this._initStatus.done)throw!i&&function Qi(e){const t=pt(e)||mn(e)||yn(e);return null!==t&&t.standalone}(n),new Ue(405,false);let a;a=i?n:this._injector.get(ea).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const d=function wI(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Eo),y=a.create(Dn.NULL,[],r||a.selector,d),C=y.location.nativeElement,M=y.injector.get(Sv,null);return M?.registerApplication(C),y.onDestroy(()=>{this.detachView(y.hostView),Xu(this.components,y),M?.unregisterApplication(C)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Ue(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Xu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Tv,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Xu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ue(406,false);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ve(Vt),ve(Dn),ve(Si),ve(Wu))},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Xu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let $v=!0,Zu=(()=>{class e{}return e.__NG_ELEMENT_ID__=AI,e})();function AI(e){return function II(e,t,n){if(Ya(e)&&!n){const r=Fn(e.index,t);return new na(r,r)}return 47&e.type?new na(t[16],t):null}(Gt(),le(),16==(16&e))}class Gv{constructor(){}supports(t){return Gs(t)}create(t){return new FI(t)}}const RI=(e,t)=>t;class FI{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||RI}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,a=null;for(;n||r;){const d=!r||n&&n.currentIndex<qv(r,i,a)?n:r,h=qv(d,i,a),y=d.currentIndex;if(d===r)i--,r=r._nextRemoved;else if(n=n._next,null==d.previousIndex)i++;else{a||(a=[]);const C=h-i,M=y-i;if(C!=M){for(let $=0;$<C;$++){const B=$<a.length?a[$]:a[$]=0,Y=B+$;M<=Y&&Y<C&&(a[$]=B+1)}a[d.previousIndex]=M-C}}h!==y&&t(d,h,y)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Gs(t))throw new Ue(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,a,d,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)a=t[h],d=this._trackByFn(h,a),null!==n&&Object.is(n.trackById,d)?(r&&(n=this._verifyReinsertion(n,a,d,h)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,d,h),r=!0),n=n._next}else i=0,function ZE(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Go()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,h=>{d=this._trackByFn(i,h),null!==n&&Object.is(n.trackById,d)?(r&&(n=this._verifyReinsertion(n,h,d,i)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,d,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,i)):t=this._addAfter(new kI(n,r),a,i),t}_verifyReinsertion(t,n,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,a=t._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new zv),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kI{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LI{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class zv{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new LI,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qv(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Yv(){return new el([new Gv])}let el=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Yv()),deps:[[e,new Ns,new Zr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Ue(901,"")}}return e.\u0275prov=De({token:e,providedIn:"root",factory:Yv}),e})();const UI=Pv(null,"core",[]);let HI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ve(Ku))},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({}),e})();let tl=null;function Vr(){return tl}const Cn=new Ve("DocumentToken");let ua=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=De({token:e,factory:function(){return function WI(){return ve(Xv)}()},providedIn:"platform"}),e})();const YI=new Ve("Location Initialized");let Xv=(()=>{class e extends ua{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vr().getBaseHref(this._doc)}onPopState(n){const r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){Zv()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){Zv()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(ve(Cn))},e.\u0275prov=De({token:e,factory:function(){return function KI(){return new Xv(ve(Cn))}()},providedIn:"platform"}),e})();function Zv(){return!!window.history.pushState}function Nf(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Qv(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function so(e){return e&&"?"!==e[0]?"?"+e:e}let es=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=De({token:e,factory:function(){return function XI(){const e=ve(Cn).location;return new Jv(ve(ua),e&&e.origin||"")}()},providedIn:"root"}),e})();const Rf=new Ve("appBaseHref");let Jv=(()=>{class e extends es{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Nf(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+so(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,a){const d=this.prepareExternalUrl(i+so(a));this._platformLocation.pushState(n,r,d)}replaceState(n,r,i,a){const d=this.prepareExternalUrl(i+so(a));this._platformLocation.replaceState(n,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ve(ua),ve(Rf,8))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),ZI=(()=>{class e extends es{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Nf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,a){let d=this.prepareExternalUrl(i+so(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(n,r,d)}replaceState(n,r,i,a){let d=this.prepareExternalUrl(i+so(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ve(ua),ve(Rf,8))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),Ff=(()=>{class e{constructor(n){this._subject=new Pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=Qv(e_(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+so(r))}normalize(n){return e.stripTrailingSlash(function JI(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,e_(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+so(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+so(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=so,e.joinWithSlash=Nf,e.stripTrailingSlash=Qv,e.\u0275fac=function(n){return new(n||e)(ve(es))},e.\u0275prov=De({token:e,factory:function(){return function QI(){return new Ff(ve(es))}()},providedIn:"root"}),e})();function e_(e){return e.replace(/\/index.html$/,"")}function l_(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}class V2{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let d_=(()=>{class e{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new V2(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,d),f_(h,i)}});for(let i=0,a=r.length;i<a;i++){const h=r.get(i).context;h.index=i,h.count=a,h.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{f_(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(de(mr),de(ro),de(el))},e.\u0275dir=Ne({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function f_(e,t){e.context.$implicit=t.item}let h_=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new $2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){p_("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){p_("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(de(mr),de(ro))},e.\u0275dir=Ne({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class $2{constructor(){this.$implicit=null,this.ngIf=null}}function p_(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ut(t)}'.`)}let fO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({}),e})();let mO=(()=>{class e{}return e.\u0275prov=De({token:e,providedIn:"root",factory:()=>new yO(ve(Cn),window)}),e})();class yO{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function bO(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=b_(this.window.history)||b_(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function b_(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class v_{}class Kf extends class vO extends class qI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function zI(e){tl||(tl=e)}(new Kf)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function _O(){return da=da||document.querySelector("base"),da?da.getAttribute("href"):null}();return null==n?null:function wO(e){dl=dl||document.createElement("a"),dl.setAttribute("href",e);const t=dl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return l_(document.cookie,t)}}let dl,da=null;const __=new Ve("TRANSITION_ID"),xO=[{provide:bf,useFactory:function DO(e,t,n){return()=>{n.get(Wu).donePromise.then(()=>{const r=Vr(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[__,Cn,Dn],multi:!0}];let EO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();const fl=new Ve("EventManagerPlugins");let hl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(n))return this._eventNameToPlugin.set(n,d),d}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ve(fl),ve(Vt))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();class w_{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Vr().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let D_=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),fa=(()=>{class e extends D_{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(x_),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(x_))}}return e.\u0275fac=function(n){return new(n||e)(ve(Cn))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();function x_(e){Vr().remove(e)}const Xf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zf=/%COMP%/g;function pl(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?pl(e,i,n):(i=i.replace(Zf,e),n.push(i))}return n}function C_(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Qf=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Jf(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ar.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new MO(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Ar.ShadowDom:return new PO(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=pl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ve(hl),ve(fa),ve(sa))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();class Jf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Xf[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(A_(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(A_(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const a=Xf[i];a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Xf[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Vn.DashCase|Vn.Important)?t.style.setProperty(n,r,i&Vn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,C_(r)):this.eventManager.addEventListener(t,n,C_(r))}}function A_(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class MO extends Jf{constructor(t,n,r,i){super(t),this.component=r;const a=pl(i+"-"+r.id,r.styles,[]);n.addStyles(a),this.contentAttr=function AO(e){return"_ngcontent-%COMP%".replace(Zf,e)}(i+"-"+r.id),this.hostAttr=function IO(e){return"_nghost-%COMP%".replace(Zf,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class PO extends Jf{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=pl(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const h=document.createElement("style");h.textContent=a[d],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let NO=(()=>{class e extends w_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(ve(Cn))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();const I_=["alt","control","meta","shift"],FO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O_={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let LO=(()=>{class e extends w_{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const a=e.parseEventName(r),d=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(n,a.domEventName,d))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(r.pop());let d="";if(I_.forEach(y=>{const C=r.indexOf(y);C>-1&&(r.splice(C,1),d+=y+".")}),d+=a,0!=r.length||0===a.length)return null;const h={};return h.domEventName=i,h.fullKey=d,h}static getEventFullKey(n){let r="",i=function VO(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&O_.hasOwnProperty(t)&&(t=O_[t]))}return FO[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),I_.forEach(a=>{a!=i&&kO[a](n)&&(r+=a+".")}),r+=i,r}static eventCallback(n,r,i){return a=>{e.getEventFullKey(a)===n&&i.runGuarded(()=>r(a))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ve(Cn))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();const UO=Pv(UI,"browser",[{provide:_f,useValue:"browser"},{provide:xv,useValue:function $O(){Kf.makeCurrent()},multi:!0},{provide:Cn,useFactory:function BO(){return function LD(e){ic=e}(document),document},deps:[]}]),P_=new Ve(""),N_=[{provide:Yu,useClass:class TO{addToWindow(t){ht.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},ht.getAllAngularTestabilities=()=>t.getAllTestabilities(),ht.getAllAngularRootElements=()=>t.getAllRootElements(),ht.frameworkStabilizers||(ht.frameworkStabilizers=[]),ht.frameworkStabilizers.push(r=>{const i=ht.getAllAngularTestabilities();let a=i.length,d=!1;const h=function(y){d=d||y,a--,0==a&&r(d)};i.forEach(function(y){y.whenStable(h)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Vr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Sv,useClass:Ef,deps:[Vt,Cf,Yu]},{provide:Ef,useClass:Ef,deps:[Vt,Cf,Yu]}],R_=[{provide:rd,useValue:"root"},{provide:Si,useFactory:function jO(){return new Si},deps:[]},{provide:fl,useClass:NO,multi:!0,deps:[Cn,Vt,_f]},{provide:fl,useClass:LO,multi:!0,deps:[Cn]},{provide:Qf,useClass:Qf,deps:[hl,fa,sa]},{provide:Ub,useExisting:Qf},{provide:D_,useExisting:fa},{provide:fa,useClass:fa,deps:[Cn]},{provide:hl,useClass:hl,deps:[fl,Vt]},{provide:v_,useClass:EO,deps:[]},[]];let HO=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:sa,useValue:n.appId},{provide:__,useExisting:sa},xO]}}}return e.\u0275fac=function(n){return new(n||e)(ve(P_,12))},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({providers:[...R_,...N_],imports:[fO,HI]}),e})(),F_=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(ve(Cn))},e.\u0275prov=De({token:e,factory:function(n){let r=null;return r=n?new n:function zO(){return new F_(ve(Cn))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:eM}=Array,{getPrototypeOf:tM,prototype:nM,keys:rM}=Object;function V_(e){if(1===e.length){const t=e[0];if(eM(t))return{args:t,keys:null};if(function oM(e){return e&&"object"==typeof e&&tM(e)===nM}(t)){const n=rM(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:iM}=Array;function $_(e){return Fe(t=>function sM(e,t){return iM(t)?e(...t):e(t)}(e,t))}function j_(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}let B_=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(de(no),de(Bn))},e.\u0275dir=Ne({type:e}),e})(),Ko=(()=>{class e extends B_{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function an(e){return bo(()=>{const t=e.prototype.constructor,n=t[Wr]||xc(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[Wr]||xc(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return a=>new a})}(e)))(r||e)}}(),e.\u0275dir=Ne({type:e,features:[dt]}),e})();const $r=new Ve("NgValueAccessor"),lM={provide:$r,useExisting:ct(()=>gl),multi:!0},dM=new Ve("CompositionEventMode");let gl=(()=>{class e extends B_{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cM(){const e=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(de(no),de(Bn),de(dM,8))},e.\u0275dir=Ne({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Jt("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[xt([lM]),dt]}),e})();const dn=new Ve("NgValidators"),Io=new Ve("NgAsyncValidators");function Q_(e){return null!=e}function J_(e){const t=Ws(e)?St(e):e;return Ud(t),t}function e0(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function t0(e,t){return t.map(n=>n(e))}function n0(e){return e.map(t=>function hM(e){return!e.validate}(t)?t:n=>t.validate(n))}function nh(e){return null!=e?function r0(e){if(!e)return null;const t=e.filter(Q_);return 0==t.length?null:function(n){return e0(t0(n,t))}}(n0(e)):null}function rh(e){return null!=e?function o0(e){if(!e)return null;const t=e.filter(Q_);return 0==t.length?null:function(n){return function aM(...e){const t=Na(e),{args:n,keys:r}=V_(e),i=new ie(a=>{const{length:d}=n;if(!d)return void a.complete();const h=new Array(d);let y=d,C=d;for(let M=0;M<d;M++){let N=!1;Te(n[M]).subscribe(je(a,$=>{N||(N=!0,C--),h[M]=$},()=>y--,void 0,()=>{(!y||!N)&&(C||a.next(r?j_(r,h):h),a.complete())}))}});return t?i.pipe($_(t)):i}(t0(n,t).map(J_)).pipe(Fe(e0))}}(n0(e)):null}function s0(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function oh(e){return e?Array.isArray(e)?e:[e]:[]}function yl(e,t){return Array.isArray(e)?e.includes(t):e===t}function l0(e,t){const n=oh(t);return oh(e).forEach(i=>{yl(n,i)||n.push(i)}),n}function c0(e,t){return oh(t).filter(n=>!yl(e,n))}class d0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=rh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Sn extends d0{get formDirective(){return null}get path(){return null}}class Oo extends d0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let h0=(()=>{class e extends class f0{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(de(Oo,2))},e.\u0275dir=Ne({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Fu("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[dt]}),e})();const ha="VALID",vl="INVALID",ts="PENDING",pa="DISABLED";function g0(e){return Array.isArray(e)?nh(e):e||null}function m0(e){return Array.isArray(e)?rh(e):e||null}function _l(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function ga(e,t){(function dh(e,t){const n=function a0(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(s0(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function u0(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(s0(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();xl(t._rawValidators,i),xl(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),e.disabled&&t.valueAccessor.setDisabledState?.(!0),function xM(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&_0(e,t)})}(e,t),function EM(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function TM(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&_0(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function DM(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function xl(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function _0(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function T0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function E0(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const NM={provide:Oo,useExisting:ct(()=>gh)},I0=(()=>Promise.resolve(null))();let gh=(()=>{class e extends Oo{constructor(n,r,i,a,d){super(),this._changeDetectorRef=d,this.control=new class extends class v0{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=g0(this._rawValidators),this._composedAsyncValidatorFn=m0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ha}get invalid(){return this.status===vl}get pending(){return this.status==ts}get disabled(){return this.status===pa}get enabled(){return this.status!==pa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=g0(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=m0(t)}addValidators(t){this.setValidators(l0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(l0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(c0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(c0(t,this._rawAsyncValidators))}hasValidator(t){return yl(this._rawValidators,t)}hasAsyncValidator(t){return yl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ts,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=pa,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ha,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ha||this.status===ts)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pa:ha}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ts,this._hasOwnPendingAsyncValidator=!0;const n=J_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?pa:this.errors?vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ts)?ts:this._anyControlsHaveStatus(vl)?vl:ha}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_l(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,n,r){super(function uh(e){return(_l(e)?e.validators:e)||null}(n),function lh(e,t){return(_l(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_l(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=E0(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){T0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){T0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){E0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new Pt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hh(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(a=>{a.constructor===gl?n=a:function AM(e){return Object.getPrototypeOf(e.constructor)===Ko}(a)?r=a:i=a}),i||r||n||null}(0,a)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function fh(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ga(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){I0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function io(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);I0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function wl(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(de(Sn,9),de(dn,10),de(Io,10),de($r,10),de(Zu,8))},e.\u0275dir=Ne({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xt([NM]),dt,Qn]}),e})(),M0=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({}),e})(),oP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({imports:[M0]}),e})(),iP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({imports:[oP]}),e})();function Ge(...e){return St(e,Gr(e))}function ns(e,t){return x(t)?ft(e,t,1):ft(e,1)}function Zo(e,t){return Ce((n,r)=>{let i=0;n.subscribe(je(r,a=>e.call(t,a,i++)&&r.next(a)))})}class K0{}class X0{}class uo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),a=i.toLowerCase(),d=n.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let r=t[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof uo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new uo;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof uo?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const a=t.value;if(a){let d=this.headers.get(n);if(!d)return;d=d.filter(h=>-1===a.indexOf(h)),0===d.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,d)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class uP{encodeKey(t){return Z0(t)}encodeValue(t){return Z0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const cP=/%(\d[a-f0-9])/gi,dP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Z0(e){return encodeURIComponent(e).replace(cP,(t,n)=>dP[n]??t)}function El(e){return`${e}`}class Mo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new uP,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lP(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,h]=-1==a?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,a)),t.decodeValue(i.slice(a+1))],y=n.get(d)||[];y.push(h),n.set(d,y)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(El):[El(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(a=>{n.push({param:r,value:a,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Mo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(El(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(El(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class fP{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Q0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function J0(e){return typeof Blob<"u"&&e instanceof Blob}function ew(e){return typeof FormData<"u"&&e instanceof FormData}class ya{constructor(t,n,r,i){let a;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function hP(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new uo),this.context||(this.context=new fP),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=n;else{const h=n.indexOf("?");this.urlWithParams=n+(-1===h?"?":h<n.length-1?"&":"")+d}}else this.params=new Mo,this.urlWithParams=n}serializeBody(){return null===this.body?null:Q0(this.body)||J0(this.body)||ew(this.body)||function pP(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ew(this.body)?null:J0(this.body)?this.body.type||null:Q0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,C=t.params||this.params;const M=t.context??this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((N,$)=>N.set($,t.setHeaders[$]),y)),t.setParams&&(C=Object.keys(t.setParams).reduce((N,$)=>N.set($,t.setParams[$]),C)),new ya(n,r,a,{params:C,headers:y,context:M,reportProgress:h,responseType:i,withCredentials:d})}}var Bt=(()=>((Bt=Bt||{})[Bt.Sent=0]="Sent",Bt[Bt.UploadProgress=1]="UploadProgress",Bt[Bt.ResponseHeader=2]="ResponseHeader",Bt[Bt.DownloadProgress=3]="DownloadProgress",Bt[Bt.Response=4]="Response",Bt[Bt.User=5]="User",Bt))();class Dh{constructor(t,n=200,r="OK"){this.headers=t.headers||new uo,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class xh extends Dh{constructor(t={}){super(t),this.type=Bt.ResponseHeader}clone(t={}){return new xh({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Cl extends Dh{constructor(t={}){super(t),this.type=Bt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Cl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class tw extends Dh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Th(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let nw=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let a;if(n instanceof ya)a=n;else{let y,C;y=i.headers instanceof uo?i.headers:new uo(i.headers),i.params&&(C=i.params instanceof Mo?i.params:new Mo({fromObject:i.params})),a=new ya(n,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=Ge(a).pipe(ns(y=>this.handler.handle(y)));if(n instanceof ya||"events"===i.observe)return d;const h=d.pipe(Zo(y=>y instanceof Cl));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe(Fe(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return h.pipe(Fe(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return h.pipe(Fe(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return h.pipe(Fe(y=>y.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Mo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Th(i,r))}post(n,r,i={}){return this.request("POST",n,Th(i,r))}put(n,r,i={}){return this.request("PUT",n,Th(i,r))}}return e.\u0275fac=function(n){return new(n||e)(ve(K0))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();class rw{constructor(t,n){this.next=t,this.interceptor=n}handle(t){return this.interceptor.intercept(t,this.next)}}const ow=new Ve("HTTP_INTERCEPTORS");let gP=(()=>{class e{intercept(n,r){return r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();const mP=/^\)\]\}',?\n/;let iw=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ie(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((B,Y)=>i.setRequestHeader(B,Y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const B=n.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(n.responseType){const B=n.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const a=n.serializeBody();let d=null;const h=()=>{if(null!==d)return d;const B=i.statusText||"OK",Y=new uo(i.getAllResponseHeaders()),ee=function yP(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return d=new xh({headers:Y,status:i.status,statusText:B,url:ee}),d},y=()=>{let{headers:B,status:Y,statusText:ee,url:fe}=h(),ue=null;204!==Y&&(ue=typeof i.response>"u"?i.responseText:i.response),0===Y&&(Y=ue?200:0);let he=Y>=200&&Y<300;if("json"===n.responseType&&"string"==typeof ue){const oe=ue;ue=ue.replace(mP,"");try{ue=""!==ue?JSON.parse(ue):null}catch(xe){ue=oe,he&&(he=!1,ue={error:xe,text:ue})}}he?(r.next(new Cl({body:ue,headers:B,status:Y,statusText:ee,url:fe||void 0})),r.complete()):r.error(new tw({error:ue,headers:B,status:Y,statusText:ee,url:fe||void 0}))},C=B=>{const{url:Y}=h(),ee=new tw({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Y||void 0});r.error(ee)};let M=!1;const N=B=>{M||(r.next(h()),M=!0);let Y={type:Bt.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(Y.total=B.total),"text"===n.responseType&&!!i.responseText&&(Y.partialText=i.responseText),r.next(Y)},$=B=>{let Y={type:Bt.UploadProgress,loaded:B.loaded};B.lengthComputable&&(Y.total=B.total),r.next(Y)};return i.addEventListener("load",y),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),n.reportProgress&&(i.addEventListener("progress",N),null!==a&&i.upload&&i.upload.addEventListener("progress",$)),i.send(a),r.next({type:Bt.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",y),i.removeEventListener("timeout",C),n.reportProgress&&(i.removeEventListener("progress",N),null!==a&&i.upload&&i.upload.removeEventListener("progress",$)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(ve(v_))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();const Eh=new Ve("XSRF_COOKIE_NAME"),Ch=new Ve("XSRF_HEADER_NAME");class sw{}let bP=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=l_(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(ve(Cn),ve(_f),ve(Eh))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),Sh=(()=>{class e{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const a=this.tokenService.getToken();return null!==a&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,a)})),r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(ve(sw),ve(Ch))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),vP=(()=>{class e{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(ow,[]);this.chain=r.reduceRight((i,a)=>new rw(i,a),this.backend)}return this.chain.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(ve(X0),ve(Dn))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),_P=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Sh,useClass:gP}]}}static withOptions(n={}){return{ngModule:e,providers:[n.cookieName?{provide:Eh,useValue:n.cookieName}:[],n.headerName?{provide:Ch,useValue:n.headerName}:[]]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({providers:[Sh,{provide:ow,useExisting:Sh,multi:!0},{provide:sw,useClass:bP},{provide:Eh,useValue:"XSRF-TOKEN"},{provide:Ch,useValue:"X-XSRF-TOKEN"}]}),e})(),wP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({providers:[nw,{provide:K0,useClass:vP},iw,{provide:X0,useExisting:iw}],imports:[_P.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),e})();class vr extends $e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function aw(...e){const t=Gr(e),n=Na(e),{args:r,keys:i}=V_(e);if(0===r.length)return St([],t);const a=new ie(function DP(e,t,n=q){return r=>{uw(t,()=>{const{length:i}=e,a=new Array(i);let d=i,h=i;for(let y=0;y<i;y++)uw(t,()=>{const C=St(e[y],t);let M=!1;C.subscribe(je(r,N=>{a[y]=N,M||(M=!0,h--),h||r.next(n(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,i?d=>j_(i,d):q));return n?a.pipe($_(n)):a}function uw(e,t,n){e?ke(n,e,t):t()}function ba(e,t){const n=x(e)?e:()=>e,r=i=>i.error(n());return new ie(t?i=>t.schedule(r,0,i):r)}const va=w(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ah(...e){return function xP(){return Yn(1)}()(St(e,Gr(e)))}function lw(e){return new ie(t=>{Te(e()).subscribe(t)})}function Ih(){return Ce((e,t)=>{let n=null;e._refCount++;const r=je(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class cw extends ie{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new b;const n=this.getSubject();t.add(this.source.subscribe(je(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=b.EMPTY)}return t}refCount(){return Ih()(this)}}function Qo(e,t){return Ce((n,r)=>{let i=null,a=0,d=!1;const h=()=>d&&!i&&r.complete();n.subscribe(je(r,y=>{i?.unsubscribe();let C=0;const M=a++;Te(e(y,M)).subscribe(i=je(r,N=>r.next(t?t(y,N,M,C++):N),()=>{i=null,h()}))},()=>{d=!0,h()}))})}function EP(e,t,n,r,i){return(a,d)=>{let h=n,y=t,C=0;a.subscribe(je(d,M=>{const N=C++;y=h?e(y,M,N):(h=!0,M),r&&d.next(y)},i&&(()=>{h&&d.next(y),d.complete()})))}}function dw(e,t){return Ce(EP(e,t,arguments.length>=2,!0))}function Po(e){return Ce((t,n)=>{let a,r=null,i=!1;r=t.subscribe(je(n,void 0,void 0,d=>{a=Te(e(d,Po(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function Oh(e){return e<=0?()=>Kn:Ce((t,n)=>{let r=[];t.subscribe(je(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function fw(e=CP){return Ce((t,n)=>{let r=!1;t.subscribe(je(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function CP(){return new va}function Mh(e){return Ce((t,n)=>{let r=!1;t.subscribe(je(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Jo(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Zo((i,a)=>e(i,a,r)):q,Er(1),n?Mh(t):fw(()=>new va))}function fn(e,t,n){const r=x(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ce((i,a)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let h=!0;i.subscribe(je(a,y=>{var C;null===(C=r.next)||void 0===C||C.call(r,y),a.next(y)},()=>{var y;h=!1,null===(y=r.complete)||void 0===y||y.call(r),a.complete()},y=>{var C;h=!1,null===(C=r.error)||void 0===C||C.call(r,y),a.error(y)},()=>{var y,C;h&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(C=r.finalize)||void 0===C||C.call(r)}))}):q}function Ph(e){return Ce((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}class lo{constructor(t,n){this.id=t,this.url=n}}class Nh extends lo{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _a extends lo{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hw extends lo{constructor(t,n,r){super(t,n),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class IP extends lo{constructor(t,n,r){super(t,n),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OP extends lo{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MP extends lo{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PP extends lo{constructor(t,n,r,i,a){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NP extends lo{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RP extends lo{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kP{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class LP{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VP{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $P{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jP{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pw{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Xe="primary";class BP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function rs(e){return new BP(e)}const gw="ngNavigationCancelingError";function Rh(e){const t=Error("NavigationCancelingError: "+e);return t[gw]=!0,t}function HP(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],h=e[a];if(d.startsWith(":"))i[d.substring(1)]=h;else if(d!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function jr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(i=n[a],!mw(e[i],t[i]))return!1;return!0}function mw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,a)=>r[a]===i)}return e===t}function yw(e){return Array.prototype.concat.apply([],e)}function bw(e){return e.length>0?e[e.length-1]:null}function en(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function _r(e){return Ud(e)?e:Ws(e)?St(Promise.resolve(e)):Ge(e)}const qP={exact:function ww(e,t,n){if(!ti(e.segments,t.segments)||!Sl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!ww(e.children[r],t.children[r],n))return!1;return!0},subset:Dw},vw={exact:function WP(e,t){return jr(e,t)},subset:function YP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>mw(e[n],t[n]))},ignored:()=>!0};function _w(e,t,n){return qP[n.paths](e.root,t.root,n.matrixParams)&&vw[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Dw(e,t,n){return xw(e,t,t.segments,n)}function xw(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!ti(i,n)||t.hasChildren()||!Sl(i,n,r))}if(e.segments.length===n.length){if(!ti(e.segments,n)||!Sl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!Dw(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(ti(e.segments,i)&&Sl(e.segments,i,r)&&e.children[Xe])&&xw(e.children[Xe],t,a,r)}}function Sl(e,t,n){return t.every((r,i)=>vw[n](e[i].parameters,r.parameters))}class ei{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rs(this.queryParams)),this._queryParamMap}toString(){return ZP.serialize(this)}}class Je{constructor(t,n){this.segments=t,this.children=n,this.parent=null,en(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Al(this)}}class wa{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=rs(this.parameters)),this._parameterMap}toString(){return Aw(this)}}function ti(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class Tw{}class Ew{parse(t){const n=new sN(t);return new ei(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Da(t.root,!0)}`,r=function eN(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Il(n)}=${Il(i)}`).join("&"):`${Il(n)}=${Il(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function QP(e){return encodeURI(e)}(t.fragment)}`:""}`}}const ZP=new Ew;function Al(e){return e.segments.map(t=>Aw(t)).join("/")}function Da(e,t){if(!e.hasChildren())return Al(e);if(t){const n=e.children[Xe]?Da(e.children[Xe],!1):"",r=[];return en(e.children,(i,a)=>{a!==Xe&&r.push(`${a}:${Da(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function XP(e,t){let n=[];return en(e.children,(r,i)=>{i===Xe&&(n=n.concat(t(r,i)))}),en(e.children,(r,i)=>{i!==Xe&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Xe?[Da(e.children[Xe],!1)]:[`${i}:${Da(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Xe]?`${Al(e)}/${n[0]}`:`${Al(e)}/(${n.join("//")})`}}function Cw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Il(e){return Cw(e).replace(/%3B/gi,";")}function Fh(e){return Cw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(e){return decodeURIComponent(e)}function Sw(e){return Ol(e.replace(/\+/g,"%20"))}function Aw(e){return`${Fh(e.path)}${function JP(e){return Object.keys(e).map(t=>`;${Fh(t)}=${Fh(e[t])}`).join("")}(e.parameters)}`}const tN=/^[^\/()?;=#]+/;function Ml(e){const t=e.match(tN);return t?t[0]:""}const nN=/^[^=?&#]+/,oN=/^[^&#]+/;class sN{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Xe]=new Je(t,n)),r}parseSegment(){const t=Ml(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wa(Ol(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Ml(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ml(this.remaining);i&&(r=i,this.capture(r))}t[Ol(n)]=Ol(r)}parseQueryParam(t){const n=function rN(e){const t=e.match(nN);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const d=function iN(e){const t=e.match(oN);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Sw(n),a=Sw(r);if(t.hasOwnProperty(i)){let d=t[i];Array.isArray(d)||(d=[d],t[i]=d),d.push(a)}else t[i]=a}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ml(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Xe);const d=this.parseChildren();n[a]=1===Object.keys(d).length?d[Xe]:new Je([],d),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Iw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=kh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=kh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Lh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Lh(t,this._root).map(n=>n.value)}}function kh(e,t){if(e===t.value)return t;for(const n of t.children){const r=kh(e,n);if(r)return r}return null}function Lh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Lh(e,n);if(r.length)return r.unshift(t),r}return[]}class co{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function os(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class Ow extends Iw{constructor(t,n){super(t),this.snapshot=n,Vh(this,t)}toString(){return this.snapshot.toString()}}function Mw(e,t){const n=function aN(e,t){const d=new Pl([],{},{},"",{},Xe,t,null,e.root,-1,{});return new Nw("",new co(d,[]))}(e,t),r=new vr([new wa("",{})]),i=new vr({}),a=new vr({}),d=new vr({}),h=new vr(""),y=new is(r,i,d,h,a,Xe,t,n.root);return y.snapshot=n.root,new Ow(new co(y,[]),n)}class is{constructor(t,n,r,i,a,d,h,y){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=h,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(t=>rs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(t=>rs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pw(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function uN(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pl{constructor(t,n,r,i,a,d,h,y,C,M,N,$){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=h,this.routeConfig=y,this._urlSegment=C,this._lastPathIndex=M,this._correctedLastPathIndex=$??M,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nw extends Iw{constructor(t,n){super(n),this.url=t,Vh(this,n)}toString(){return Rw(this._root)}}function Vh(e,t){t.value._routerState=e,t.children.forEach(n=>Vh(e,n))}function Rw(e){const t=e.children.length>0?` { ${e.children.map(Rw).join(", ")} } `:"";return`${e.value}${t}`}function $h(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,jr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),jr(t.params,n.params)||e.params.next(n.params),function GP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!jr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),jr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function jh(e,t){const n=jr(e.params,t.params)&&function KP(e,t){return ti(e,t)&&e.every((n,r)=>jr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||jh(e.parent,t.parent))}function xa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function cN(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return xa(e,r,i);return xa(e,r)})}(e,t,n);return new co(r,i)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(h=>xa(e,h)),d}}const r=function dN(e){return new is(new vr(e.url),new vr(e.params),new vr(e.queryParams),new vr(e.fragment),new vr(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(a=>xa(e,a));return new co(r,i)}}function Nl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ta(e){return"object"==typeof e&&null!=e&&e.outlets}function Bh(e,t,n,r,i){let a={};if(r&&en(r,(h,y)=>{a[y]=Array.isArray(h)?h.map(C=>`${C}`):`${h}`}),e===t)return new ei(n,a,i);const d=Fw(e,t,n);return new ei(d,a,i)}function Fw(e,t,n){const r={};return en(e.children,(i,a)=>{r[a]=i===t?n:Fw(i,t,n)}),new Je(e.segments,r)}class kw{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Nl(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ta);if(i&&i!==bw(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uh{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Lw(e,t,n){if(e||(e=new Je([],{})),0===e.segments.length&&e.hasChildren())return Rl(e,t,n);const r=function yN(e,t,n){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return a;const d=e.segments[i],h=n[r];if(Ta(h))break;const y=`${h}`,C=r<n.length-1?n[r+1]:null;if(i>0&&void 0===y)break;if(y&&C&&"object"==typeof C&&void 0===C.outlets){if(!$w(y,C,d))return a;r+=2}else{if(!$w(y,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new Je(e.segments.slice(0,r.pathIndex),{});return a.children[Xe]=new Je(e.segments.slice(r.pathIndex),e.children),Rl(a,0,i)}return r.match&&0===i.length?new Je(e.segments,{}):r.match&&!e.hasChildren()?Hh(e,t,n):r.match?Rl(e,0,i):Hh(e,t,n)}function Rl(e,t,n){if(0===n.length)return new Je(e.segments,{});{const r=function mN(e){return Ta(e[0])?e[0].outlets:{[Xe]:e}}(n),i={};return en(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=Lw(e.children[d],t,a))}),en(e.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new Je(e.segments,i)}}function Hh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const a=n[i];if(Ta(a)){const y=bN(a.outlets);return new Je(r,y)}if(0===i&&Nl(n[0])){r.push(new wa(e.segments[t].path,Vw(n[0]))),i++;continue}const d=Ta(a)?a.outlets[Xe]:`${a}`,h=i<n.length-1?n[i+1]:null;d&&h&&Nl(h)?(r.push(new wa(d,Vw(h))),i+=2):(r.push(new wa(d,{})),i++)}return new Je(r,{})}function bN(e){const t={};return en(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Hh(new Je([],{}),0,n))}),t}function Vw(e){const t={};return en(e,(n,r)=>t[r]=`${n}`),t}function $w(e,t,n){return e==n.path&&jr(t,n.parameters)}class vN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ea,this.attachRef=null}}class Ea{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new vN,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let jw=(()=>{class e{constructor(n,r,i,a,d){this.parentContexts=n,this.location=r,this.changeDetector=a,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new Pt,this.deactivateEvents=new Pt,this.attachEvents=new Pt,this.detachEvents=new Pt,this.name=i||Xe,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const i=this.location,d=n._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,y=new _N(n,h,i.injector);if(r&&function wN(e){return!!e.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(d);this.activated=i.createComponent(C,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(de(Ea),de(mr),function Cs(e){return function p1(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const a=n[i];if(Rp(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}}return null}(Gt(),e)}("name"),de(Zu),de(Ho))},e.\u0275dir=Ne({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class _N{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===is?this.route:t===Ea?this.childContexts:this.parent.get(t,n)}}let Bw=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ys({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Gi(0,"router-outlet")},dependencies:[jw],encapsulation:2}),e})();function Uw(e,t){return e.providers&&!e._injector&&(e._injector=Hu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function zh(e){const t=e.children&&e.children.map(zh),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=Bw),n}function or(e){return e.outlet||Xe}function Hw(e,t){const n=e.filter(r=>or(r)===t);return n.push(...e.filter(r=>or(r)!==t)),n}function Gw(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class CN{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),$h(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=os(n);t.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),en(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(t,n,d.children)}else this.deactivateChildRoutes(t,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=os(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:h})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=os(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=os(n);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new jP(a.value.snapshot))}),t.children.length&&this.forwardEvent(new VP(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if($h(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,d.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(h.contexts),d.attachRef=h.componentRef,d.route=h.route.value,d.outlet&&d.outlet.attach(h.componentRef,h.route.value),$h(h.route.value),this.activateChildRoutes(t,null,d.children)}else{const h=Gw(i.snapshot),y=h?.get(ea)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=h,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,r)}}function No(e){return"function"==typeof e}function ni(e){return e instanceof ei}const Ca=Symbol("INITIAL_VALUE");function Sa(){return Qo(e=>aw(e.map(t=>t.pipe(Er(1),function TP(...e){const t=Gr(e);return Ce((n,r)=>{(t?Ah(e,n,t):Ah(e,n)).subscribe(r)})}(Ca)))).pipe(dw((t,n)=>{let r=!1;return n.reduce((i,a,d)=>i!==Ca?i:(a===Ca&&(r=!0),r||!1!==a&&d!==n.length-1&&!ni(a)?i:a),t)},Ca),Zo(t=>t!==Ca),Fe(t=>ni(t)?t:!0===t),Er(1)))}const zw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fl(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...zw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||HP)(n,e,t);if(!i)return{...zw};const a={};en(i.posParams,(h,y)=>{a[y]=h.path});const d=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function kl(e,t,n,r,i="corrected"){if(n.length>0&&function RN(e,t,n){return n.some(r=>Ll(e,t,r)&&or(r)!==Xe)}(e,n,r)){const d=new Je(t,function NN(e,t,n,r){const i={};i[Xe]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const a of n)if(""===a.path&&or(a)!==Xe){const d=new Je([],{});d._sourceSegment=e,d._segmentIndexShift=t.length,i[or(a)]=d}return i}(e,t,r,new Je(n,e.children)));return d._sourceSegment=e,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===n.length&&function FN(e,t,n){return n.some(r=>Ll(e,t,r))}(e,n,r)){const d=new Je(e.segments,function PN(e,t,n,r,i,a){const d={};for(const h of r)if(Ll(e,n,h)&&!i[or(h)]){const y=new Je([],{});y._sourceSegment=e,y._segmentIndexShift="legacy"===a?e.segments.length:t.length,d[or(h)]=y}return{...i,...d}}(e,t,n,r,e.children,i));return d._sourceSegment=e,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:n}}const a=new Je(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function Ll(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function qw(e,t,n,r){return!!(or(e)===r||r!==Xe&&Ll(t,n,e))&&("**"===e.path||Fl(t,e,n).matched)}function Ww(e,t,n){return 0===t.length&&!e.children[n]}class Vl{constructor(t){this.segmentGroup=t||null}}class Yw{constructor(t){this.urlTree=t}}function Aa(e){return ba(new Vl(e))}function Kw(e){return ba(new Yw(e))}class $N{constructor(t,n,r,i,a){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const t=kl(this.urlTree.root,[],[],this.config).segmentGroup,n=new Je(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Xe).pipe(Fe(a=>this.createUrlTree(qh(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Po(a=>{if(a instanceof Yw)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Vl?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Xe).pipe(Fe(i=>this.createUrlTree(qh(i),t.queryParams,t.fragment))).pipe(Po(i=>{throw i instanceof Vl?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new Je([],{[Xe]:t}):t;return new ei(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(Fe(a=>new Je([],a))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return St(i).pipe(ns(a=>{const d=r.children[a],h=Hw(n,a);return this.expandSegmentGroup(t,h,d,a).pipe(Fe(y=>({segment:y,outlet:a})))}),dw((a,d)=>(a[d.outlet]=d.segment,a),{}),function SP(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Zo((i,a)=>e(i,a,r)):q,Oh(1),n?Mh(t):fw(()=>new va))}())}expandSegment(t,n,r,i,a,d){return St(r).pipe(ns(h=>this.expandSegmentAgainstRoute(t,n,r,h,i,a,d).pipe(Po(C=>{if(C instanceof Vl)return Ge(null);throw C}))),Jo(h=>!!h),Po((h,y)=>{if(h instanceof va||"EmptyError"===h.name)return Ww(n,i,a)?Ge(new Je([],{})):Aa(n);throw h}))}expandSegmentAgainstRoute(t,n,r,i,a,d,h){return qw(i,n,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,a,d):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,d):Aa(n):Aa(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Kw(a):this.lineralizeSegments(r,a).pipe(ft(d=>{const h=new Je(d,{});return this.expandSegment(t,h,n,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,d){const{matched:h,consumedSegments:y,remainingSegments:C,positionalParamSegments:M}=Fl(n,i,a);if(!h)return Aa(n);const N=this.applyRedirectCommands(y,i.redirectTo,M);return i.redirectTo.startsWith("/")?Kw(N):this.lineralizeSegments(i,N).pipe(ft($=>this.expandSegment(t,n,r,$.concat(C),d,!1)))}matchSegmentAgainstRoute(t,n,r,i,a){if("**"===r.path)return t=Uw(r,t),r.loadChildren?(r._loadedRoutes?Ge({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Fe(N=>(r._loadedRoutes=N.routes,r._loadedInjector=N.injector,new Je(i,{})))):Ge(new Je(i,{}));const{matched:d,consumedSegments:h,remainingSegments:y}=Fl(n,r,i);return d?(t=Uw(r,t),this.getChildConfig(t,r,i).pipe(ft(M=>{const N=M.injector??t,$=M.routes,{segmentGroup:B,slicedSegments:Y}=kl(n,h,y,$),ee=new Je(B.segments,B.children);if(0===Y.length&&ee.hasChildren())return this.expandChildren(N,$,ee).pipe(Fe(oe=>new Je(h,oe)));if(0===$.length&&0===Y.length)return Ge(new Je(h,{}));const fe=or(r)===a;return this.expandSegment(N,ee,$,Y,fe?Xe:a,!0).pipe(Fe(he=>new Je(h.concat(he.segments),he.children)))}))):Aa(n)}getChildConfig(t,n,r){return n.children?Ge({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ge({routes:n._loadedRoutes,injector:n._loadedInjector}):this.runCanLoadGuards(t,n,r).pipe(ft(i=>i?this.configLoader.loadChildren(t,n).pipe(fn(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function LN(e){return ba(Rh(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))}(n))):Ge({routes:[],injector:t})}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?Ge(i.map(d=>{const h=t.get(d);let y;if(function AN(e){return e&&No(e.canLoad)}(h))y=h.canLoad(n,r);else{if(!No(h))throw new Error("Invalid CanLoad guard");y=h(n,r)}return _r(y)})).pipe(Sa(),fn(d=>{if(!ni(d))return;const h=Rh(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw h.url=d,h}),Fe(d=>!0===d)):Ge(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ge(r);if(i.numberOfChildren>1||!i.children[Xe])return ba(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[Xe]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const a=this.createSegmentGroup(t,n.root,r,i);return new ei(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return en(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=n[h]}else r[a]=i}),r}createSegmentGroup(t,n,r,i){const a=this.createSegments(t,n.segments,r,i);let d={};return en(n.children,(h,y)=>{d[y]=this.createSegmentGroup(t,h,r,i)}),new Je(a,d)}createSegments(t,n,r,i){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function qh(e){const t={};for(const r of Object.keys(e.children)){const a=qh(e.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function jN(e){if(1===e.numberOfChildren&&e.children[Xe]){const t=e.children[Xe];return new Je(e.segments.concat(t.segments),t.children)}return e}(new Je(e.segments,t))}class Xw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $l{constructor(t,n){this.component=t,this.route=n}}function UN(e,t,n){const r=e._root;return Ia(r,t?t._root:null,n,[r.value])}function jl(e,t,n){return(Gw(t)??n).get(e)}function Ia(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=os(t);return e.children.forEach(d=>{(function GN(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,d=t?t.value:null,h=n?n.getContext(e.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const y=function zN(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ti(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ti(e.url,t.url)||!jr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jh(e,t)||!jr(e.queryParams,t.queryParams);default:return!jh(e,t)}}(d,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Xw(r)):(a.data=d.data,a._resolvedData=d._resolvedData),Ia(e,t,a.component?h?h.children:null:n,r,i),y&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new $l(h.outlet.component,d))}else d&&Oa(t,h,i),i.canActivateChecks.push(new Xw(r)),Ia(e,null,a.component?h?h.children:null:n,r,i)})(d,a[d.value.outlet],n,r.concat([d.value]),i),delete a[d.value.outlet]}),en(a,(d,h)=>Oa(d,n.getContext(h),i)),i}function Oa(e,t,n){const r=os(e),i=e.value;en(r,(a,d)=>{Oa(a,i.component?t?t.children.getContext(d):null:t,n)}),n.canDeactivateChecks.push(new $l(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class eR{}function Qw(e){return new ie(t=>t.error(e))}class nR{constructor(t,n,r,i,a,d){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const t=kl(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Xe);if(null===n)return null;const r=new Pl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new co(r,n),a=new Nw(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const n=t.value,r=Pw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const a of Object.keys(n.children)){const d=n.children[a],h=Hw(t,a),y=this.processSegmentGroup(h,d,a);if(null===y)return null;r.push(...y)}const i=Jw(r);return function rR(e){e.sort((t,n)=>t.value.outlet===Xe?-1:n.value.outlet===Xe?1:t.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(t,n,r,i){for(const a of t){const d=this.processSegmentAgainstRoute(a,n,r,i);if(null!==d)return d}return Ww(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!qw(t,n,r,i))return null;let a,d=[],h=[];if("**"===t.path){const B=r.length>0?bw(r).parameters:{},Y=tD(n)+r.length;a=new Pl(r,B,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rD(t),or(t),t.component??t._loadedComponent??null,t,eD(n),Y,oD(t),Y)}else{const B=Fl(n,t,r);if(!B.matched)return null;d=B.consumedSegments,h=B.remainingSegments;const Y=tD(n)+d.length;a=new Pl(d,B.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rD(t),or(t),t.component??t._loadedComponent??null,t,eD(n),Y,oD(t),Y)}const y=function oR(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:C,slicedSegments:M}=kl(n,d,h,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===M.length&&C.hasChildren()){const B=this.processChildren(y,C);return null===B?null:[new co(a,B)]}if(0===y.length&&0===M.length)return[new co(a,[])];const N=or(t)===i,$=this.processSegment(y,C,M,N?Xe:i);return null===$?null:[new co(a,$)]}}function iR(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jw(e){const t=[],n=new Set;for(const r of e){if(!iR(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=Jw(r.children);t.push(new co(r.value,i))}return t.filter(r=>!n.has(r))}function eD(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function tD(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function rD(e){return e.data||{}}function oD(e){return e.resolve||{}}const Wh=Symbol("RouteTitle");function iD(e){return"string"==typeof e.title||null===e.title}function Bl(e){return Qo(t=>{const n=e(t);return n?St(n).pipe(Fe(()=>t)):Ge(t)})}class pR extends class hR{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const Yh=new Ve("ROUTES");let Kh=(()=>{class e{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ge(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=_r(n.loadComponent()).pipe(fn(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),Ph(()=>{this.componentLoaders.delete(n)})),i=new cw(r,()=>new $e).pipe(Ih());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ge({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Fe(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,C,M=!1;Array.isArray(h)?C=h:(y=h.create(n).injector,C=yw(y.get(Yh,[],Me.Self|Me.Optional)));return{routes:C.map(zh),injector:y}}),Ph(()=>{this.childrenLoaders.delete(r)})),d=new cw(a,()=>new $e).pipe(Ih());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(n){return _r(n()).pipe(ft(r=>r instanceof jb||Array.isArray(r)?Ge(r):St(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)(ve(Dn),ve(wf))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();class mR{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function bR(e){throw e}function vR(e,t,n){return t.parse("/")}function aD(e,t){return Ge(null)}const _R={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class e{constructor(n,r,i,a,d,h,y){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $e,this.errorHandler=bR,this.malformedUriErrorHandler=vR,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:aD,afterPreactivation:aD},this.urlHandlingStrategy=new mR,this.routeReuseStrategy=new pR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Kh),this.configLoader.onLoadEndListener=$=>this.triggerEvent(new kP($)),this.configLoader.onLoadStartListener=$=>this.triggerEvent(new FP($)),this.ngModule=d.get(Eo),this.console=d.get(uI);const N=d.get(Vt);this.isNgZoneEnabled=N instanceof Vt&&Vt.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function zP(){return new ei(new Je([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Mw(this.currentUrlTree,this.rootComponentType),this.transitions=new vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Zo(i=>0!==i.id),Fe(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Qo(i=>{let a=!1,d=!1;return Ge(i).pipe(fn(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qo(h=>{const y=this.browserUrlTree.toString(),C=!this.navigated||h.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return uD(h.source)&&(this.browserUrlTree=h.extractedUrl),Ge(h).pipe(Qo(N=>{const $=this.transitions.getValue();return r.next(new Nh(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),$!==this.transitions.getValue()?Kn:Promise.resolve(N)}),function BN(e,t,n,r){return Qo(i=>function VN(e,t,n,r,i){return new $N(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(Fe(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),fn(N=>{this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects}}),function sR(e,t,n,r,i){return ft(a=>function tR(e,t,n,r,i="emptyOnly",a="legacy"){try{const d=new nR(e,t,n,r,i,a).recognize();return null===d?Qw(new eR):Ge(d)}catch(d){return Qw(d)}}(e,t,a.urlAfterRedirects,n(a.urlAfterRedirects),r,i).pipe(Fe(d=>({...a,targetSnapshot:d}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),fn(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(B,N)}this.browserUrlTree=N.urlAfterRedirects}const $=new OP(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next($)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:B,source:Y,restoredState:ee,extras:fe}=h,ue=new Nh($,this.serializeUrl(B),Y,ee);r.next(ue);const he=Mw(B,this.rootComponentType).snapshot;return Ge({...h,targetSnapshot:he,urlAfterRedirects:B,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Kn}),Bl(h=>{const{targetSnapshot:y,id:C,extractedUrl:M,rawUrl:N,extras:{skipLocationChange:$,replaceUrl:B}}=h;return this.hooks.beforePreactivation(y,{navigationId:C,appliedUrlTree:M,rawUrlTree:N,skipLocationChange:!!$,replaceUrl:!!B})}),fn(h=>{const y=new MP(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(y)}),Fe(h=>({...h,guards:UN(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function qN(e,t){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=n;return 0===d.length&&0===a.length?Ge({...n,guardsResult:!0}):function WN(e,t,n,r){return St(e).pipe(ft(i=>function JN(e,t,n,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?Ge(a.map(h=>{const y=jl(h,t,i);let C;if(function MN(e){return e&&No(e.canDeactivate)}(y))C=_r(y.canDeactivate(e,t,n,r));else{if(!No(y))throw new Error("Invalid CanDeactivate guard");C=_r(y(e,t,n,r))}return C.pipe(Jo())})).pipe(Sa()):Ge(!0)}(i.component,i.route,n,t,r)),Jo(i=>!0!==i,!0))}(d,r,i,e).pipe(ft(h=>h&&function SN(e){return"boolean"==typeof e}(h)?function YN(e,t,n,r){return St(t).pipe(ns(i=>Ah(function XN(e,t){return null!==e&&t&&t(new LP(e)),Ge(!0)}(i.route.parent,r),function KN(e,t){return null!==e&&t&&t(new $P(e)),Ge(!0)}(i.route,r),function QN(e,t,n){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(d=>function HN(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(d)).filter(d=>null!==d).map(d=>lw(()=>Ge(d.guards.map(y=>{const C=jl(y,d.node,n);let M;if(function ON(e){return e&&No(e.canActivateChild)}(C))M=_r(C.canActivateChild(r,e));else{if(!No(C))throw new Error("Invalid CanActivateChild guard");M=_r(C(r,e))}return M.pipe(Jo())})).pipe(Sa())));return Ge(a).pipe(Sa())}(e,i.path,n),function ZN(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ge(!0);const i=r.map(a=>lw(()=>{const d=jl(a,t,n);let h;if(function IN(e){return e&&No(e.canActivate)}(d))h=_r(d.canActivate(t,e));else{if(!No(d))throw new Error("Invalid CanActivate guard");h=_r(d(t,e))}return h.pipe(Jo())}));return Ge(i).pipe(Sa())}(e,i.route,n))),Jo(i=>!0!==i,!0))}(r,a,e,t):Ge(h)),Fe(h=>({...n,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),fn(h=>{if(ni(h.guardsResult)){const C=Rh(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw C.url=h.guardsResult,C}const y=new PP(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(y)}),Zo(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Bl(h=>{if(h.guards.canActivateChecks.length)return Ge(h).pipe(fn(y=>{const C=new NP(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}),Qo(y=>{let C=!1;return Ge(y).pipe(function aR(e,t){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ge(n);let a=0;return St(i).pipe(ns(d=>function uR(e,t,n,r){const i=e.routeConfig,a=e._resolve;return void 0!==i?.title&&!iD(i)&&(a[Wh]=i.title),function lR(e,t,n,r){const i=function cR(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ge({});const a={};return St(i).pipe(ft(d=>function dR(e,t,n,r){const i=jl(e,t,r);return _r(i.resolve?i.resolve(t,n):i(t,n))}(e[d],t,n,r).pipe(Jo(),fn(h=>{a[d]=h}))),Oh(1),function AP(e){return Fe(()=>e)}(a),Po(d=>d instanceof va?Kn:ba(d)))}(a,e,t,r).pipe(Fe(d=>(e._resolvedData=d,e.data=Pw(e,n).resolve,i&&iD(i)&&(e.data[Wh]=i.title),null)))}(d.route,r,e,t)),fn(()=>a++),Oh(1),ft(d=>a===i.length?Ge(n):Kn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),fn({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),fn(y=>{const C=new RP(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}))}),Bl(h=>{const{targetSnapshot:y,id:C,extractedUrl:M,rawUrl:N,extras:{skipLocationChange:$,replaceUrl:B}}=h;return this.hooks.afterPreactivation(y,{navigationId:C,appliedUrlTree:M,rawUrlTree:N,skipLocationChange:!!$,replaceUrl:!!B})}),Bl(h=>{const y=C=>{const M=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(C.routeConfig).pipe(fn(N=>{C.component=N}),Fe(()=>{})));for(const N of C.children)M.push(...y(N));return M};return aw(y(h.targetSnapshot.root)).pipe(Mh(),Er(1))}),Fe(h=>{const y=function lN(e,t,n){const r=xa(e,t._root,n?n._root:void 0);return new Ow(r,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return{...h,targetRouterState:y}}),fn(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((e,t,n)=>Fe(r=>(new CN(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),fn({next(){a=!0},complete(){a=!0}}),Ph(()=>{a||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Po(h=>{if(d=!0,function UP(e){return e&&e[gw]}(h)){const y=ni(h.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const C=new hw(i.id,this.serializeUrl(i.extractedUrl),h.message);if(r.next(C),y){const M=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),N={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uD(i.source)};this.scheduleNavigation(M,"imperative",null,N,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new IP(i.id,this.serializeUrl(i.extractedUrl),h);r.next(y);try{i.resolve(this.errorHandler(h))}catch(C){i.reject(C)}}return Kn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=n.state?.navigationId?n.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const d=this.parseUrl(n.url);this.scheduleNavigation(d,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(zh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:h,preserveFragment:y}=r,C=i||this.routerState.root,M=y?this.currentUrlTree.fragment:d;let N=null;switch(h){case"merge":N={...this.currentUrlTree.queryParams,...a};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=a||null}return null!==N&&(N=this.removeEmptyProps(N)),function fN(e,t,n,r,i){if(0===n.length)return Bh(t.root,t.root,t.root,r,i);const a=function hN(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new kw(!0,0,e);let t=0,n=!1;const r=e.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return en(a.outlets,(y,C)=>{h[C]="string"==typeof y?y.split("/"):y}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((h,y)=>{0==y&&"."===h||(0==y&&""===h?n=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new kw(n,t,r)}(n);return a.toRoot()?Bh(t.root,t.root,new Je([],{}),r,i):function d(y){const C=function pN(e,t,n,r){return e.isAbsolute?new Uh(t.root,!0,0):-1===r?new Uh(n,n===t.root,0):function gN(e,t,n){let r=e,i=t,a=n;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Uh(r,!1,i-a)}(n,r+(Nl(e.commands[0])?0:1),e.numberOfDoubleDots)}(a,t,e.snapshot?._urlSegment,y),M=C.processChildren?Rl(C.segmentGroup,C.index,a.commands):Lw(C.segmentGroup,C.index,a.commands);return Bh(t.root,C.segmentGroup,M,r,i)}(e.snapshot?._lastPathIndex)}(C,this.currentUrlTree,n,N,M??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ni(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function DR(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{..._R}:!1===r?{...wR}:r,ni(n))return _w(this.currentUrlTree,n,i);const a=this.parseUrl(n);return _w(this.currentUrlTree,a,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const a=n[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new _a(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,a,d){if(this.disposed)return Promise.resolve(!1);let h,y,C;d?(h=d.resolve,y=d.reject,C=d.promise):C=new Promise(($,B)=>{h=$,y=B});const M=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),N=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):N=0,this.setTransition({id:M,targetPageId:N,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:a,resolve:h,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch($=>Promise.reject($))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new hw(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){fd()},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();function uD(e){return"imperative"!==e}class lD{buildTitle(t){let n,r=t.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(i=>i.outlet===Xe);return n}getResolvedTitleForRoute(t){return t.data[Wh]}}let ER=(()=>{class e extends lD{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(ve(F_))},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class cD{}class dD{preload(t,n){return Ge(null)}}let fD=(()=>{class e{constructor(n,r,i,a,d){this.router=n,this.injector=i,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Zo(n=>n instanceof _a),ns(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=Hu(a.providers,n,`Route: ${a.path}`));const d=a._injector??n,h=a._loadedInjector??d;a.loadChildren&&!a._loadedRoutes||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(d,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return St(i).pipe(Yn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ge(null);const a=i.pipe(ft(d=>null===d?Ge(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??n,d.routes))));return r.loadComponent&&!r._loadedComponent?St([a,this.loader.loadComponent(r)]).pipe(Yn()):a})}}return e.\u0275fac=function(n){return new(n||e)(ve(Un),ve(wf),ve(Ho),ve(cD),ve(Kh))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),Qh=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Nh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _a&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof pw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new pw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){fd()},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();const ri=new Ve("ROUTER_CONFIGURATION"),hD=new Ve("ROUTER_FORROOT_GUARD"),SR=[Ff,{provide:Tw,useClass:Ew},{provide:Un,useFactory:function PR(e,t,n,r,i,a,d={},h,y,C,M){const N=new Un(null,e,t,n,r,i,yw(a));return C&&(N.urlHandlingStrategy=C),M&&(N.routeReuseStrategy=M),N.titleStrategy=y??h,function NR(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(d,N),N},deps:[Tw,Ea,Ff,Dn,wf,Yh,ri,ER,[lD,new Zr],[class gR{},new Zr],[class fR{},new Zr]]},Ea,{provide:is,useFactory:function RR(e){return e.routerState.root},deps:[Un]},fD,dD,class CR{preload(t,n){return n().pipe(Po(()=>Ge(null)))}},{provide:ri,useValue:{enableTracing:!1}},Kh];function AR(){return new Ov("Router",Un)}let pD=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[SR,gD(n),{provide:hD,useFactory:MR,deps:[[Un,new Zr,new Ns]]},{provide:ri,useValue:r||{}},{provide:es,useFactory:OR,deps:[ua,[new hu(Rf),new Zr],ri]},{provide:Qh,useFactory:IR,deps:[Un,mO,ri]},{provide:cD,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:dD},{provide:Ov,multi:!0,useFactory:AR},[Jh,{provide:bf,multi:!0,useFactory:FR,deps:[Jh]},{provide:mD,useFactory:kR,deps:[Jh]},{provide:Tv,multi:!0,useExisting:mD}]]}}static forChild(n){return{ngModule:e,providers:[gD(n)]}}}return e.\u0275fac=function(n){return new(n||e)(ve(hD,8),ve(Un,8))},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({}),e})();function IR(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Qh(e,t,n)}function OR(e,t,n={}){return n.useHash?new ZI(e,t):new Jv(e,t)}function MR(e){return"guarded"}function gD(e){return[{provide:_1,multi:!0,useValue:e},{provide:Yh,multi:!0,useValue:e}]}let Jh=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $e}appInitializer(){return this.injector.get(YI,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(h=>r=h),a=this.injector.get(Un),d=this.injector.get(ri);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?Ge(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ri),i=this.injector.get(fD),a=this.injector.get(Qh),d=this.injector.get(Un),h=this.injector.get(Ku);n===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(ve(Dn))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})();function FR(e){return e.appInitializer.bind(e)}function kR(e){return e.bootstrapListener.bind(e)}const mD=new Ve("Router Initializer"),VR=[];let $R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=rt({imports:[pD.forRoot(VR),pD]}),e})();var jR=O(861);let BR=(()=>{class e{constructor(n){this.http=n}getRiotAPI(n){return this.http.post("https://d3dgyzfa4h.execute-api.us-east-1.amazonaws.com/beta",JSON.stringify(n))}}return e.\u0275fac=function(n){return new(n||e)(ve(nw))},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function UR(e,t){if(1&e&&(xn(0,"div",9)(1,"div",10),to(2),cn(),xn(3,"div",10),Gi(4,"input",11),cn(),xn(5,"div",10),to(6),cn(),xn(7,"div",10),Gi(8,"input",11),cn()()),2&e){const n=t.$implicit,r=t.index;$n(2),Lu(n),$n(2),Gd("id",n),$n(2),qi("Enemy Player ",r+1,""),$n(2),Ru("id","enemy",r,"")}}function HR(e,t){if(1&e){const n=function vy(){return le()}();xn(0,"div",12),Jt("click",function(){return cc(n),dc(Ys().estimateClick())}),xn(1,"button",5),Jt("click",function(){return cc(n),dc(Ys().getValue())}),to(2,"Get Estimate"),cn()()}}function GR(e,t){if(1&e&&(xn(0,"div"),to(1),cn()),2&e){const n=Ys();$n(1),qi("Ally Champions: ",n.allyChampions,"")}}function zR(e,t){if(1&e&&(xn(0,"div"),to(1),cn()),2&e){const n=Ys();$n(1),qi("Enemy Champions: ",n.enemyChampions,"")}}const Ma=O(534);let qR=(()=>{class e{constructor(n){this.riotService=n,this.InferenceSession=Ma.InferenceSession,this.Tensor=Ma.Tensor,this.nameInput="",this.names=[],this.allyChampions=["","","","",""],this.enemyChampions=["","","","",""],this.estimateClicked=!1}addNames(){this.names=this.nameInput.trim().split("\n"),this.names=this.names.map(n=>n.replace(" joined the lobby",""))}getValue(){this.names.forEach((n,r)=>{let i=document.querySelector("#"+n),a=document.querySelector("#enemy"+r);null!=i&&(this.allyChampions[r]=i.value.replace(/\s+/g,"").toLocaleLowerCase()),null!=a&&(this.enemyChampions[r]=a.value.replace(/\s+/g,"").toLocaleLowerCase())})}estimateClick(){this.estimateClicked=!0,this.runInference("hi")}runInference(n){return(0,jR.Z)(function*(){console.log(n),console.log("---");const r=yield Ma.InferenceSession.create("../src/app/name-input/LeagueWinOneO.onnx",{executionProviders:["wasm"]}),i=Float32Array.from([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),a=new Ma.Tensor("float32",i,[3,4]),d={float_input:new Ma.Tensor("float32",a,[1,20])},h=yield r.run(d);console.log(h),console.log(h.c.data)})()}}return e.\u0275fac=function(n){return new(n||e)(de(BR))},e.\u0275cmp=ys({type:e,selectors:[["lw-names"]],decls:12,vars:5,consts:[[1,"input"],[1,"name-label"],[1,"text-area-input"],["name","Text1","cols","40","rows","5",3,"ngModel","ngModelChange"],[1,"enter"],[1,"btn","btn-primary",3,"click"],["class","row",4,"ngFor","ngForOf"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-2"],["type","text",3,"id"],[1,"button",3,"click"]],template:function(n,r){1&n&&(xn(0,"div",0)(1,"div",1),to(2,"Enter Names: "),cn(),xn(3,"div",2)(4,"textarea",3),Jt("ngModelChange",function(a){return r.nameInput=a}),cn()(),xn(5,"div",4)(6,"button",5),Jt("click",function(){return r.addNames()}),to(7," Submit "),cn()(),qs(8,UR,9,4,"div",6),qs(9,HR,3,0,"div",7),qs(10,GR,2,1,"div",8),qs(11,zR,2,1,"div",8),cn()),2&n&&($n(4),qo("ngModel",r.nameInput),$n(4),qo("ngForOf",r.names),$n(1),qo("ngIf",r.names.length),$n(1),qo("ngIf",r.estimateClicked),$n(1),qo("ngIf",r.estimateClicked))},dependencies:[d_,h_,gl,h0,gh],styles:["div[_ngcontent-%COMP%]{padding-bottom:10px}"]}),e})(),WR=(()=>{class e{constructor(){this.pageTitle="League Winrate Estimator"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ys({type:e,selectors:[["lw-root"]],decls:4,vars:1,consts:[[1,"title"]],template:function(n,r){1&n&&(xn(0,"div",0)(1,"h1"),to(2),cn(),Gi(3,"lw-names"),cn()),2&n&&($n(2),Lu(r.pageTitle))},dependencies:[qR],styles:["div[_ngcontent-%COMP%]{padding-left:20px;padding-top:10px;padding-bottom:10px}"]}),e})(),YR=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xn({type:e,bootstrap:[WR]}),e.\u0275inj=rt({providers:[],imports:[HO,$R,iP,wP]}),e})();(function SI(){$v=!1})(),UO().bootstrapModule(YR).catch(e=>console.error(e))},667:(X,_,O)=>{"use strict";O.r(_),O.d(_,{InferenceSession:()=>E,Tensor:()=>m,env:()=>p,registerBackend:()=>g});var x=O(861);const w={},T=[],g=(S,A,I)=>{if(!A||"function"!=typeof A.init||"function"!=typeof A.createSessionHandler)throw new TypeError("not a valid backend");{const k=w[S];if(void 0!==k){if(k.backend===A)return;throw new Error(`backend "${S}" is already registered`)}if(w[S]={backend:A,priority:I},I>=0){for(let L=0;L<T.length;L++)if(w[T[L]].priority<=I)return void T.splice(L,0,S);T.push(S)}}},b=function(){var S=(0,x.Z)(function*(A){const I=0===A.length?T:A,k=[];for(const L of I){const R=w[L];if(R){if(R.initialized)return R.backend;if(R.aborted)continue;const P=!!R.initPromise;try{return P||(R.initPromise=R.backend.init()),yield R.initPromise,R.initialized=!0,R.backend}catch(j){P||k.push({name:L,err:j}),R.aborted=!0}finally{delete R.initPromise}}}throw new Error(`no available backend found. ERR: ${k.map(L=>`[${L.name}] ${L.err}`).join(", ")}`)});return function(I){return S.apply(this,arguments)}}(),p=new class v{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(A){if(void 0!==A){if("string"!=typeof A||-1===["verbose","info","warning","error","fatal"].indexOf(A))throw new Error(`Unsupported logging level: ${A}`);this.logLevelInternal=A}}get logLevel(){return this.logLevelInternal}},c=typeof BigInt64Array<"u"&&"function"==typeof BigInt64Array.from,s=typeof BigUint64Array<"u"&&"function"==typeof BigUint64Array.from,o=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),u=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);c&&(o.set("int64",BigInt64Array),u.set(BigInt64Array,"int64")),s&&(o.set("uint64",BigUint64Array),u.set(BigUint64Array,"uint64"));class f{constructor(A,I,k){let L,R,P;if("string"==typeof A)if(L=A,P=k,"string"===A){if(!Array.isArray(I))throw new TypeError("A string tensor's data must be a string array.");R=I}else{const z=o.get(A);if(void 0===z)throw new TypeError(`Unsupported tensor type: ${A}.`);if(Array.isArray(I))R=z.from(I);else{if(!(I instanceof z))throw new TypeError(`A ${L} tensor's data must be type of ${z}`);R=I}}else if(P=I,Array.isArray(A)){if(0===A.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const z=typeof A[0];if("string"===z)L="string",R=A;else{if("boolean"!==z)throw new TypeError(`Invalid element type of data array: ${z}.`);L="bool",R=Uint8Array.from(A)}}else{const z=u.get(A.constructor);if(void 0===z)throw new TypeError(`Unsupported type for tensor data: ${A.constructor}.`);L=z,R=A}if(void 0===P)P=[R.length];else if(!Array.isArray(P))throw new TypeError("A tensor's dims must be a number array");const j=(S=>{let A=1;for(let I=0;I<S.length;I++){const k=S[I];if("number"!=typeof k||!Number.isSafeInteger(k))throw new TypeError(`dims[${I}] must be an integer, got: ${k}`);if(k<0)throw new RangeError(`dims[${I}] must be a non-negative integer, got: ${k}`);A*=k}return A})(P);if(j!==R.length)throw new Error(`Tensor's size(${j}) does not match data length(${R.length}).`);this.dims=P,this.type=L,this.data=R,this.size=j}reshape(A){return new f(this.type,this.data,A)}}const m=f;class D{constructor(A){this.handler=A}run(A,I,k){var L=this;return(0,x.Z)(function*(){const R={};let P={};if("object"!=typeof A||null===A||A instanceof m||Array.isArray(A))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let j=!0;if("object"==typeof I){if(null===I)throw new TypeError("Unexpected argument[1]: cannot be null.");if(I instanceof m)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(I)){if(0===I.length)throw new TypeError("'fetches' cannot be an empty array.");j=!1;for(const G of I){if("string"!=typeof G)throw new TypeError("'fetches' must be a string array or an object.");if(-1===L.outputNames.indexOf(G))throw new RangeError(`'fetches' contains invalid output name: ${G}.`);R[G]=null}if("object"==typeof k&&null!==k)P=k;else if(typeof k<"u")throw new TypeError("'options' must be an object.")}else{let G=!1;const ne=Object.getOwnPropertyNames(I);for(const se of L.outputNames)if(-1!==ne.indexOf(se)){const q=I[se];(null===q||q instanceof m)&&(G=!0,j=!1,R[se]=q)}if(G){if("object"==typeof k&&null!==k)P=k;else if(typeof k<"u")throw new TypeError("'options' must be an object.")}else P=I}}else if(typeof I<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const G of L.inputNames)if(typeof A[G]>"u")throw new Error(`input '${G}' is missing in 'feeds'.`);if(j)for(const G of L.outputNames)R[G]=null;const z=yield L.handler.run(A,R,P),J={};for(const G in z)Object.hasOwnProperty.call(z,G)&&(J[G]=new m(z[G].type,z[G].data,z[G].dims));return J})()}static create(A,I,k,L){return(0,x.Z)(function*(){let R,P={};if("string"==typeof A){if(R=A,"object"==typeof I&&null!==I)P=I;else if(typeof I<"u")throw new TypeError("'options' must be an object.")}else if(A instanceof Uint8Array){if(R=A,"object"==typeof I&&null!==I)P=I;else if(typeof I<"u")throw new TypeError("'options' must be an object.")}else{if(!(A instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&A instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const ne=A;let se=0,q=A.byteLength;if("object"==typeof I&&null!==I)P=I;else if("number"==typeof I){if(se=I,!Number.isSafeInteger(se))throw new RangeError("'byteOffset' must be an integer.");if(se<0||se>=ne.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${ne.byteLength}).`);if(q=A.byteLength-se,"number"==typeof k){if(q=k,!Number.isSafeInteger(q))throw new RangeError("'byteLength' must be an integer.");if(q<=0||se+q>ne.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${ne.byteLength-se}].`);if("object"==typeof L&&null!==L)P=L;else if(typeof L<"u")throw new TypeError("'options' must be an object.")}else if(typeof k<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof I<"u")throw new TypeError("'options' must be an object.");R=new Uint8Array(ne,se,q)}}const z=(P.executionProviders||[]).map(ne=>"string"==typeof ne?ne:ne.name),G=yield(yield b(z)).createSessionHandler(R,P);return new D(G)})()}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const E=D},534:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(926).default,_;self,_=function(__WEBPACK_EXTERNAL_MODULE__2174__){return(()=>{var __webpack_modules__={3474:(X,_,O)=>{var x,w=(x=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(T){function g(){return _e.buffer!=$e&&Ht(_e.buffer),ze}function b(){return _e.buffer!=$e&&Ht(_e.buffer),nt}function v(){return _e.buffer!=$e&&Ht(_e.buffer),Ce}function p(){return _e.buffer!=$e&&Ht(_e.buffer),je}var c;T=T||{},c||(c=void 0!==T?T:{});var s,o,u=Object.assign;c.ready=new Promise(function(F,V){s=F,o=V});var l,f,m,D,E,S,A=u({},c),I="./this.program",k=(F,V)=>{throw V},L="object"==typeof window,R="function"==typeof importScripts,P="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,j=c.ENVIRONMENT_IS_PTHREAD||!1,z="";function J(F){return c.locateFile?c.locateFile(F,z):z+F}if(P){let F;z=R?O(908).dirname(z)+"/":"//",S=()=>{E||(D=O(1384),E=O(908))},l=function(V,H){return S(),V=E.normalize(V),D.readFileSync(V,H?null:"utf8")},m=V=>((V=l(V,!0)).buffer||(V=new Uint8Array(V)),V),f=(V,H,W)=>{S(),V=E.normalize(V),D.readFile(V,function(ae,ye){ae?W(ae):H(ye.buffer)})},1<process.argv.length&&(I=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(V){if(!(V instanceof li))throw V}),process.on("unhandledRejection",function(V){throw V}),k=(V,H)=>{if(Qt())throw process.exitCode=V,H;H instanceof li||pe("exiting due to exception: "+H),process.exit(V)},c.inspect=function(){return"[Emscripten Module object]"};try{F=O(9925)}catch(V){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),V}O.g.Worker=F.Worker}else(L||R)&&(R?z=self.location.href:typeof document<"u"&&document.currentScript&&(z=document.currentScript.src),x&&(z=x),z=0!==z.indexOf("blob:")?z.substr(0,z.replace(/[?#].*/,"").lastIndexOf("/")+1):"",P||(l=F=>{var V=new XMLHttpRequest;return V.open("GET",F,!1),V.send(null),V.responseText},R&&(m=F=>{var V=new XMLHttpRequest;return V.open("GET",F,!1),V.responseType="arraybuffer",V.send(null),new Uint8Array(V.response)}),f=(F,V,H)=>{var W=new XMLHttpRequest;W.open("GET",F,!0),W.responseType="arraybuffer",W.onload=()=>{200==W.status||0==W.status&&W.response?V(W.response):H()},W.onerror=H,W.send(null)}));P&&typeof performance>"u"&&(O.g.performance=O(6953).performance);var G=console.log.bind(console),ne=console.warn.bind(console);P&&(S(),G=F=>D.writeSync(1,F+"\n"),ne=F=>D.writeSync(2,F+"\n"));var se,q,Z=c.print||G,pe=c.printErr||ne;u(c,A),A=null,c.thisProgram&&(I=c.thisProgram),c.quit&&(k=c.quit),c.wasmBinary&&(q=c.wasmBinary);var ie=c.noExitRuntime||!1;"object"!=typeof WebAssembly&&qn("no native wasm support detected");var _e,Ke,Re=!1;function lt(F){var V=new TextDecoder(F);this.decode=H=>(H.buffer instanceof SharedArrayBuffer&&(H=new Uint8Array(H)),V.decode.call(V,H))}var $e,ze,nt,Ce,je,hn=typeof TextDecoder<"u"?new lt("utf8"):void 0;function Fe(F,V,H){var W=V+H;for(H=V;F[H]&&!(H>=W);)++H;if(16<H-V&&F.subarray&&hn)return hn.decode(F.subarray(V,H));for(W="";V<H;){var ae=F[V++];if(128&ae){var ye=63&F[V++];if(192==(224&ae))W+=String.fromCharCode((31&ae)<<6|ye);else{var Ee=63&F[V++];65536>(ae=224==(240&ae)?(15&ae)<<12|ye<<6|Ee:(7&ae)<<18|ye<<12|Ee<<6|63&F[V++])?W+=String.fromCharCode(ae):(ae-=65536,W+=String.fromCharCode(55296|ae>>10,56320|1023&ae))}}else W+=String.fromCharCode(ae)}return W}function wt(F,V){return F?Fe(b(),F,V):""}function Zt(F,V,H,W){if(!(0<W))return 0;var ae=H;W=H+W-1;for(var ye=0;ye<F.length;++ye){var Ee=F.charCodeAt(ye);if(55296<=Ee&&57343>=Ee&&(Ee=65536+((1023&Ee)<<10)|1023&F.charCodeAt(++ye)),127>=Ee){if(H>=W)break;V[H++]=Ee}else{if(2047>=Ee){if(H+1>=W)break;V[H++]=192|Ee>>6}else{if(65535>=Ee){if(H+2>=W)break;V[H++]=224|Ee>>12}else{if(H+3>=W)break;V[H++]=240|Ee>>18,V[H++]=128|Ee>>12&63}V[H++]=128|Ee>>6&63}V[H++]=128|63&Ee}}return V[H]=0,H-ae}function pn(F,V,H){return Zt(F,b(),V,H)}function gt(F){for(var V=0,H=0;H<F.length;++H){var W=F.charCodeAt(H);55296<=W&&57343>=W&&(W=65536+((1023&W)<<10)|1023&F.charCodeAt(++H)),127>=W?++V:V=2047>=W?V+2:65535>=W?V+3:V+4}return V}function Ut(F){var V=gt(F)+1,H=zr(V);return H&&Zt(F,g(),H,V),H}function Ht(F){$e=F,c.HEAP8=ze=new Int8Array(F),c.HEAP16=new Int16Array(F),c.HEAP32=Ce=new Int32Array(F),c.HEAPU8=nt=new Uint8Array(F),c.HEAPU16=new Uint16Array(F),c.HEAPU32=new Uint32Array(F),c.HEAPF32=new Float32Array(F),c.HEAPF64=je=new Float64Array(F)}typeof TextDecoder<"u"&&new lt("utf-16le"),j&&($e=c.buffer);var Hn=c.INITIAL_MEMORY||16777216;if(j)_e=c.wasmMemory,$e=c.buffer;else if(c.wasmMemory)_e=c.wasmMemory;else if(!((_e=new WebAssembly.Memory({initial:Hn/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw pe("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),P&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");_e&&($e=_e.buffer),Hn=$e.byteLength,Ht($e);var wr,fo=[],Gn=[],ho=[],Dr=[];function Qt(){return ie||!1}function xr(){var F=c.preRun.shift();fo.unshift(F)}var tn,Pn=0,gn=null,zn=null;function qn(F){throw j?postMessage({cmd:"onAbort",arg:F}):c.onAbort&&c.onAbort(F),pe(F="Aborted("+F+")"),Re=!0,F=new WebAssembly.RuntimeError(F+". Build with -s ASSERTIONS=1 for more info."),o(F),F}function Br(){return tn.startsWith("data:application/octet-stream;base64,")}function ii(){var F=tn;try{if(F==tn&&q)return new Uint8Array(q);if(m)return m(F);throw"both async and sync fetching of the wasm failed"}catch(V){qn(V)}}c.preloadedImages={},c.preloadedAudios={},tn="ort-wasm-threaded.wasm",Br()||(tn=J(tn));var ss={};function ir(F){for(;0<F.length;){var V=F.shift();if("function"==typeof V)V(c);else{var H=V.Tb;"number"==typeof H?void 0===V.Sa?Hr(H)():Hr(H)(V.Sa):H(void 0===V.Sa?null:V.Sa)}}}function si(F){var V=hs();return F=F(),ps(V),F}function Ro(F){var V=Oe.Oa[F];V&&(v()[F>>2]=0,Oe.jb(V.worker))}var Oe={Pa:[],Va:[],fb:[],Wb:function(){},ub:function(){Oe.receiveObjectTransfer=Oe.zb,Oe.threadInit=Oe.lb,Oe.setExitStatus=Oe.Bb},Oa:{},Bb:function(){},kb:function(){for(var F in Oe.Oa){var V=Oe.Oa[F];V&&V.worker&&Oe.jb(V.worker)}for(F=0;F<Oe.Pa.length;++F)Oe.Pa[F].terminate();Oe.Pa=[]},jb:function(F){Oe.Ab(function(){delete Oe.Oa[F.Qa.eb],Oe.Pa.push(F),Oe.Va.splice(Oe.Va.indexOf(F),1),fs(F.Qa.eb),F.Qa=void 0})},Ab:function(F){v()[Yl>>2]=0;try{F()}finally{v()[Yl>>2]=1}},zb:function(){},lb:function(){for(var F in Oe.fb)Oe.fb[F]()},wb:function(F,V){F.onmessage=H=>{var W=(H=H.data).cmd;if(F.Qa&&(Oe.pb=F.Qa.eb),H.targetThread&&H.targetThread!=Se()){var ae=Oe.Oa[H.bc];ae?ae.worker.postMessage(H,H.transferList):pe('Internal error! Worker sent a message "'+W+'" to target pthread '+H.targetThread+", but that thread no longer exists!")}else"processQueuedMainThreadWork"===W?yo():"spawnThread"===W?U(H):"cleanupThread"===W?Ro(H.thread):"killThread"===W?(H=H.thread,v()[H>>2]=0,W=Oe.Oa[H],delete Oe.Oa[H],W.worker.terminate(),fs(H),Oe.Va.splice(Oe.Va.indexOf(W.worker),1),W.worker.Qa=void 0):"cancelThread"===W?Oe.Oa[H.thread].worker.postMessage({cmd:"cancel"}):"loaded"===W?(F.loaded=!0,V&&V(F),F.Ua&&(F.Ua(),delete F.Ua)):"print"===W?Z("Thread "+H.threadId+": "+H.text):"printErr"===W?pe("Thread "+H.threadId+": "+H.text):"alert"===W?alert("Thread "+H.threadId+": "+H.text):"setimmediate"===H.target?F.postMessage(H):"onAbort"===W?c.onAbort&&c.onAbort(H.arg):pe("worker sent an unknown command "+W);Oe.pb=void 0},F.onerror=H=>{throw pe("worker sent an error! "+H.filename+":"+H.lineno+": "+H.message),H},P&&(F.on("message",function(H){F.onmessage({data:H})}),F.on("error",function(H){F.onerror(H)}),F.on("detachedExit",function(){})),F.postMessage({cmd:"load",urlOrBlob:c.mainScriptUrlOrBlob||x,wasmMemory:_e,wasmModule:Ke})},mb:function(){var F=J("ort-wasm-threaded.worker.js");Oe.Pa.push(new Worker(F))},rb:function(){return 0==Oe.Pa.length&&(Oe.mb(),Oe.wb(Oe.Pa[0])),Oe.Pa.pop()}};function ai(F){if(j)return mt(1,0,F);try{Ua(F)}catch(V){V instanceof li||"unwind"==V||k(1,V)}}c.establishStackSpace=function(){var F=Se(),V=v()[F+44>>2];F=v()[F+48>>2],Wl(V,V-F),ps(V)};var Ur,Tr=[];function Hr(F){var V=Tr[F];return V||(F>=Tr.length&&(Tr.length=F+1),Tr[F]=V=wr.get(F)),V}function po(F){this.Ta=F-16,this.Gb=function(V){v()[this.Ta+4>>2]=V},this.Db=function(V){v()[this.Ta+8>>2]=V},this.Eb=function(){v()[this.Ta>>2]=0},this.Cb=function(){g()[this.Ta+12>>0]=0},this.Fb=function(){g()[this.Ta+13>>0]=0},this.sb=function(V,H){this.Gb(V),this.Db(H),this.Eb(),this.Cb(),this.Fb()}}function U(F){var V=Oe.rb();if(!V)return 6;Oe.Va.push(V);var H=Oe.Oa[F.cb]={worker:V,eb:F.cb};V.Qa=H;var W={cmd:"run",start_routine:F.Hb,arg:F.Sa,threadInfoStruct:F.cb};return V.Ua=()=>{W.time=performance.now(),V.postMessage(W,F.Mb)},V.loaded&&(V.Ua(),delete V.Ua),0}c.invokeEntryPoint=function(F,V){return Hr(F)(V)},Ur=P?()=>{var F=process.hrtime();return 1e3*F[0]+F[1]/1e6}:j?()=>performance.now()-c.__performance_now_clock_drift:()=>performance.now();var K={},re=[null,[],[]];function ce(F,V){var H=re[F];0===V||10===V?((1===F?Z:pe)(Fe(H,0)),H.length=0):H.push(V)}var we={};function be(F,V,H){return j?mt(2,1,F,V,H):0}function Te(F,V){if(j)return mt(3,1,F,V)}function Nt(F,V,H,W){if(j)return mt(4,1,F,V,H,W)}function Yt(F,V){if(j)return mt(5,1,F,V)}function Kt(F,V,H){if(j)return mt(6,1,F,V,H)}function Ct(F,V,H){return j?mt(7,1,F,V,H):0}function Wn(F,V){if(j)return mt(8,1,F,V)}function sr(F,V){return j?mt(9,1,F,V):(F=wt(F),we.Qb(F,V))}function te(F,V,H,W,ae,ye){if(j)V=mt(10,1,F,V,H,W,ae,ye);else if(ye<<=12,0!=(16&W)&&F%65536!=0)V=-28;else if(0!=(32&W)){var Ee=65536*Math.ceil(V/65536);(F=nn(65536,Ee))?b().fill(0,F,F+Ee):F=0,F?(K[F]={yb:F,vb:V,nb:!0,fd:ae,Zb:H,flags:W,offset:ye},V=F):V=-48}else V=-52;return V}function ke(F,V){if(j)F=mt(11,1,F,V);else{var H=K[F];0!==V&&H?(V===H.vb&&(K[F]=null,H.nb&&zl(H.yb)),F=0):F=-28}return F}function vt(F,V,H){if(j)return mt(12,1,F,V,H)}function ft(F,V,H){return j?mt(13,1,F,V,H):(F=wt(F),we.Rb(F,V,H))}function Yn(F){if(j)return mt(14,1,F)}function Kn(F,V){if(j)return mt(15,1,F,V)}function Ul(F){if(j)return mt(16,1,F)}function Pa(F,V,H){function W(Rt){return(Rt=Rt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Rt[1]:"GMT"}if(j)return mt(17,1,F,V,H);var ae=(new Date).getFullYear(),ye=new Date(ae,0,1),Ee=new Date(ae,6,1);ae=ye.getTimezoneOffset();var it=Ee.getTimezoneOffset(),De=Math.max(ae,it);v()[F>>2]=60*De,v()[V>>2]=Number(ae!=it),F=W(ye),V=W(Ee),F=Ut(F),V=Ut(V),it<ae?(v()[H>>2]=F,v()[H+4>>2]=V):(v()[H>>2]=V,v()[H+4>>2]=F)}function mt(F,V){var H=arguments.length-2,W=arguments;return si(function(){for(var ae=An(8*H),ye=ae>>3,Ee=0;Ee<H;Ee++){var it=W[2+Ee];p()[ye+Ee]=it}return ja(F,H,ae,V)})}var Fo=[],Na=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function Gr(F){return F=2<F?wt(F):F,Na[F]||(typeof document<"u"?document.querySelector(F):void 0)}function Ra(F,V,H){var ae,ye,Ee,it,W=Gr(F);return W?(W.Za&&(v()[W.Za>>2]=V,v()[W.Za+4>>2]=H),!W.ib&&W.Ob?W.Za?(ae=W=v()[W.Za+8>>2],ye=F=F?wt(F):"",Ee=V,it=H,si(function(){var De=An(12),Rt=0;if(ye){Rt=gt(ye)+1;var rt=zr(Rt);pn(ye,rt,Rt),Rt=rt}v()[De>>2]=Rt,v()[De+4>>2]=Ee,v()[De+8>>2]=it,ql(ae,657457152,0,Rt,De)}),1):-4:(W.ib&&(W=W.ib),F=!1,W.Ya&&W.Ya.Xa&&(F=0===(F=W.Ya.Xa.getParameter(2978))[0]&&0===F[1]&&F[2]===W.width&&F[3]===W.height),W.width=V,W.height=H,F&&W.Ya.Xa.viewport(0,0,V,H),0)):-4}function as(F,V,H){return j?mt(18,1,F,V,H):Ra(F,V,H)}var ui,Hl=["default","low-power","high-performance"],us={};function Fa(){if(!ui){var F,V={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"};for(F in us)void 0===us[F]?delete V[F]:V[F]=us[F];var H=[];for(F in V)H.push(F+"="+V[F]);ui=H}return ui}function ka(F,V){if(j)return mt(19,1,F,V);var H=0;return Fa().forEach(function(W,ae){var ye=V+H;for(ae=v()[F+4*ae>>2]=ye,ye=0;ye<W.length;++ye)g()[ae++>>0]=W.charCodeAt(ye);g()[ae>>0]=0,H+=W.length+1}),0}function ls(F,V){if(j)return mt(20,1,F,V);var H=Fa();v()[F>>2]=H.length;var W=0;return H.forEach(function(ae){W+=ae.length+1}),v()[V>>2]=W,0}function La(F){return j?mt(21,1,F):0}function Va(F,V,H,W){return j?mt(22,1,F,V,H,W):(F=we.Ub(F),V=we.Sb(F,V,H),v()[W>>2]=V,0)}function St(F,V,H,W,ae){if(j)return mt(23,1,F,V,H,W,ae)}function $a(F,V,H,W){if(j)return mt(24,1,F,V,H,W);for(var ae=0,ye=0;ye<H;ye++){var Ee=v()[V>>2],it=v()[V+4>>2];V+=8;for(var De=0;De<it;De++)ce(F,b()[Ee+De]);ae+=it}return v()[W>>2]=ae,0}function Er(F){return F%4==0&&(F%100!=0||F%400==0)}function cs(F,V){for(var H=0,W=0;W<=V;H+=F[W++]);return H}var go=[31,29,31,30,31,30,31,31,30,31,30,31],ot=[31,28,31,30,31,30,31,31,30,31,30,31];function mo(F,V){for(F=new Date(F.getTime());0<V;){var H=F.getMonth(),W=(Er(F.getFullYear())?go:ot)[H];if(!(V>W-F.getDate())){F.setDate(F.getDate()+V);break}V-=W-F.getDate()+1,F.setDate(1),11>H?F.setMonth(H+1):(F.setMonth(0),F.setFullYear(F.getFullYear()+1))}return F}function ut(F,V,H,W){function ae(Q,Ae,st){for(Q="number"==typeof Q?Q.toString():Q||"";Q.length<Ae;)Q=st[0]+Q;return Q}function ye(Q,Ae){return ae(Q,Ae,"0")}function Ee(Q,Ae){function st(Cr){return 0>Cr?-1:0<Cr?1:0}var on;return 0===(on=st(Q.getFullYear()-Ae.getFullYear()))&&0===(on=st(Q.getMonth()-Ae.getMonth()))&&(on=st(Q.getDate()-Ae.getDate())),on}function it(Q){switch(Q.getDay()){case 0:return new Date(Q.getFullYear()-1,11,29);case 1:return Q;case 2:return new Date(Q.getFullYear(),0,3);case 3:return new Date(Q.getFullYear(),0,2);case 4:return new Date(Q.getFullYear(),0,1);case 5:return new Date(Q.getFullYear()-1,11,31);case 6:return new Date(Q.getFullYear()-1,11,30)}}function De(Q){Q=mo(new Date(Q.Na+1900,0,1),Q.bb);var Ae=new Date(Q.getFullYear()+1,0,4),st=it(new Date(Q.getFullYear(),0,4));return Ae=it(Ae),0>=Ee(st,Q)?0>=Ee(Ae,Q)?Q.getFullYear()+1:Q.getFullYear():Q.getFullYear()-1}var Rt=v()[W+40>>2];for(var rt in W={Kb:v()[W>>2],Jb:v()[W+4>>2],$a:v()[W+8>>2],Wa:v()[W+12>>2],Ra:v()[W+16>>2],Na:v()[W+20>>2],ab:v()[W+24>>2],bb:v()[W+28>>2],cc:v()[W+32>>2],Ib:v()[W+36>>2],Lb:Rt?wt(Rt):""},H=wt(H),Rt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})H=H.replace(new RegExp(rt,"g"),Rt[rt]);var Q,Ae,rn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Tt="January February March April May June July August September October November December".split(" ");for(rt in Rt={"%a":function(Q){return rn[Q.ab].substring(0,3)},"%A":function(Q){return rn[Q.ab]},"%b":function(Q){return Tt[Q.Ra].substring(0,3)},"%B":function(Q){return Tt[Q.Ra]},"%C":function(Q){return ye((Q.Na+1900)/100|0,2)},"%d":function(Q){return ye(Q.Wa,2)},"%e":function(Q){return ae(Q.Wa,2," ")},"%g":function(Q){return De(Q).toString().substring(2)},"%G":function(Q){return De(Q)},"%H":function(Q){return ye(Q.$a,2)},"%I":function(Q){return 0==(Q=Q.$a)?Q=12:12<Q&&(Q-=12),ye(Q,2)},"%j":function(Q){return ye(Q.Wa+cs(Er(Q.Na+1900)?go:ot,Q.Ra-1),3)},"%m":function(Q){return ye(Q.Ra+1,2)},"%M":function(Q){return ye(Q.Jb,2)},"%n":function(){return"\n"},"%p":function(Q){return 0<=Q.$a&&12>Q.$a?"AM":"PM"},"%S":function(Q){return ye(Q.Kb,2)},"%t":function(){return"\t"},"%u":function(Q){return Q.ab||7},"%U":function(Q){var Ae=new Date(Q.Na+1900,0,1),st=0===Ae.getDay()?Ae:mo(Ae,7-Ae.getDay());return 0>Ee(st,Q=new Date(Q.Na+1900,Q.Ra,Q.Wa))?ye(Math.ceil((31-st.getDate()+(cs(Er(Q.getFullYear())?go:ot,Q.getMonth()-1)-31)+Q.getDate())/7),2):0===Ee(st,Ae)?"01":"00"},"%V":function(Q){var Ae=new Date(Q.Na+1901,0,4),st=it(new Date(Q.Na+1900,0,4));Ae=it(Ae);var on=mo(new Date(Q.Na+1900,0,1),Q.bb);return 0>Ee(on,st)?"53":0>=Ee(Ae,on)?"01":ye(Math.ceil((st.getFullYear()<Q.Na+1900?Q.bb+32-st.getDate():Q.bb+1-st.getDate())/7),2)},"%w":function(Q){return Q.ab},"%W":function(Q){var Ae=new Date(Q.Na,0,1),st=1===Ae.getDay()?Ae:mo(Ae,0===Ae.getDay()?1:7-Ae.getDay()+1);return 0>Ee(st,Q=new Date(Q.Na+1900,Q.Ra,Q.Wa))?ye(Math.ceil((31-st.getDate()+(cs(Er(Q.getFullYear())?go:ot,Q.getMonth()-1)-31)+Q.getDate())/7),2):0===Ee(st,Ae)?"01":"00"},"%y":function(Q){return(Q.Na+1900).toString().substring(2)},"%Y":function(Q){return Q.Na+1900},"%z":function(Q){var Ae=0<=(Q=Q.Ib);return Q=Math.abs(Q)/60,(Ae?"+":"-")+String("0000"+(Q/60*100+Q%60)).slice(-4)},"%Z":function(Q){return Q.Lb},"%%":function(){return"%"}})H.includes(rt)&&(H=H.replace(new RegExp(rt,"g"),Rt[rt](W)));return Zt(Q=H,Ae=Array(gt(Q)+1),0,Ae.length),(rt=Ae).length>V?0:(function(Q,Ae){g().set(Q,Ae)}(rt,F),rt.length-1)}var ds=[null,ai,be,Te,Nt,Yt,Kt,Ct,Wn,sr,te,ke,vt,ft,Yn,Kn,Ul,Pa,as,ka,ls,La,Va,St,$a],Gl={b:function(F){return zr(F+16)+16},c:function(F,V,H){throw new po(F).sb(V,H),F},M:function(F){Le(F,!R,1,!L),Oe.lb()},n:function(F){j?postMessage({cmd:"cleanupThread",thread:F}):Ro(F)},p:function(F,V,H,W){if(typeof SharedArrayBuffer>"u")return pe("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var ae=[];return j&&0===ae.length?et(687865856,F,V,H,W):(F={Hb:H,cb:F,Sa:W,Mb:ae},j?(F.Nb="spawnThread",postMessage(F,ae),0):U(F))},i:be,U:Te,R:Nt,y:Yt,A:Kt,t:Ct,S:Wn,H:sr,G:te,F:ke,o:vt,z:ft,w:Yn,T:Kn,x:Ul,j:function(){qn("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_:function(){qn("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},E:function(){return 2097152},Z:function(F,V,H){var W=performance.now();for(H=W+H,Atomics.exchange(v(),gs>>2,F);;){if((W=performance.now())>H)return Atomics.exchange(v(),gs>>2,0),-73;if(0==(W=Atomics.exchange(v(),gs>>2,0)))break;if(yo(),Atomics.load(v(),F>>2)!=V)return-6;Atomics.exchange(v(),gs>>2,F)}return 0},N:function(F,V){if(F==V)postMessage({cmd:"processQueuedMainThreadWork"});else if(j)postMessage({targetThread:F,cmd:"processThreadQueue"});else{if(!(F=(F=Oe.Oa[F])&&F.worker))return;F.postMessage({cmd:"processThreadQueue"})}return 1},V:function(F,V){F=new Date(1e3*v()[F>>2]),v()[V>>2]=F.getUTCSeconds(),v()[V+4>>2]=F.getUTCMinutes(),v()[V+8>>2]=F.getUTCHours(),v()[V+12>>2]=F.getUTCDate(),v()[V+16>>2]=F.getUTCMonth(),v()[V+20>>2]=F.getUTCFullYear()-1900,v()[V+24>>2]=F.getUTCDay(),F=(F.getTime()-Date.UTC(F.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,v()[V+28>>2]=F},W:function(F,V){F=new Date(1e3*v()[F>>2]),v()[V>>2]=F.getSeconds(),v()[V+4>>2]=F.getMinutes(),v()[V+8>>2]=F.getHours(),v()[V+12>>2]=F.getDate(),v()[V+16>>2]=F.getMonth(),v()[V+20>>2]=F.getFullYear()-1900,v()[V+24>>2]=F.getDay();var H=new Date(F.getFullYear(),0,1),W=(F.getTime()-H.getTime())/864e5|0;v()[V+28>>2]=W,v()[V+36>>2]=-60*F.getTimezoneOffset(),W=new Date(F.getFullYear(),6,1).getTimezoneOffset(),F=0|(W!=(H=H.getTimezoneOffset())&&F.getTimezoneOffset()==Math.min(H,W)),v()[V+32>>2]=F},X:function(F){var V=new Date(v()[F+20>>2]+1900,v()[F+16>>2],v()[F+12>>2],v()[F+8>>2],v()[F+4>>2],v()[F>>2],0),H=v()[F+32>>2],W=V.getTimezoneOffset(),ae=new Date(V.getFullYear(),0,1),ye=new Date(V.getFullYear(),6,1).getTimezoneOffset(),Ee=ae.getTimezoneOffset(),it=Math.min(Ee,ye);return 0>H?v()[F+32>>2]=Number(ye!=Ee&&it==W):0<H!=(it==W)&&(ye=Math.max(Ee,ye),V.setTime(V.getTime()+6e4*((0<H?it:ye)-W))),v()[F+24>>2]=V.getDay(),H=(V.getTime()-ae.getTime())/864e5|0,v()[F+28>>2]=H,v()[F>>2]=V.getSeconds(),v()[F+4>>2]=V.getMinutes(),v()[F+8>>2]=V.getHours(),v()[F+12>>2]=V.getDate(),v()[F+16>>2]=V.getMonth(),V.getTime()/1e3|0},Y:function F(V,H,W){F.ob||(F.ob=!0,Pa(V,H,W))},d:function(){qn("")},q:function(F,V){if(0===F)F=Date.now();else{if(1!==F&&4!==F)return v()[ct()>>2]=28,-1;F=Ur()}return v()[V>>2]=F/1e3|0,v()[V+4>>2]=F%1e3*1e6|0,0},B:function(F,V){return F-V},m:function(){P||R||(se||(se={}),se["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(se["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,pe("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))},v:function(){return 2147483648},f:Ur,Q:function(F,V,H){b().copyWithin(F,V,V+H)},g:function(){return P?O(3993).cpus().length:navigator.hardwareConcurrency},I:function(F,V,H){Fo.length=V,H>>=3;for(var W=0;W<V;W++)Fo[W]=p()[H+W];return(0>F?ss[-F-1]:ds[F]).apply(null,Fo)},u:function(F){var V=b().length;if((F>>>=0)<=V||2147483648<F)return!1;for(var H=1;4>=H;H*=2){var W=V*(1+.2/H);W=Math.min(W,F+100663296),0<(W=Math.max(F,W))%65536&&(W+=65536-W%65536);e:{try{_e.grow(Math.min(2147483648,W)-$e.byteLength+65535>>>16),Ht(_e.buffer);var ae=1;break e}catch{}ae=void 0}if(ae)return!0}return!1},K:function(F,V,H){return Gr(F)?Ra(F,V,H):as(F,V,H)},C:function(){throw"unwind"},L:function(F,V){V>>=2;var H=v()[V+6];return V={alpha:!!v()[V],depth:!!v()[V+1],stencil:!!v()[V+2],antialias:!!v()[V+3],premultipliedAlpha:!!v()[V+4],preserveDrawingBuffer:!!v()[V+5],powerPreference:Hl[H],failIfMajorPerformanceCaveat:!!v()[V+7],xb:v()[V+8],Xb:v()[V+9],gb:v()[V+10],qb:v()[V+11],$b:v()[V+12],ac:v()[V+13]},!(F=Gr(F))||V.qb?0:function(W,ae){W.hb||(W.hb=W.getContext,W.getContext=function(Ee,it){return"webgl"==Ee==(it=W.hb(Ee,it))instanceof WebGLRenderingContext?it:null});var ye=W.getContext("webgl",ae);return ye?function(Ee,it){var De=zr(8);v()[De+4>>2]=Se();var Rt={Vb:De,attributes:it,version:it.xb,Xa:Ee};return Ee.canvas&&(Ee.canvas.Ya=Rt),(void 0===it.gb||it.gb)&&function(rt){if(rt||(rt=void 0),!rt.tb){rt.tb=!0;var rn=rt.Xa;(Q=(Tt=rn).getExtension("ANGLE_instanced_arrays"))&&(Tt.vertexAttribDivisor=function(Ae,st){Q.vertexAttribDivisorANGLE(Ae,st)},Tt.drawArraysInstanced=function(Ae,st,on,Cr){Q.drawArraysInstancedANGLE(Ae,st,on,Cr)},Tt.drawElementsInstanced=function(Ae,st,on,Cr,Ha){Q.drawElementsInstancedANGLE(Ae,st,on,Cr,Ha)}),function(Tt){var Q=Tt.getExtension("OES_vertex_array_object");Q&&(Tt.createVertexArray=function(){return Q.createVertexArrayOES()},Tt.deleteVertexArray=function(Ae){Q.deleteVertexArrayOES(Ae)},Tt.bindVertexArray=function(Ae){Q.bindVertexArrayOES(Ae)},Tt.isVertexArray=function(Ae){return Q.isVertexArrayOES(Ae)})}(rn),function(Tt){var Q=Tt.getExtension("WEBGL_draw_buffers");Q&&(Tt.drawBuffers=function(Ae,st){Q.drawBuffersWEBGL(Ae,st)})}(rn),rn.Pb=rn.getExtension("EXT_disjoint_timer_query"),rn.Yb=rn.getExtension("WEBGL_multi_draw"),(rn.getSupportedExtensions()||[]).forEach(function(Tt){Tt.includes("lose_context")||Tt.includes("debug")||rn.getExtension(Tt)})}var Tt,Q}(Rt),De}(ye,ae):0}(F,V)},O:ka,P:ls,D:function(F){Ua(F)},h:La,l:Va,s:St,k:$a,J:function(F){var V=Date.now();return v()[F>>2]=V/1e3|0,v()[F+4>>2]=V%1e3*1e3|0,0},a:_e||c.wasmMemory,r:ut,e:function(F,V,H,W){return ut(F,V,H,W)}};(function(){function F(ae,ye){c.asm=ae.exports,Oe.fb.push(c.asm.xa),wr=c.asm.Ba,Gn.unshift(c.asm.$),Ke=ye,j||(Pn--,c.monitorRunDependencies&&c.monitorRunDependencies(Pn),0==Pn&&(null!==gn&&(clearInterval(gn),gn=null),zn&&(ae=zn,zn=null,ae())))}function V(ae){F(ae.instance,ae.module)}function H(ae){return function(){if(!q&&(L||R)){if("function"==typeof fetch&&!tn.startsWith("file://"))return fetch(tn,{credentials:"same-origin"}).then(function(ye){if(!ye.ok)throw"failed to load wasm binary file at '"+tn+"'";return ye.arrayBuffer()}).catch(function(){return ii()});if(f)return new Promise(function(ye,Ee){f(tn,function(it){ye(new Uint8Array(it))},Ee)})}return Promise.resolve().then(function(){return ii()})}().then(function(ye){return WebAssembly.instantiate(ye,W)}).then(function(ye){return ye}).then(ae,function(ye){pe("failed to asynchronously prepare wasm: "+ye),qn(ye)})}var W={a:Gl};if(j||(Pn++,c.monitorRunDependencies&&c.monitorRunDependencies(Pn)),c.instantiateWasm)try{return c.instantiateWasm(W,F)}catch(ae){return pe("Module.instantiateWasm callback failed with error: "+ae),!1}(q||"function"!=typeof WebAssembly.instantiateStreaming||Br()||tn.startsWith("file://")||"function"!=typeof fetch?H(V):fetch(tn,{credentials:"same-origin"}).then(function(ae){return WebAssembly.instantiateStreaming(ae,W).then(V,function(ye){return pe("wasm streaming compile failed: "+ye),pe("falling back to ArrayBuffer instantiation"),H(V)})})).catch(o)})(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.$).apply(null,arguments)},c._OrtInit=function(){return(c._OrtInit=c.asm.aa).apply(null,arguments)},c._OrtCreateSessionOptions=function(){return(c._OrtCreateSessionOptions=c.asm.ba).apply(null,arguments)},c._OrtAddSessionConfigEntry=function(){return(c._OrtAddSessionConfigEntry=c.asm.ca).apply(null,arguments)},c._OrtReleaseSessionOptions=function(){return(c._OrtReleaseSessionOptions=c.asm.da).apply(null,arguments)},c._OrtCreateSession=function(){return(c._OrtCreateSession=c.asm.ea).apply(null,arguments)},c._OrtReleaseSession=function(){return(c._OrtReleaseSession=c.asm.fa).apply(null,arguments)},c._OrtGetInputCount=function(){return(c._OrtGetInputCount=c.asm.ga).apply(null,arguments)},c._OrtGetOutputCount=function(){return(c._OrtGetOutputCount=c.asm.ha).apply(null,arguments)},c._OrtGetInputName=function(){return(c._OrtGetInputName=c.asm.ia).apply(null,arguments)},c._OrtGetOutputName=function(){return(c._OrtGetOutputName=c.asm.ja).apply(null,arguments)},c._OrtFree=function(){return(c._OrtFree=c.asm.ka).apply(null,arguments)},c._OrtCreateTensor=function(){return(c._OrtCreateTensor=c.asm.la).apply(null,arguments)},c._OrtGetTensorData=function(){return(c._OrtGetTensorData=c.asm.ma).apply(null,arguments)},c._OrtReleaseTensor=function(){return(c._OrtReleaseTensor=c.asm.na).apply(null,arguments)},c._OrtCreateRunOptions=function(){return(c._OrtCreateRunOptions=c.asm.oa).apply(null,arguments)},c._OrtAddRunConfigEntry=function(){return(c._OrtAddRunConfigEntry=c.asm.pa).apply(null,arguments)},c._OrtReleaseRunOptions=function(){return(c._OrtReleaseRunOptions=c.asm.qa).apply(null,arguments)},c._OrtRun=function(){return(c._OrtRun=c.asm.ra).apply(null,arguments)},c._OrtEndProfiling=function(){return(c._OrtEndProfiling=c.asm.sa).apply(null,arguments)};var ct=c.___errno_location=function(){return(ct=c.___errno_location=c.asm.ta).apply(null,arguments)},Se=c._pthread_self=function(){return(Se=c._pthread_self=c.asm.ua).apply(null,arguments)},zr=c._malloc=function(){return(zr=c._malloc=c.asm.va).apply(null,arguments)},zl=c._free=function(){return(zl=c._free=c.asm.wa).apply(null,arguments)};c._emscripten_tls_init=function(){return(c._emscripten_tls_init=c.asm.xa).apply(null,arguments)};var Ue=c.___funcs_on_exit=function(){return(Ue=c.___funcs_on_exit=c.asm.ya).apply(null,arguments)},yo=c._emscripten_main_thread_process_queued_calls=function(){return(yo=c._emscripten_main_thread_process_queued_calls=c.asm.za).apply(null,arguments)},Le=c.__emscripten_thread_init=function(){return(Le=c.__emscripten_thread_init=c.asm.Aa).apply(null,arguments)};c._emscripten_current_thread_process_queued_calls=function(){return(c._emscripten_current_thread_process_queued_calls=c.asm.Ca).apply(null,arguments)};var et=c._emscripten_sync_run_in_main_thread_4=function(){return(et=c._emscripten_sync_run_in_main_thread_4=c.asm.Da).apply(null,arguments)},ja=c._emscripten_run_in_main_runtime_thread_js=function(){return(ja=c._emscripten_run_in_main_runtime_thread_js=c.asm.Ea).apply(null,arguments)},ql=c._emscripten_dispatch_to_thread_=function(){return(ql=c._emscripten_dispatch_to_thread_=c.asm.Fa).apply(null,arguments)},fs=c.__emscripten_thread_free_data=function(){return(fs=c.__emscripten_thread_free_data=c.asm.Ga).apply(null,arguments)};c.__emscripten_thread_exit=function(){return(c.__emscripten_thread_exit=c.asm.Ha).apply(null,arguments)};var qr,nn=c._memalign=function(){return(nn=c._memalign=c.asm.Ia).apply(null,arguments)},Wl=c._emscripten_stack_set_limits=function(){return(Wl=c._emscripten_stack_set_limits=c.asm.Ja).apply(null,arguments)},hs=c.stackSave=function(){return(hs=c.stackSave=c.asm.Ka).apply(null,arguments)},ps=c.stackRestore=function(){return(ps=c.stackRestore=c.asm.La).apply(null,arguments)},An=c.stackAlloc=function(){return(An=c.stackAlloc=c.asm.Ma).apply(null,arguments)},gs=c.__emscripten_main_thread_futex=687896,Yl=c.__emscripten_allow_main_runtime_queued_calls=683012;function li(F){this.name="ExitStatus",this.message="Program terminated with exit("+F+")",this.status=F}function Ba(){function F(){if(!qr&&(qr=!0,c.calledRun=!0,!Re)&&(j||ir(Gn),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!j)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var V=c.postRun.shift();Dr.unshift(V)}ir(Dr)}}if(!(0<Pn))if(j)s(c),j||ir(Gn),postMessage({cmd:"loaded"});else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)xr();ir(fo),0<Pn||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),F()},1)):F())}}function Ua(F){if(j)throw ai(F),"unwind";Qt()||j||(Ue(),ir(ho),re[1].length&&ce(1,10),re[2].length&&ce(2,10),Oe.kb()),Qt()||(Oe.kb(),c.onExit&&c.onExit(F),Re=!0),k(F,new li(F))}if(c.UTF8ToString=wt,c.stringToUTF8=pn,c.lengthBytesUTF8=gt,c.keepRuntimeAlive=Qt,c.PThread=Oe,c.stackSave=hs,c.stackRestore=ps,c.stackAlloc=An,c.PThread=Oe,c.wasmMemory=_e,c.ExitStatus=li,zn=function F(){qr||Ba(),qr||(zn=F)},c.run=Ba,c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return j&&(ie=!1,Oe.ub()),Ba(),T.ready});X.exports=w},5118:X=>{"use strict";X.exports='"use strict";var e={};if("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node){var t=require("worker_threads"),r=t.parentPort;r.on("message",(function(e){onmessage({data:e})}));var a=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:t.Worker,importScripts:function(e){(0,eval)(a.readFileSync(e,"utf8"))},postMessage:function(e){r.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.threadInfoStruct,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInit();try{var a=e.invokeEntryPoint(t.data.start_routine,t.data.arg);e.keepRuntimeAlive()?e.PThread.setExitStatus(a):e.__emscripten_thread_exit(a)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processThreadQueue"===t.data.cmd?e._pthread_self()&&e._emscripten_current_thread_process_queued_calls():(s("worker.js received unknown command "+t.data.cmd),s(t.data)))}catch(e){throw s("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&s(e.stack),e}};\n'},932:(X,_,O)=>{var x,w=(x=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(T){var g;T=T||{},g||(g=void 0!==T?T:{});var b,v,p=Object.assign;g.ready=new Promise(function(U,K){b=U,v=K});var c,s,o,u,l,f,m=p({},g),D="./this.program",E="object"==typeof window,S="function"==typeof importScripts,A="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,I="";A?(I=S?O(908).dirname(I)+"/":"//",f=()=>{l||(u=O(1384),l=O(908))},c=function(U,K){return f(),U=l.normalize(U),u.readFileSync(U,K?null:"utf8")},o=U=>((U=c(U,!0)).buffer||(U=new Uint8Array(U)),U),s=(U,K,re)=>{f(),U=l.normalize(U),u.readFile(U,function(ce,we){ce?re(ce):K(we.buffer)})},1<process.argv.length&&(D=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(U){throw U}),process.on("unhandledRejection",function(U){throw U}),g.inspect=function(){return"[Emscripten Module object]"}):(E||S)&&(S?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),x&&(I=x),I=0!==I.indexOf("blob:")?I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c=U=>{var K=new XMLHttpRequest;return K.open("GET",U,!1),K.send(null),K.responseText},S&&(o=U=>{var K=new XMLHttpRequest;return K.open("GET",U,!1),K.responseType="arraybuffer",K.send(null),new Uint8Array(K.response)}),s=(U,K,re)=>{var ce=new XMLHttpRequest;ce.open("GET",U,!0),ce.responseType="arraybuffer",ce.onload=()=>{200==ce.status||0==ce.status&&ce.response?K(ce.response):re()},ce.onerror=re,ce.send(null)});var k,L=g.print||console.log.bind(console),R=g.printErr||console.warn.bind(console);p(g,m),m=null,g.thisProgram&&(D=g.thisProgram),g.wasmBinary&&(k=g.wasmBinary),"object"!=typeof WebAssembly&&wt("no native wasm support detected");var P,j,z,J,G,ne=!1,se=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function q(U,K,re){var ce=K+re;for(re=K;U[re]&&!(re>=ce);)++re;if(16<re-K&&U.subarray&&se)return se.decode(U.subarray(K,re));for(ce="";K<re;){var we=U[K++];if(128&we){var be=63&U[K++];if(192==(224&we))ce+=String.fromCharCode((31&we)<<6|be);else{var Te=63&U[K++];65536>(we=224==(240&we)?(15&we)<<12|be<<6|Te:(7&we)<<18|be<<12|Te<<6|63&U[K++])?ce+=String.fromCharCode(we):(we-=65536,ce+=String.fromCharCode(55296|we>>10,56320|1023&we))}}else ce+=String.fromCharCode(we)}return ce}function Z(U,K){return U?q(J,U,K):""}function pe(U,K,re,ce){if(!(0<ce))return 0;var we=re;ce=re+ce-1;for(var be=0;be<U.length;++be){var Te=U.charCodeAt(be);if(55296<=Te&&57343>=Te&&(Te=65536+((1023&Te)<<10)|1023&U.charCodeAt(++be)),127>=Te){if(re>=ce)break;K[re++]=Te}else{if(2047>=Te){if(re+1>=ce)break;K[re++]=192|Te>>6}else{if(65535>=Te){if(re+2>=ce)break;K[re++]=224|Te>>12}else{if(re+3>=ce)break;K[re++]=240|Te>>18,K[re++]=128|Te>>12&63}K[re++]=128|Te>>6&63}K[re++]=128|63&Te}}return K[re]=0,re-we}function ie(U){for(var K=0,re=0;re<U.length;++re){var ce=U.charCodeAt(re);55296<=ce&&57343>=ce&&(ce=65536+((1023&ce)<<10)|1023&U.charCodeAt(++re)),127>=ce?++K:K=2047>=ce?K+2:65535>=ce?K+3:K+4}return K}function _e(U){var K=ie(U)+1,re=Ro(K);return re&&pe(U,z,re,K),re}function Ke(){var U=P.buffer;j=U,g.HEAP8=z=new Int8Array(U),g.HEAP16=new Int16Array(U),g.HEAP32=G=new Int32Array(U),g.HEAPU8=J=new Uint8Array(U),g.HEAPU16=new Uint16Array(U),g.HEAPU32=new Uint32Array(U),g.HEAPF32=new Float32Array(U),g.HEAPF64=new Float64Array(U)}var Re,lt=[],$e=[],ze=[];function nt(){var U=g.preRun.shift();lt.unshift(U)}var Ce,je=0,hn=null,Fe=null;function wt(U){throw g.onAbort&&g.onAbort(U),R(U="Aborted("+U+")"),ne=!0,U=new WebAssembly.RuntimeError(U+". Build with -s ASSERTIONS=1 for more info."),v(U),U}function Zt(){return Ce.startsWith("data:application/octet-stream;base64,")}if(g.preloadedImages={},g.preloadedAudios={},Ce="ort-wasm.wasm",!Zt()){var pn=Ce;Ce=g.locateFile?g.locateFile(pn,I):I+pn}function gt(){var U=Ce;try{if(U==Ce&&k)return new Uint8Array(k);if(o)return o(U);throw"both async and sync fetching of the wasm failed"}catch(K){wt(K)}}function Ut(U){for(;0<U.length;){var K=U.shift();if("function"==typeof K)K(g);else{var re=K.Na;"number"==typeof re?void 0===K.va?Hn(re)():Hn(re)(K.va):re(void 0===K.va?null:K.va)}}}var Ht=[];function Hn(U){var K=Ht[U];return K||(U>=Ht.length&&(Ht.length=U+1),Ht[U]=K=Re.get(U)),K}function wr(U){this.qa=U-16,this.Fa=function(K){G[this.qa+4>>2]=K},this.Ca=function(K){G[this.qa+8>>2]=K},this.Da=function(){G[this.qa>>2]=0},this.Ba=function(){z[this.qa+12>>0]=0},this.Ea=function(){z[this.qa+13>>0]=0},this.ya=function(K,re){this.Fa(K),this.Ca(re),this.Da(),this.Ba(),this.Ea()}}var fo,Gn,ho={},Dr=[null,[],[]],Qt={},xr={};function tn(){if(!Gn){var U,K={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"};for(U in xr)void 0===xr[U]?delete K[U]:K[U]=xr[U];var re=[];for(U in K)re.push(U+"="+K[U]);Gn=re}return Gn}function Pn(U){return U%4==0&&(U%100!=0||U%400==0)}function gn(U,K){for(var re=0,ce=0;ce<=K;re+=U[ce++]);return re}var zn=[31,29,31,30,31,30,31,31,30,31,30,31],qn=[31,28,31,30,31,30,31,31,30,31,30,31];function Br(U,K){for(U=new Date(U.getTime());0<K;){var re=U.getMonth(),ce=(Pn(U.getFullYear())?zn:qn)[re];if(!(K>ce-U.getDate())){U.setDate(U.getDate()+K);break}K-=ce-U.getDate()+1,U.setDate(1),11>re?U.setMonth(re+1):(U.setMonth(0),U.setFullYear(U.getFullYear()+1))}return U}function ii(U,K,re,ce){function we(te,ke,vt){for(te="number"==typeof te?te.toString():te||"";te.length<ke;)te=vt[0]+te;return te}function be(te,ke){return we(te,ke,"0")}function Te(te,ke){function vt(Yn){return 0>Yn?-1:0<Yn?1:0}var ft;return 0===(ft=vt(te.getFullYear()-ke.getFullYear()))&&0===(ft=vt(te.getMonth()-ke.getMonth()))&&(ft=vt(te.getDate()-ke.getDate())),ft}function Nt(te){switch(te.getDay()){case 0:return new Date(te.getFullYear()-1,11,29);case 1:return te;case 2:return new Date(te.getFullYear(),0,3);case 3:return new Date(te.getFullYear(),0,2);case 4:return new Date(te.getFullYear(),0,1);case 5:return new Date(te.getFullYear()-1,11,31);case 6:return new Date(te.getFullYear()-1,11,30)}}function Yt(te){te=Br(new Date(te.oa+1900,0,1),te.ua);var ke=new Date(te.getFullYear()+1,0,4),vt=Nt(new Date(te.getFullYear(),0,4));return ke=Nt(ke),0>=Te(vt,te)?0>=Te(ke,te)?te.getFullYear()+1:te.getFullYear():te.getFullYear()-1}var Kt=G[ce+40>>2];for(var Ct in ce={Ia:G[ce>>2],Ha:G[ce+4>>2],sa:G[ce+8>>2],ra:G[ce+12>>2],pa:G[ce+16>>2],oa:G[ce+20>>2],ta:G[ce+24>>2],ua:G[ce+28>>2],Qa:G[ce+32>>2],Ga:G[ce+36>>2],Ja:Kt?Z(Kt):""},re=Z(re),Kt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})re=re.replace(new RegExp(Ct,"g"),Kt[Ct]);var te,ke,Wn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),sr="January February March April May June July August September October November December".split(" ");for(Ct in Kt={"%a":function(te){return Wn[te.ta].substring(0,3)},"%A":function(te){return Wn[te.ta]},"%b":function(te){return sr[te.pa].substring(0,3)},"%B":function(te){return sr[te.pa]},"%C":function(te){return be((te.oa+1900)/100|0,2)},"%d":function(te){return be(te.ra,2)},"%e":function(te){return we(te.ra,2," ")},"%g":function(te){return Yt(te).toString().substring(2)},"%G":function(te){return Yt(te)},"%H":function(te){return be(te.sa,2)},"%I":function(te){return 0==(te=te.sa)?te=12:12<te&&(te-=12),be(te,2)},"%j":function(te){return be(te.ra+gn(Pn(te.oa+1900)?zn:qn,te.pa-1),3)},"%m":function(te){return be(te.pa+1,2)},"%M":function(te){return be(te.Ha,2)},"%n":function(){return"\n"},"%p":function(te){return 0<=te.sa&&12>te.sa?"AM":"PM"},"%S":function(te){return be(te.Ia,2)},"%t":function(){return"\t"},"%u":function(te){return te.ta||7},"%U":function(te){var ke=new Date(te.oa+1900,0,1),vt=0===ke.getDay()?ke:Br(ke,7-ke.getDay());return 0>Te(vt,te=new Date(te.oa+1900,te.pa,te.ra))?be(Math.ceil((31-vt.getDate()+(gn(Pn(te.getFullYear())?zn:qn,te.getMonth()-1)-31)+te.getDate())/7),2):0===Te(vt,ke)?"01":"00"},"%V":function(te){var ke=new Date(te.oa+1901,0,4),vt=Nt(new Date(te.oa+1900,0,4));ke=Nt(ke);var ft=Br(new Date(te.oa+1900,0,1),te.ua);return 0>Te(ft,vt)?"53":0>=Te(ke,ft)?"01":be(Math.ceil((vt.getFullYear()<te.oa+1900?te.ua+32-vt.getDate():te.ua+1-vt.getDate())/7),2)},"%w":function(te){return te.ta},"%W":function(te){var ke=new Date(te.oa,0,1),vt=1===ke.getDay()?ke:Br(ke,0===ke.getDay()?1:7-ke.getDay()+1);return 0>Te(vt,te=new Date(te.oa+1900,te.pa,te.ra))?be(Math.ceil((31-vt.getDate()+(gn(Pn(te.getFullYear())?zn:qn,te.getMonth()-1)-31)+te.getDate())/7),2):0===Te(vt,ke)?"01":"00"},"%y":function(te){return(te.oa+1900).toString().substring(2)},"%Y":function(te){return te.oa+1900},"%z":function(te){var ke=0<=(te=te.Ga);return te=Math.abs(te)/60,(ke?"+":"-")+String("0000"+(te/60*100+te%60)).slice(-4)},"%Z":function(te){return te.Ja},"%%":function(){return"%"}})re.includes(Ct)&&(re=re.replace(new RegExp(Ct,"g"),Kt[Ct](ce)));return pe(te=re,ke=Array(ie(te)+1),0,ke.length),(Ct=ke).length>K?0:(z.set(Ct,U),Ct.length-1)}var ss={a:function(U){return Ro(U+16)+16},b:function(U,K,re){throw new wr(U).ya(K,re),U},g:function(){return 0},I:function(){},F:function(){},v:function(){},y:function(){},r:function(){return 0},G:function(){},B:function(U,K){return U=Z(U),Qt.Ka(U,K)},A:function(U,K,re,ce,we,be){if(be<<=12,0!=(16&ce)&&U%65536!=0)K=-28;else if(0!=(32&ce)){U=65536*Math.ceil(K/65536);var Te=ai(65536,U);Te?(J.fill(0,Te,Te+U),U=Te):U=0,U?(ho[U]={Aa:U,za:K,wa:!0,fd:we,Pa:re,flags:ce,offset:be},K=U):K=-48}else K=-52;return K},z:function(U,K){var re=ho[U];return 0!==K&&re?(K===re.za&&(ho[U]=null,re.wa&&Oe(re.Aa)),U=0):U=-28,U},k:function(){},x:function(U,K,re){return U=Z(U),Qt.La(U,K,re)},t:function(){},H:function(){},u:function(){},h:function(){wt("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},n:function(){wt("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},J:function(U,K){U=new Date(1e3*G[U>>2]),G[K>>2]=U.getUTCSeconds(),G[K+4>>2]=U.getUTCMinutes(),G[K+8>>2]=U.getUTCHours(),G[K+12>>2]=U.getUTCDate(),G[K+16>>2]=U.getUTCMonth(),G[K+20>>2]=U.getUTCFullYear()-1900,G[K+24>>2]=U.getUTCDay(),G[K+28>>2]=(U.getTime()-Date.UTC(U.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},K:function(U,K){U=new Date(1e3*G[U>>2]),G[K>>2]=U.getSeconds(),G[K+4>>2]=U.getMinutes(),G[K+8>>2]=U.getHours(),G[K+12>>2]=U.getDate(),G[K+16>>2]=U.getMonth(),G[K+20>>2]=U.getFullYear()-1900,G[K+24>>2]=U.getDay();var re=new Date(U.getFullYear(),0,1);G[K+28>>2]=(U.getTime()-re.getTime())/864e5|0,G[K+36>>2]=-60*U.getTimezoneOffset();var ce=new Date(U.getFullYear(),6,1).getTimezoneOffset();re=re.getTimezoneOffset(),G[K+32>>2]=0|(ce!=re&&U.getTimezoneOffset()==Math.min(re,ce))},L:function(U){var K=new Date(G[U+20>>2]+1900,G[U+16>>2],G[U+12>>2],G[U+8>>2],G[U+4>>2],G[U>>2],0),re=G[U+32>>2],ce=K.getTimezoneOffset(),we=new Date(K.getFullYear(),0,1),be=new Date(K.getFullYear(),6,1).getTimezoneOffset(),Te=we.getTimezoneOffset(),Nt=Math.min(Te,be);return 0>re?G[U+32>>2]=Number(be!=Te&&Nt==ce):0<re!=(Nt==ce)&&(be=Math.max(Te,be),K.setTime(K.getTime()+6e4*((0<re?Nt:be)-ce))),G[U+24>>2]=K.getDay(),G[U+28>>2]=(K.getTime()-we.getTime())/864e5|0,G[U>>2]=K.getSeconds(),G[U+4>>2]=K.getMinutes(),G[U+8>>2]=K.getHours(),G[U+12>>2]=K.getDate(),G[U+16>>2]=K.getMonth(),K.getTime()/1e3|0},M:function U(K,re,ce){U.xa||(U.xa=!0,function(we,be,Te){function Nt(sr){return(sr=sr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?sr[1]:"GMT"}var Yt=(new Date).getFullYear(),Kt=new Date(Yt,0,1),Ct=new Date(Yt,6,1);Yt=Kt.getTimezoneOffset();var Wn=Ct.getTimezoneOffset();G[we>>2]=60*Math.max(Yt,Wn),G[be>>2]=Number(Yt!=Wn),we=Nt(Kt),be=Nt(Ct),we=_e(we),be=_e(be),Wn<Yt?(G[Te>>2]=we,G[Te+4>>2]=be):(G[Te>>2]=be,G[Te+4>>2]=we)}(K,re,ce))},d:function(){wt("")},m:function(U,K){if(0===U)U=Date.now();else{if(1!==U&&4!==U)return G[si()>>2]=28,-1;U=fo()}return G[K>>2]=U/1e3|0,G[K+4>>2]=U%1e3*1e6|0,0},p:function(U,K){return U-K},s:function(){return 2147483648},l:fo=A?()=>{var U=process.hrtime();return 1e3*U[0]+U[1]/1e6}:()=>performance.now(),E:function(U,K,re){J.copyWithin(U,K,K+re)},f:function(U){var K=J.length;if(2147483648<(U>>>=0))return!1;for(var re=1;4>=re;re*=2){var ce=K*(1+.2/re);ce=Math.min(ce,U+100663296),0<(ce=Math.max(U,ce))%65536&&(ce+=65536-ce%65536);e:{try{P.grow(Math.min(2147483648,ce)-j.byteLength+65535>>>16),Ke();var we=1;break e}catch{}we=void 0}if(we)return!0}return!1},C:function(U,K){var re=0;return tn().forEach(function(ce,we){var be=K+re;for(we=G[U+4*we>>2]=be,be=0;be<ce.length;++be)z[we++>>0]=ce.charCodeAt(be);z[we>>0]=0,re+=ce.length+1}),0},D:function(U,K){var re=tn();G[U>>2]=re.length;var ce=0;return re.forEach(function(we){ce+=we.length+1}),G[K>>2]=ce,0},e:function(){return 0},j:function(U,K,re,ce){return U=Qt.Oa(U),K=Qt.Ma(U,K,re),G[ce>>2]=K,0},q:function(){},i:function(U,K,re,ce){for(var we=0,be=0;be<re;be++){var Te=G[K>>2],Nt=G[K+4>>2];K+=8;for(var Yt=0;Yt<Nt;Yt++){var Kt=J[Te+Yt],Ct=Dr[U];0===Kt||10===Kt?((1===U?L:R)(q(Ct,0)),Ct.length=0):Ct.push(Kt)}we+=Nt}return G[ce>>2]=we,0},w:function(U){var K=Date.now();return G[U>>2]=K/1e3|0,G[U+4>>2]=K%1e3*1e3|0,0},o:ii,c:function(U,K,re,ce){return ii(U,K,re,ce)}};(function(){function U(we){g.asm=we.exports,P=g.asm.N,Ke(),Re=g.asm.ja,$e.unshift(g.asm.O),je--,g.monitorRunDependencies&&g.monitorRunDependencies(je),0==je&&(null!==hn&&(clearInterval(hn),hn=null),Fe&&(we=Fe,Fe=null,we()))}function K(we){U(we.instance)}function re(we){return function(){if(!k&&(E||S)){if("function"==typeof fetch&&!Ce.startsWith("file://"))return fetch(Ce,{credentials:"same-origin"}).then(function(be){if(!be.ok)throw"failed to load wasm binary file at '"+Ce+"'";return be.arrayBuffer()}).catch(function(){return gt()});if(s)return new Promise(function(be,Te){s(Ce,function(Nt){be(new Uint8Array(Nt))},Te)})}return Promise.resolve().then(function(){return gt()})}().then(function(be){return WebAssembly.instantiate(be,ce)}).then(function(be){return be}).then(we,function(be){R("failed to asynchronously prepare wasm: "+be),wt(be)})}var ce={a:ss};if(je++,g.monitorRunDependencies&&g.monitorRunDependencies(je),g.instantiateWasm)try{return g.instantiateWasm(ce,U)}catch(we){return R("Module.instantiateWasm callback failed with error: "+we),!1}(k||"function"!=typeof WebAssembly.instantiateStreaming||Zt()||Ce.startsWith("file://")||"function"!=typeof fetch?re(K):fetch(Ce,{credentials:"same-origin"}).then(function(we){return WebAssembly.instantiateStreaming(we,ce).then(K,function(be){return R("wasm streaming compile failed: "+be),R("falling back to ArrayBuffer instantiation"),re(K)})})).catch(v)})(),g.___wasm_call_ctors=function(){return(g.___wasm_call_ctors=g.asm.O).apply(null,arguments)},g._OrtInit=function(){return(g._OrtInit=g.asm.P).apply(null,arguments)},g._OrtCreateSessionOptions=function(){return(g._OrtCreateSessionOptions=g.asm.Q).apply(null,arguments)},g._OrtAddSessionConfigEntry=function(){return(g._OrtAddSessionConfigEntry=g.asm.R).apply(null,arguments)},g._OrtReleaseSessionOptions=function(){return(g._OrtReleaseSessionOptions=g.asm.S).apply(null,arguments)},g._OrtCreateSession=function(){return(g._OrtCreateSession=g.asm.T).apply(null,arguments)},g._OrtReleaseSession=function(){return(g._OrtReleaseSession=g.asm.U).apply(null,arguments)},g._OrtGetInputCount=function(){return(g._OrtGetInputCount=g.asm.V).apply(null,arguments)},g._OrtGetOutputCount=function(){return(g._OrtGetOutputCount=g.asm.W).apply(null,arguments)},g._OrtGetInputName=function(){return(g._OrtGetInputName=g.asm.X).apply(null,arguments)},g._OrtGetOutputName=function(){return(g._OrtGetOutputName=g.asm.Y).apply(null,arguments)},g._OrtFree=function(){return(g._OrtFree=g.asm.Z).apply(null,arguments)},g._OrtCreateTensor=function(){return(g._OrtCreateTensor=g.asm._).apply(null,arguments)},g._OrtGetTensorData=function(){return(g._OrtGetTensorData=g.asm.$).apply(null,arguments)},g._OrtReleaseTensor=function(){return(g._OrtReleaseTensor=g.asm.aa).apply(null,arguments)},g._OrtCreateRunOptions=function(){return(g._OrtCreateRunOptions=g.asm.ba).apply(null,arguments)},g._OrtAddRunConfigEntry=function(){return(g._OrtAddRunConfigEntry=g.asm.ca).apply(null,arguments)},g._OrtReleaseRunOptions=function(){return(g._OrtReleaseRunOptions=g.asm.da).apply(null,arguments)},g._OrtRun=function(){return(g._OrtRun=g.asm.ea).apply(null,arguments)},g._OrtEndProfiling=function(){return(g._OrtEndProfiling=g.asm.fa).apply(null,arguments)};var ir,si=g.___errno_location=function(){return(si=g.___errno_location=g.asm.ga).apply(null,arguments)},Ro=g._malloc=function(){return(Ro=g._malloc=g.asm.ha).apply(null,arguments)},Oe=g._free=function(){return(Oe=g._free=g.asm.ia).apply(null,arguments)},ai=g._memalign=function(){return(ai=g._memalign=g.asm.ka).apply(null,arguments)},Ur=g.stackSave=function(){return(Ur=g.stackSave=g.asm.la).apply(null,arguments)},Tr=g.stackRestore=function(){return(Tr=g.stackRestore=g.asm.ma).apply(null,arguments)},Hr=g.stackAlloc=function(){return(Hr=g.stackAlloc=g.asm.na).apply(null,arguments)};function po(){function U(){if(!ir&&(ir=!0,g.calledRun=!0,!ne)){if(Ut($e),b(g),g.onRuntimeInitialized&&g.onRuntimeInitialized(),g.postRun)for("function"==typeof g.postRun&&(g.postRun=[g.postRun]);g.postRun.length;){var K=g.postRun.shift();ze.unshift(K)}Ut(ze)}}if(!(0<je)){if(g.preRun)for("function"==typeof g.preRun&&(g.preRun=[g.preRun]);g.preRun.length;)nt();Ut(lt),0<je||(g.setStatus?(g.setStatus("Running..."),setTimeout(function(){setTimeout(function(){g.setStatus("")},1),U()},1)):U())}}if(g.UTF8ToString=Z,g.stringToUTF8=function(U,K,re){return pe(U,J,K,re)},g.lengthBytesUTF8=ie,g.stackSave=Ur,g.stackRestore=Tr,g.stackAlloc=Hr,Fe=function U(){ir||po(),ir||(Fe=U)},g.run=po,g.preInit)for("function"==typeof g.preInit&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();return po(),T.ready});X.exports=w},4537:X=>{"use strict";X.exports=function(_,O){for(var x=new Array(arguments.length-1),w=0,T=2,g=!0;T<arguments.length;)x[w++]=arguments[T++];return new Promise(function(b,v){x[w]=function(p){if(g)if(g=!1,p)v(p);else{for(var c=new Array(arguments.length-1),s=0;s<c.length;)c[s++]=arguments[s];b.apply(null,c)}};try{_.apply(O||null,x)}catch(p){g&&(g=!1,v(p))}})}},7419:(X,_)=>{"use strict";var O=_;O.length=function(b){var v=b.length;if(!v)return 0;for(var p=0;--v%4>1&&"="===b.charAt(v);)++p;return Math.ceil(3*b.length)/4-p};for(var x=new Array(64),w=new Array(123),T=0;T<64;)w[x[T]=T<26?T+65:T<52?T+71:T<62?T-4:T-59|43]=T++;O.encode=function(b,v,p){for(var c,s=null,o=[],u=0,l=0;v<p;){var f=b[v++];switch(l){case 0:o[u++]=x[f>>2],c=(3&f)<<4,l=1;break;case 1:o[u++]=x[c|f>>4],c=(15&f)<<2,l=2;break;case 2:o[u++]=x[c|f>>6],o[u++]=x[63&f],l=0}u>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),u=0)}return l&&(o[u++]=x[c],o[u++]=61,1===l&&(o[u++]=61)),s?(u&&s.push(String.fromCharCode.apply(String,o.slice(0,u))),s.join("")):String.fromCharCode.apply(String,o.slice(0,u))};var g="invalid encoding";O.decode=function(b,v,p){for(var c,s=p,o=0,u=0;u<b.length;){var l=b.charCodeAt(u++);if(61===l&&o>1)break;if(void 0===(l=w[l]))throw Error(g);switch(o){case 0:c=l,o=1;break;case 1:v[p++]=c<<2|(48&l)>>4,c=l,o=2;break;case 2:v[p++]=(15&c)<<4|(60&l)>>2,c=l,o=3;break;case 3:v[p++]=(3&c)<<6|l,o=0}}if(1===o)throw Error(g);return p-s},O.test=function(b){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(b)}},9211:X=>{"use strict";function _(){this._listeners={}}X.exports=_,_.prototype.on=function(O,x,w){return(this._listeners[O]||(this._listeners[O]=[])).push({fn:x,ctx:w||this}),this},_.prototype.off=function(O,x){if(void 0===O)this._listeners={};else if(void 0===x)this._listeners[O]=[];else for(var w=this._listeners[O],T=0;T<w.length;)w[T].fn===x?w.splice(T,1):++T;return this},_.prototype.emit=function(O){var x=this._listeners[O];if(x){for(var w=[],T=1;T<arguments.length;)w.push(arguments[T++]);for(T=0;T<x.length;)x[T].fn.apply(x[T++].ctx,w)}return this}},945:X=>{"use strict";function _(g){return typeof Float32Array<"u"?function(){var b=new Float32Array([-0]),v=new Uint8Array(b.buffer),p=128===v[3];function c(l,f,m){b[0]=l,f[m]=v[0],f[m+1]=v[1],f[m+2]=v[2],f[m+3]=v[3]}function s(l,f,m){b[0]=l,f[m]=v[3],f[m+1]=v[2],f[m+2]=v[1],f[m+3]=v[0]}function o(l,f){return v[0]=l[f],v[1]=l[f+1],v[2]=l[f+2],v[3]=l[f+3],b[0]}function u(l,f){return v[3]=l[f],v[2]=l[f+1],v[1]=l[f+2],v[0]=l[f+3],b[0]}g.writeFloatLE=p?c:s,g.writeFloatBE=p?s:c,g.readFloatLE=p?o:u,g.readFloatBE=p?u:o}():function(){function b(p,c,s,o){var u=c<0?1:0;if(u&&(c=-c),0===c)p(1/c>0?0:2147483648,s,o);else if(isNaN(c))p(2143289344,s,o);else if(c>34028234663852886e22)p((u<<31|2139095040)>>>0,s,o);else if(c<11754943508222875e-54)p((u<<31|Math.round(c/1401298464324817e-60))>>>0,s,o);else{var l=Math.floor(Math.log(c)/Math.LN2);p((u<<31|l+127<<23|8388607&Math.round(c*Math.pow(2,-l)*8388608))>>>0,s,o)}}function v(p,c,s){var o=p(c,s),u=2*(o>>31)+1,l=o>>>23&255,f=8388607&o;return 255===l?f?NaN:u*(1/0):0===l?1401298464324817e-60*u*f:u*Math.pow(2,l-150)*(f+8388608)}g.writeFloatLE=b.bind(null,O),g.writeFloatBE=b.bind(null,x),g.readFloatLE=v.bind(null,w),g.readFloatBE=v.bind(null,T)}(),typeof Float64Array<"u"?function(){var b=new Float64Array([-0]),v=new Uint8Array(b.buffer),p=128===v[7];function c(l,f,m){b[0]=l,f[m]=v[0],f[m+1]=v[1],f[m+2]=v[2],f[m+3]=v[3],f[m+4]=v[4],f[m+5]=v[5],f[m+6]=v[6],f[m+7]=v[7]}function s(l,f,m){b[0]=l,f[m]=v[7],f[m+1]=v[6],f[m+2]=v[5],f[m+3]=v[4],f[m+4]=v[3],f[m+5]=v[2],f[m+6]=v[1],f[m+7]=v[0]}function o(l,f){return v[0]=l[f],v[1]=l[f+1],v[2]=l[f+2],v[3]=l[f+3],v[4]=l[f+4],v[5]=l[f+5],v[6]=l[f+6],v[7]=l[f+7],b[0]}function u(l,f){return v[7]=l[f],v[6]=l[f+1],v[5]=l[f+2],v[4]=l[f+3],v[3]=l[f+4],v[2]=l[f+5],v[1]=l[f+6],v[0]=l[f+7],b[0]}g.writeDoubleLE=p?c:s,g.writeDoubleBE=p?s:c,g.readDoubleLE=p?o:u,g.readDoubleBE=p?u:o}():function(){function b(p,c,s,o,u,l){var f=o<0?1:0;if(f&&(o=-o),0===o)p(0,u,l+c),p(1/o>0?0:2147483648,u,l+s);else if(isNaN(o))p(0,u,l+c),p(2146959360,u,l+s);else if(o>17976931348623157e292)p(0,u,l+c),p((f<<31|2146435072)>>>0,u,l+s);else{var m;if(o<22250738585072014e-324)p((m=o/5e-324)>>>0,u,l+c),p((f<<31|m/4294967296)>>>0,u,l+s);else{var D=Math.floor(Math.log(o)/Math.LN2);1024===D&&(D=1023),p(4503599627370496*(m=o*Math.pow(2,-D))>>>0,u,l+c),p((f<<31|D+1023<<20|1048576*m&1048575)>>>0,u,l+s)}}}function v(p,c,s,o,u){var l=p(o,u+c),f=p(o,u+s),m=2*(f>>31)+1,D=f>>>20&2047,E=4294967296*(1048575&f)+l;return 2047===D?E?NaN:m*(1/0):0===D?5e-324*m*E:m*Math.pow(2,D-1075)*(E+4503599627370496)}g.writeDoubleLE=b.bind(null,O,0,4),g.writeDoubleBE=b.bind(null,x,4,0),g.readDoubleLE=v.bind(null,w,0,4),g.readDoubleBE=v.bind(null,T,4,0)}(),g}function O(g,b,v){b[v]=255&g,b[v+1]=g>>>8&255,b[v+2]=g>>>16&255,b[v+3]=g>>>24}function x(g,b,v){b[v]=g>>>24,b[v+1]=g>>>16&255,b[v+2]=g>>>8&255,b[v+3]=255&g}function w(g,b){return(g[b]|g[b+1]<<8|g[b+2]<<16|g[b+3]<<24)>>>0}function T(g,b){return(g[b]<<24|g[b+1]<<16|g[b+2]<<8|g[b+3])>>>0}X.exports=_(_)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(X){}return null}module.exports=inquire},6662:X=>{"use strict";X.exports=function(_,O,x){var w=x||8192,T=w>>>1,g=null,b=w;return function(v){if(v<1||v>T)return _(v);b+v>w&&(g=_(w),b=0);var p=O.call(g,b,b+=v);return 7&b&&(b=1+(7|b)),p}}},4997:(X,_)=>{"use strict";var O=_;O.length=function(x){for(var w=0,T=0,g=0;g<x.length;++g)(T=x.charCodeAt(g))<128?w+=1:T<2048?w+=2:55296==(64512&T)&&56320==(64512&x.charCodeAt(g+1))?(++g,w+=4):w+=3;return w},O.read=function(x,w,T){if(T-w<1)return"";for(var g,b=null,v=[],p=0;w<T;)(g=x[w++])<128?v[p++]=g:g>191&&g<224?v[p++]=(31&g)<<6|63&x[w++]:g>239&&g<365?(g=((7&g)<<18|(63&x[w++])<<12|(63&x[w++])<<6|63&x[w++])-65536,v[p++]=55296+(g>>10),v[p++]=56320+(1023&g)):v[p++]=(15&g)<<12|(63&x[w++])<<6|63&x[w++],p>8191&&((b||(b=[])).push(String.fromCharCode.apply(String,v)),p=0);return b?(p&&b.push(String.fromCharCode.apply(String,v.slice(0,p))),b.join("")):String.fromCharCode.apply(String,v.slice(0,p))},O.write=function(x,w,T){for(var g,b,v=T,p=0;p<x.length;++p)(g=x.charCodeAt(p))<128?w[T++]=g:g<2048?(w[T++]=g>>6|192,w[T++]=63&g|128):55296==(64512&g)&&56320==(64512&(b=x.charCodeAt(p+1)))?(++p,w[T++]=(g=65536+((1023&g)<<10)+(1023&b))>>18|240,w[T++]=g>>12&63|128,w[T++]=g>>6&63|128,w[T++]=63&g|128):(w[T++]=g>>12|224,w[T++]=g>>6&63|128,w[T++]=63&g|128);return T-v}},4819:(X,_,O)=>{"use strict";O.r(_),O.d(_,{flatbuffers:()=>x});var x={SIZEOF_SHORT:2,SIZEOF_INT:4,FILE_IDENTIFIER_LENGTH:4,SIZE_PREFIX_LENGTH:4,Encoding:{UTF8_BYTES:1,UTF16_STRING:2}};x.int32=new Int32Array(2),x.float32=new Float32Array(x.int32.buffer),x.float64=new Float64Array(x.int32.buffer),x.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],x.Long=function(w,T){this.low=0|w,this.high=0|T},x.Long.create=function(w,T){return 0==w&&0==T?x.Long.ZERO:new x.Long(w,T)},x.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},x.Long.prototype.equals=function(w){return this.low==w.low&&this.high==w.high},x.Long.ZERO=new x.Long(0,0),x.Builder=function(w){if(w)T=w;else var T=1024;this.bb=x.ByteBuffer.allocate(T),this.space=T,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},x.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},x.Builder.prototype.forceDefaults=function(w){this.force_defaults=w},x.Builder.prototype.dataBuffer=function(){return this.bb},x.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},x.Builder.prototype.prep=function(w,T){w>this.minalign&&(this.minalign=w);for(var g=1+~(this.bb.capacity()-this.space+T)&w-1;this.space<g+w+T;){var b=this.bb.capacity();this.bb=x.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-b}this.pad(g)},x.Builder.prototype.pad=function(w){for(var T=0;T<w;T++)this.bb.writeInt8(--this.space,0)},x.Builder.prototype.writeInt8=function(w){this.bb.writeInt8(this.space-=1,w)},x.Builder.prototype.writeInt16=function(w){this.bb.writeInt16(this.space-=2,w)},x.Builder.prototype.writeInt32=function(w){this.bb.writeInt32(this.space-=4,w)},x.Builder.prototype.writeInt64=function(w){this.bb.writeInt64(this.space-=8,w)},x.Builder.prototype.writeFloat32=function(w){this.bb.writeFloat32(this.space-=4,w)},x.Builder.prototype.writeFloat64=function(w){this.bb.writeFloat64(this.space-=8,w)},x.Builder.prototype.addInt8=function(w){this.prep(1,0),this.writeInt8(w)},x.Builder.prototype.addInt16=function(w){this.prep(2,0),this.writeInt16(w)},x.Builder.prototype.addInt32=function(w){this.prep(4,0),this.writeInt32(w)},x.Builder.prototype.addInt64=function(w){this.prep(8,0),this.writeInt64(w)},x.Builder.prototype.addFloat32=function(w){this.prep(4,0),this.writeFloat32(w)},x.Builder.prototype.addFloat64=function(w){this.prep(8,0),this.writeFloat64(w)},x.Builder.prototype.addFieldInt8=function(w,T,g){(this.force_defaults||T!=g)&&(this.addInt8(T),this.slot(w))},x.Builder.prototype.addFieldInt16=function(w,T,g){(this.force_defaults||T!=g)&&(this.addInt16(T),this.slot(w))},x.Builder.prototype.addFieldInt32=function(w,T,g){(this.force_defaults||T!=g)&&(this.addInt32(T),this.slot(w))},x.Builder.prototype.addFieldInt64=function(w,T,g){!this.force_defaults&&T.equals(g)||(this.addInt64(T),this.slot(w))},x.Builder.prototype.addFieldFloat32=function(w,T,g){(this.force_defaults||T!=g)&&(this.addFloat32(T),this.slot(w))},x.Builder.prototype.addFieldFloat64=function(w,T,g){(this.force_defaults||T!=g)&&(this.addFloat64(T),this.slot(w))},x.Builder.prototype.addFieldOffset=function(w,T,g){(this.force_defaults||T!=g)&&(this.addOffset(T),this.slot(w))},x.Builder.prototype.addFieldStruct=function(w,T,g){T!=g&&(this.nested(T),this.slot(w))},x.Builder.prototype.nested=function(w){if(w!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},x.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},x.Builder.prototype.slot=function(w){this.vtable[w]=this.offset()},x.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},x.Builder.growByteBuffer=function(w){var T=w.capacity();if(3221225472&T)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var g=T<<1,b=x.ByteBuffer.allocate(g);return b.setPosition(g-T),b.bytes().set(w.bytes(),g-T),b},x.Builder.prototype.addOffset=function(w){this.prep(x.SIZEOF_INT,0),this.writeInt32(this.offset()-w+x.SIZEOF_INT)},x.Builder.prototype.startObject=function(w){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=w;for(var T=0;T<w;T++)this.vtable[T]=0;this.isNested=!0,this.object_start=this.offset()},x.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var w=this.offset(),T=this.vtable_in_use-1;T>=0&&0==this.vtable[T];T--);for(var g=T+1;T>=0;T--)this.addInt16(0!=this.vtable[T]?w-this.vtable[T]:0);this.addInt16(w-this.object_start);var b=(g+2)*x.SIZEOF_SHORT;this.addInt16(b);var v=0,p=this.space;e:for(T=0;T<this.vtables.length;T++){var c=this.bb.capacity()-this.vtables[T];if(b==this.bb.readInt16(c)){for(var s=x.SIZEOF_SHORT;s<b;s+=x.SIZEOF_SHORT)if(this.bb.readInt16(p+s)!=this.bb.readInt16(c+s))continue e;v=this.vtables[T];break}}return v?(this.space=this.bb.capacity()-w,this.bb.writeInt32(this.space,v-w)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-w,this.offset()-w)),this.isNested=!1,w},x.Builder.prototype.finish=function(w,T,g){var b=g?x.SIZE_PREFIX_LENGTH:0;if(T){var v=T;if(this.prep(this.minalign,x.SIZEOF_INT+x.FILE_IDENTIFIER_LENGTH+b),v.length!=x.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+x.FILE_IDENTIFIER_LENGTH);for(var p=x.FILE_IDENTIFIER_LENGTH-1;p>=0;p--)this.writeInt8(v.charCodeAt(p))}this.prep(this.minalign,x.SIZEOF_INT+b),this.addOffset(w),b&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},x.Builder.prototype.finishSizePrefixed=function(w,T){this.finish(w,T,!0)},x.Builder.prototype.requiredField=function(w,T){var g=this.bb.capacity()-w,b=g-this.bb.readInt32(g);if(0==this.bb.readInt16(b+T))throw new Error("FlatBuffers: field "+T+" must be set")},x.Builder.prototype.startVector=function(w,T,g){this.notNested(),this.vector_num_elems=T,this.prep(x.SIZEOF_INT,w*T),this.prep(g,w*T)},x.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},x.Builder.prototype.createString=function(w){if(w instanceof Uint8Array)var T=w;else{T=[];for(var g=0;g<w.length;){var b,v=w.charCodeAt(g++);(b=v<55296||v>=56320?v:(v<<10)+w.charCodeAt(g++)+-56613888)<128?T.push(b):(b<2048?T.push(b>>6&31|192):(b<65536?T.push(b>>12&15|224):T.push(b>>18&7|240,b>>12&63|128),T.push(b>>6&63|128)),T.push(63&b|128))}}this.addInt8(0),this.startVector(1,T.length,1),this.bb.setPosition(this.space-=T.length),g=0;for(var p=this.space,c=this.bb.bytes();g<T.length;g++)c[p++]=T[g];return this.endVector()},x.Builder.prototype.createLong=function(w,T){return x.Long.create(w,T)},x.ByteBuffer=function(w){this.bytes_=w,this.position_=0},x.ByteBuffer.allocate=function(w){return new x.ByteBuffer(new Uint8Array(w))},x.ByteBuffer.prototype.clear=function(){this.position_=0},x.ByteBuffer.prototype.bytes=function(){return this.bytes_},x.ByteBuffer.prototype.position=function(){return this.position_},x.ByteBuffer.prototype.setPosition=function(w){this.position_=w},x.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},x.ByteBuffer.prototype.readInt8=function(w){return this.readUint8(w)<<24>>24},x.ByteBuffer.prototype.readUint8=function(w){return this.bytes_[w]},x.ByteBuffer.prototype.readInt16=function(w){return this.readUint16(w)<<16>>16},x.ByteBuffer.prototype.readUint16=function(w){return this.bytes_[w]|this.bytes_[w+1]<<8},x.ByteBuffer.prototype.readInt32=function(w){return this.bytes_[w]|this.bytes_[w+1]<<8|this.bytes_[w+2]<<16|this.bytes_[w+3]<<24},x.ByteBuffer.prototype.readUint32=function(w){return this.readInt32(w)>>>0},x.ByteBuffer.prototype.readInt64=function(w){return new x.Long(this.readInt32(w),this.readInt32(w+4))},x.ByteBuffer.prototype.readUint64=function(w){return new x.Long(this.readUint32(w),this.readUint32(w+4))},x.ByteBuffer.prototype.readFloat32=function(w){return x.int32[0]=this.readInt32(w),x.float32[0]},x.ByteBuffer.prototype.readFloat64=function(w){return x.int32[x.isLittleEndian?0:1]=this.readInt32(w),x.int32[x.isLittleEndian?1:0]=this.readInt32(w+4),x.float64[0]},x.ByteBuffer.prototype.writeInt8=function(w,T){this.bytes_[w]=T},x.ByteBuffer.prototype.writeUint8=function(w,T){this.bytes_[w]=T},x.ByteBuffer.prototype.writeInt16=function(w,T){this.bytes_[w]=T,this.bytes_[w+1]=T>>8},x.ByteBuffer.prototype.writeUint16=function(w,T){this.bytes_[w]=T,this.bytes_[w+1]=T>>8},x.ByteBuffer.prototype.writeInt32=function(w,T){this.bytes_[w]=T,this.bytes_[w+1]=T>>8,this.bytes_[w+2]=T>>16,this.bytes_[w+3]=T>>24},x.ByteBuffer.prototype.writeUint32=function(w,T){this.bytes_[w]=T,this.bytes_[w+1]=T>>8,this.bytes_[w+2]=T>>16,this.bytes_[w+3]=T>>24},x.ByteBuffer.prototype.writeInt64=function(w,T){this.writeInt32(w,T.low),this.writeInt32(w+4,T.high)},x.ByteBuffer.prototype.writeUint64=function(w,T){this.writeUint32(w,T.low),this.writeUint32(w+4,T.high)},x.ByteBuffer.prototype.writeFloat32=function(w,T){x.float32[0]=T,this.writeInt32(w,x.int32[0])},x.ByteBuffer.prototype.writeFloat64=function(w,T){x.float64[0]=T,this.writeInt32(w,x.int32[x.isLittleEndian?0:1]),this.writeInt32(w+4,x.int32[x.isLittleEndian?1:0])},x.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+x.SIZEOF_INT+x.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var w="",T=0;T<x.FILE_IDENTIFIER_LENGTH;T++)w+=String.fromCharCode(this.readInt8(this.position_+x.SIZEOF_INT+T));return w},x.ByteBuffer.prototype.__offset=function(w,T){var g=w-this.readInt32(w);return T<this.readInt16(g)?this.readInt16(g+T):0},x.ByteBuffer.prototype.__union=function(w,T){return w.bb_pos=T+this.readInt32(T),w.bb=this,w},x.ByteBuffer.prototype.__string=function(w,T){w+=this.readInt32(w);var g=this.readInt32(w),b="",v=0;if(w+=x.SIZEOF_INT,T===x.Encoding.UTF8_BYTES)return this.bytes_.subarray(w,w+g);for(;v<g;){var p,c=this.readUint8(w+v++);if(c<192)p=c;else{var s=this.readUint8(w+v++);if(c<224)p=(31&c)<<6|63&s;else{var o=this.readUint8(w+v++);p=c<240?(15&c)<<12|(63&s)<<6|63&o:(7&c)<<18|(63&s)<<12|(63&o)<<6|63&this.readUint8(w+v++)}}p<65536?b+=String.fromCharCode(p):(p-=65536,b+=String.fromCharCode(55296+(p>>10),56320+(1023&p)))}return b},x.ByteBuffer.prototype.__indirect=function(w){return w+this.readInt32(w)},x.ByteBuffer.prototype.__vector=function(w){return w+this.readInt32(w)+x.SIZEOF_INT},x.ByteBuffer.prototype.__vector_len=function(w){return this.readInt32(w+this.readInt32(w))},x.ByteBuffer.prototype.__has_identifier=function(w){if(w.length!=x.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+x.FILE_IDENTIFIER_LENGTH);for(var T=0;T<x.FILE_IDENTIFIER_LENGTH;T++)if(w.charCodeAt(T)!=this.readInt8(this.position_+x.SIZEOF_INT+T))return!1;return!0},x.ByteBuffer.prototype.createLong=function(w,T){return x.Long.create(w,T)}},3442:(X,_)=>{"use strict";_.__esModule=!0;var O=function(){function x(w){if(!w)throw new TypeError("Invalid argument; `value` has no value.");this.value=x.EMPTY,w&&x.isGuid(w)&&(this.value=w)}return x.isGuid=function(w){var T=w.toString();return w&&(w instanceof x||x.validator.test(T))},x.create=function(){return new x([x.gen(2),x.gen(1),x.gen(1),x.gen(1),x.gen(3)].join("-"))},x.createEmpty=function(){return new x("emptyguid")},x.parse=function(w){return new x(w)},x.raw=function(){return[x.gen(2),x.gen(1),x.gen(1),x.gen(1),x.gen(3)].join("-")},x.gen=function(w){for(var T="",g=0;g<w;g++)T+=(65536*(1+Math.random())|0).toString(16).substring(1);return T},x.prototype.equals=function(w){return x.isGuid(w)&&this.value===w.toString()},x.prototype.isEmpty=function(){return this.value===x.EMPTY},x.prototype.toString=function(){return this.value},x.prototype.toJSON=function(){return{value:this.value}},x.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),x.EMPTY="00000000-0000-0000-0000-000000000000",x}();_.Guid=O},3720:X=>{X.exports=O;var _=null;try{_=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function O(P,j,z){this.low=0|P,this.high=0|j,this.unsigned=!!z}function x(P){return!0===(P&&P.__isLong__)}Object.defineProperty(O.prototype,"__isLong__",{value:!0}),O.isLong=x;var w={},T={};function g(P,j){var z,J,G;return j?(G=0<=(P>>>=0)&&P<256)&&(J=T[P])?J:(z=v(P,(0|P)<0?-1:0,!0),G&&(T[P]=z),z):(G=-128<=(P|=0)&&P<128)&&(J=w[P])?J:(z=v(P,P<0?-1:0,!1),G&&(w[P]=z),z)}function b(P,j){if(isNaN(P))return j?D:m;if(j){if(P<0)return D;if(P>=u)return k}else{if(P<=-l)return L;if(P+1>=l)return I}return P<0?b(-P,j).neg():v(P%o|0,P/o|0,j)}function v(P,j,z){return new O(P,j,z)}O.fromInt=g,O.fromNumber=b,O.fromBits=v;var p=Math.pow;function c(P,j,z){if(0===P.length)throw Error("empty string");if("NaN"===P||"Infinity"===P||"+Infinity"===P||"-Infinity"===P)return m;if("number"==typeof j?(z=j,j=!1):j=!!j,(z=z||10)<2||36<z)throw RangeError("radix");var J;if((J=P.indexOf("-"))>0)throw Error("interior hyphen");if(0===J)return c(P.substring(1),j,z).neg();for(var G=b(p(z,8)),ne=m,se=0;se<P.length;se+=8){var q=Math.min(8,P.length-se),Z=parseInt(P.substring(se,se+q),z);if(q<8){var pe=b(p(z,q));ne=ne.mul(pe).add(b(Z))}else ne=(ne=ne.mul(G)).add(b(Z))}return ne.unsigned=j,ne}function s(P,j){return"number"==typeof P?b(P,j):"string"==typeof P?c(P,j):v(P.low,P.high,"boolean"==typeof j?j:P.unsigned)}O.fromString=c,O.fromValue=s;var o=4294967296,u=o*o,l=u/2,f=g(1<<24),m=g(0);O.ZERO=m;var D=g(0,!0);O.UZERO=D;var E=g(1);O.ONE=E;var S=g(1,!0);O.UONE=S;var A=g(-1);O.NEG_ONE=A;var I=v(-1,2147483647,!1);O.MAX_VALUE=I;var k=v(-1,-1,!0);O.MAX_UNSIGNED_VALUE=k;var L=v(0,-2147483648,!1);O.MIN_VALUE=L;var R=O.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*o+(this.low>>>0):this.high*o+(this.low>>>0)},R.toString=function(P){if((P=P||10)<2||36<P)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(L)){var j=b(P),z=this.div(j),J=z.mul(j).sub(this);return z.toString(P)+J.toInt().toString(P)}return"-"+this.neg().toString(P)}for(var G=b(p(P,6),this.unsigned),ne=this,se="";;){var q=ne.div(G),Z=(ne.sub(q.mul(G)).toInt()>>>0).toString(P);if((ne=q).isZero())return Z+se;for(;Z.length<6;)Z="0"+Z;se=""+Z+se}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(L)?64:this.neg().getNumBitsAbs();for(var P=0!=this.high?this.high:this.low,j=31;j>0&&0==(P&1<<j);j--);return 0!=this.high?j+33:j+1},R.isZero=function(){return 0===this.high&&0===this.low},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return 1==(1&this.low)},R.isEven=function(){return 0==(1&this.low)},R.equals=function(P){return x(P)||(P=s(P)),(this.unsigned===P.unsigned||this.high>>>31!=1||P.high>>>31!=1)&&this.high===P.high&&this.low===P.low},R.eq=R.equals,R.notEquals=function(P){return!this.eq(P)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(P){return this.comp(P)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(P){return this.comp(P)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(P){return this.comp(P)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(P){return this.comp(P)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(P){if(x(P)||(P=s(P)),this.eq(P))return 0;var j=this.isNegative(),z=P.isNegative();return j&&!z?-1:!j&&z?1:this.unsigned?P.high>>>0>this.high>>>0||P.high===this.high&&P.low>>>0>this.low>>>0?-1:1:this.sub(P).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(L)?L:this.not().add(E)},R.neg=R.negate,R.add=function(P){x(P)||(P=s(P));var Z=0,pe=0,ie=0,_e=0;return ie+=(_e+=(65535&this.low)+(65535&P.low))>>>16,pe+=(ie+=(this.low>>>16)+(P.low>>>16))>>>16,Z+=(pe+=(65535&this.high)+(65535&P.high))>>>16,Z+=(this.high>>>16)+(P.high>>>16),v((ie&=65535)<<16|(_e&=65535),(Z&=65535)<<16|(pe&=65535),this.unsigned)},R.subtract=function(P){return x(P)||(P=s(P)),this.add(P.neg())},R.sub=R.subtract,R.multiply=function(P){if(this.isZero())return m;if(x(P)||(P=s(P)),_)return v(_.mul(this.low,this.high,P.low,P.high),_.get_high(),this.unsigned);if(P.isZero())return m;if(this.eq(L))return P.isOdd()?L:m;if(P.eq(L))return this.isOdd()?L:m;if(this.isNegative())return P.isNegative()?this.neg().mul(P.neg()):this.neg().mul(P).neg();if(P.isNegative())return this.mul(P.neg()).neg();if(this.lt(f)&&P.lt(f))return b(this.toNumber()*P.toNumber(),this.unsigned);var z=65535&this.high,J=this.low>>>16,G=65535&this.low,se=65535&P.high,q=P.low>>>16,Z=65535&P.low,pe=0,ie=0,_e=0,Ke=0;return _e+=(Ke+=G*Z)>>>16,ie+=(_e+=J*Z)>>>16,_e&=65535,ie+=(_e+=G*q)>>>16,pe+=(ie+=z*Z)>>>16,ie&=65535,pe+=(ie+=J*q)>>>16,ie&=65535,pe+=(ie+=G*se)>>>16,pe+=(this.high>>>16)*Z+z*q+J*se+G*(P.high>>>16),v((_e&=65535)<<16|(Ke&=65535),(pe&=65535)<<16|(ie&=65535),this.unsigned)},R.mul=R.multiply,R.divide=function(P){if(x(P)||(P=s(P)),P.isZero())throw Error("division by zero");var j,z,J;if(_)return this.unsigned||-2147483648!==this.high||-1!==P.low||-1!==P.high?v((this.unsigned?_.div_u:_.div_s)(this.low,this.high,P.low,P.high),_.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?D:m;if(this.unsigned){if(P.unsigned||(P=P.toUnsigned()),P.gt(this))return D;if(P.gt(this.shru(1)))return S;J=D}else{if(this.eq(L))return P.eq(E)||P.eq(A)?L:P.eq(L)?E:(j=this.shr(1).div(P).shl(1)).eq(m)?P.isNegative()?E:A:(z=this.sub(P.mul(j)),J=j.add(z.div(P)));if(P.eq(L))return this.unsigned?D:m;if(this.isNegative())return P.isNegative()?this.neg().div(P.neg()):this.neg().div(P).neg();if(P.isNegative())return this.div(P.neg()).neg();J=m}for(z=this;z.gte(P);){j=Math.max(1,Math.floor(z.toNumber()/P.toNumber()));for(var G=Math.ceil(Math.log(j)/Math.LN2),ne=G<=48?1:p(2,G-48),se=b(j),q=se.mul(P);q.isNegative()||q.gt(z);)q=(se=b(j-=ne,this.unsigned)).mul(P);se.isZero()&&(se=E),J=J.add(se),z=z.sub(q)}return J},R.div=R.divide,R.modulo=function(P){return x(P)||(P=s(P)),_?v((this.unsigned?_.rem_u:_.rem_s)(this.low,this.high,P.low,P.high),_.get_high(),this.unsigned):this.sub(this.div(P).mul(P))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return v(~this.low,~this.high,this.unsigned)},R.and=function(P){return x(P)||(P=s(P)),v(this.low&P.low,this.high&P.high,this.unsigned)},R.or=function(P){return x(P)||(P=s(P)),v(this.low|P.low,this.high|P.high,this.unsigned)},R.xor=function(P){return x(P)||(P=s(P)),v(this.low^P.low,this.high^P.high,this.unsigned)},R.shiftLeft=function(P){return x(P)&&(P=P.toInt()),0==(P&=63)?this:P<32?v(this.low<<P,this.high<<P|this.low>>>32-P,this.unsigned):v(0,this.low<<P-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(P){return x(P)&&(P=P.toInt()),0==(P&=63)?this:P<32?v(this.low>>>P|this.high<<32-P,this.high>>P,this.unsigned):v(this.high>>P-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(P){if(x(P)&&(P=P.toInt()),0==(P&=63))return this;var j=this.high;return P<32?v(this.low>>>P|j<<32-P,j>>>P,this.unsigned):v(32===P?j:j>>>P-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.toSigned=function(){return this.unsigned?v(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:v(this.low,this.high,!0)},R.toBytes=function(P){return P?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var P=this.high,j=this.low;return[255&j,j>>>8&255,j>>>16&255,j>>>24,255&P,P>>>8&255,P>>>16&255,P>>>24]},R.toBytesBE=function(){var P=this.high,j=this.low;return[P>>>24,P>>>16&255,P>>>8&255,255&P,j>>>24,j>>>16&255,j>>>8&255,255&j]},O.fromBytes=function(P,j,z){return z?O.fromBytesLE(P,j):O.fromBytesBE(P,j)},O.fromBytesLE=function(P,j){return new O(P[0]|P[1]<<8|P[2]<<16|P[3]<<24,P[4]|P[5]<<8|P[6]<<16|P[7]<<24,j)},O.fromBytesBE=function(P,j){return new O(P[4]<<24|P[5]<<16|P[6]<<8|P[7],P[0]<<24|P[1]<<16|P[2]<<8|P[3],j)}},1446:(X,_,O)=>{"use strict";var x,w,T,g=O(2100),b=g.Reader,v=g.Writer,p=g.util,c=g.roots.default||(g.roots.default={});c.onnx=((T={}).Version=(x={},(w=Object.create(x))[x[0]="_START_VERSION"]=0,w[x[1]="IR_VERSION_2017_10_10"]=1,w[x[2]="IR_VERSION_2017_10_30"]=2,w[x[3]="IR_VERSION_2017_11_3"]=3,w[x[4]="IR_VERSION_2019_1_22"]=4,w[x[5]="IR_VERSION"]=5,w),T.AttributeProto=function(){function s(o){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.name="",s.prototype.refAttrName="",s.prototype.docString="",s.prototype.type=0,s.prototype.f=0,s.prototype.i=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.s=p.newBuffer([]),s.prototype.t=null,s.prototype.g=null,s.prototype.floats=p.emptyArray,s.prototype.ints=p.emptyArray,s.prototype.strings=p.emptyArray,s.prototype.tensors=p.emptyArray,s.prototype.graphs=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=v.create()),null!=o.name&&o.hasOwnProperty("name")&&u.uint32(10).string(o.name),null!=o.f&&o.hasOwnProperty("f")&&u.uint32(21).float(o.f),null!=o.i&&o.hasOwnProperty("i")&&u.uint32(24).int64(o.i),null!=o.s&&o.hasOwnProperty("s")&&u.uint32(34).bytes(o.s),null!=o.t&&o.hasOwnProperty("t")&&c.onnx.TensorProto.encode(o.t,u.uint32(42).fork()).ldelim(),null!=o.g&&o.hasOwnProperty("g")&&c.onnx.GraphProto.encode(o.g,u.uint32(50).fork()).ldelim(),null!=o.floats&&o.floats.length){u.uint32(58).fork();for(var l=0;l<o.floats.length;++l)u.float(o.floats[l]);u.ldelim()}if(null!=o.ints&&o.ints.length){for(u.uint32(66).fork(),l=0;l<o.ints.length;++l)u.int64(o.ints[l]);u.ldelim()}if(null!=o.strings&&o.strings.length)for(l=0;l<o.strings.length;++l)u.uint32(74).bytes(o.strings[l]);if(null!=o.tensors&&o.tensors.length)for(l=0;l<o.tensors.length;++l)c.onnx.TensorProto.encode(o.tensors[l],u.uint32(82).fork()).ldelim();if(null!=o.graphs&&o.graphs.length)for(l=0;l<o.graphs.length;++l)c.onnx.GraphProto.encode(o.graphs[l],u.uint32(90).fork()).ldelim();return null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(106).string(o.docString),null!=o.type&&o.hasOwnProperty("type")&&u.uint32(160).int32(o.type),null!=o.refAttrName&&o.hasOwnProperty("refAttrName")&&u.uint32(170).string(o.refAttrName),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.AttributeProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.name=o.string();break;case 21:f.refAttrName=o.string();break;case 13:f.docString=o.string();break;case 20:f.type=o.int32();break;case 2:f.f=o.float();break;case 3:f.i=o.int64();break;case 4:f.s=o.bytes();break;case 5:f.t=c.onnx.TensorProto.decode(o,o.uint32());break;case 6:f.g=c.onnx.GraphProto.decode(o,o.uint32());break;case 7:if(f.floats&&f.floats.length||(f.floats=[]),2==(7&m))for(var D=o.uint32()+o.pos;o.pos<D;)f.floats.push(o.float());else f.floats.push(o.float());break;case 8:if(f.ints&&f.ints.length||(f.ints=[]),2==(7&m))for(D=o.uint32()+o.pos;o.pos<D;)f.ints.push(o.int64());else f.ints.push(o.int64());break;case 9:f.strings&&f.strings.length||(f.strings=[]),f.strings.push(o.bytes());break;case 10:f.tensors&&f.tensors.length||(f.tensors=[]),f.tensors.push(c.onnx.TensorProto.decode(o,o.uint32()));break;case 11:f.graphs&&f.graphs.length||(f.graphs=[]),f.graphs.push(c.onnx.GraphProto.decode(o,o.uint32()));break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.refAttrName&&o.hasOwnProperty("refAttrName")&&!p.isString(o.refAttrName))return"refAttrName: string expected";if(null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString))return"docString: string expected";if(null!=o.type&&o.hasOwnProperty("type"))switch(o.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=o.f&&o.hasOwnProperty("f")&&"number"!=typeof o.f)return"f: number expected";if(null!=o.i&&o.hasOwnProperty("i")&&!(p.isInteger(o.i)||o.i&&p.isInteger(o.i.low)&&p.isInteger(o.i.high)))return"i: integer|Long expected";if(null!=o.s&&o.hasOwnProperty("s")&&!(o.s&&"number"==typeof o.s.length||p.isString(o.s)))return"s: buffer expected";if(null!=o.t&&o.hasOwnProperty("t")&&(l=c.onnx.TensorProto.verify(o.t)))return"t."+l;if(null!=o.g&&o.hasOwnProperty("g")&&(l=c.onnx.GraphProto.verify(o.g)))return"g."+l;if(null!=o.floats&&o.hasOwnProperty("floats")){if(!Array.isArray(o.floats))return"floats: array expected";for(var u=0;u<o.floats.length;++u)if("number"!=typeof o.floats[u])return"floats: number[] expected"}if(null!=o.ints&&o.hasOwnProperty("ints")){if(!Array.isArray(o.ints))return"ints: array expected";for(u=0;u<o.ints.length;++u)if(!(p.isInteger(o.ints[u])||o.ints[u]&&p.isInteger(o.ints[u].low)&&p.isInteger(o.ints[u].high)))return"ints: integer|Long[] expected"}if(null!=o.strings&&o.hasOwnProperty("strings")){if(!Array.isArray(o.strings))return"strings: array expected";for(u=0;u<o.strings.length;++u)if(!(o.strings[u]&&"number"==typeof o.strings[u].length||p.isString(o.strings[u])))return"strings: buffer[] expected"}if(null!=o.tensors&&o.hasOwnProperty("tensors")){if(!Array.isArray(o.tensors))return"tensors: array expected";for(u=0;u<o.tensors.length;++u)if(l=c.onnx.TensorProto.verify(o.tensors[u]))return"tensors."+l}if(null!=o.graphs&&o.hasOwnProperty("graphs")){if(!Array.isArray(o.graphs))return"graphs: array expected";for(u=0;u<o.graphs.length;++u){var l;if(l=c.onnx.GraphProto.verify(o.graphs[u]))return"graphs."+l}}return null},s.fromObject=function(o){if(o instanceof c.onnx.AttributeProto)return o;var u=new c.onnx.AttributeProto;switch(null!=o.name&&(u.name=String(o.name)),null!=o.refAttrName&&(u.refAttrName=String(o.refAttrName)),null!=o.docString&&(u.docString=String(o.docString)),o.type){case"UNDEFINED":case 0:u.type=0;break;case"FLOAT":case 1:u.type=1;break;case"INT":case 2:u.type=2;break;case"STRING":case 3:u.type=3;break;case"TENSOR":case 4:u.type=4;break;case"GRAPH":case 5:u.type=5;break;case"FLOATS":case 6:u.type=6;break;case"INTS":case 7:u.type=7;break;case"STRINGS":case 8:u.type=8;break;case"TENSORS":case 9:u.type=9;break;case"GRAPHS":case 10:u.type=10}if(null!=o.f&&(u.f=Number(o.f)),null!=o.i&&(p.Long?(u.i=p.Long.fromValue(o.i)).unsigned=!1:"string"==typeof o.i?u.i=parseInt(o.i,10):"number"==typeof o.i?u.i=o.i:"object"==typeof o.i&&(u.i=new p.LongBits(o.i.low>>>0,o.i.high>>>0).toNumber())),null!=o.s&&("string"==typeof o.s?p.base64.decode(o.s,u.s=p.newBuffer(p.base64.length(o.s)),0):o.s.length&&(u.s=o.s)),null!=o.t){if("object"!=typeof o.t)throw TypeError(".onnx.AttributeProto.t: object expected");u.t=c.onnx.TensorProto.fromObject(o.t)}if(null!=o.g){if("object"!=typeof o.g)throw TypeError(".onnx.AttributeProto.g: object expected");u.g=c.onnx.GraphProto.fromObject(o.g)}if(o.floats){if(!Array.isArray(o.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");u.floats=[];for(var l=0;l<o.floats.length;++l)u.floats[l]=Number(o.floats[l])}if(o.ints){if(!Array.isArray(o.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(u.ints=[],l=0;l<o.ints.length;++l)p.Long?(u.ints[l]=p.Long.fromValue(o.ints[l])).unsigned=!1:"string"==typeof o.ints[l]?u.ints[l]=parseInt(o.ints[l],10):"number"==typeof o.ints[l]?u.ints[l]=o.ints[l]:"object"==typeof o.ints[l]&&(u.ints[l]=new p.LongBits(o.ints[l].low>>>0,o.ints[l].high>>>0).toNumber())}if(o.strings){if(!Array.isArray(o.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(u.strings=[],l=0;l<o.strings.length;++l)"string"==typeof o.strings[l]?p.base64.decode(o.strings[l],u.strings[l]=p.newBuffer(p.base64.length(o.strings[l])),0):o.strings[l].length&&(u.strings[l]=o.strings[l])}if(o.tensors){if(!Array.isArray(o.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(u.tensors=[],l=0;l<o.tensors.length;++l){if("object"!=typeof o.tensors[l])throw TypeError(".onnx.AttributeProto.tensors: object expected");u.tensors[l]=c.onnx.TensorProto.fromObject(o.tensors[l])}}if(o.graphs){if(!Array.isArray(o.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(u.graphs=[],l=0;l<o.graphs.length;++l){if("object"!=typeof o.graphs[l])throw TypeError(".onnx.AttributeProto.graphs: object expected");u.graphs[l]=c.onnx.GraphProto.fromObject(o.graphs[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.floats=[],l.ints=[],l.strings=[],l.tensors=[],l.graphs=[]),u.defaults){if(l.name="",l.f=0,p.Long){var f=new p.Long(0,0,!1);l.i=u.longs===String?f.toString():u.longs===Number?f.toNumber():f}else l.i=u.longs===String?"0":0;u.bytes===String?l.s="":(l.s=[],u.bytes!==Array&&(l.s=p.newBuffer(l.s))),l.t=null,l.g=null,l.docString="",l.type=u.enums===String?"UNDEFINED":0,l.refAttrName=""}if(null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),null!=o.f&&o.hasOwnProperty("f")&&(l.f=u.json&&!isFinite(o.f)?String(o.f):o.f),null!=o.i&&o.hasOwnProperty("i")&&(l.i="number"==typeof o.i?u.longs===String?String(o.i):o.i:u.longs===String?p.Long.prototype.toString.call(o.i):u.longs===Number?new p.LongBits(o.i.low>>>0,o.i.high>>>0).toNumber():o.i),null!=o.s&&o.hasOwnProperty("s")&&(l.s=u.bytes===String?p.base64.encode(o.s,0,o.s.length):u.bytes===Array?Array.prototype.slice.call(o.s):o.s),null!=o.t&&o.hasOwnProperty("t")&&(l.t=c.onnx.TensorProto.toObject(o.t,u)),null!=o.g&&o.hasOwnProperty("g")&&(l.g=c.onnx.GraphProto.toObject(o.g,u)),o.floats&&o.floats.length){l.floats=[];for(var m=0;m<o.floats.length;++m)l.floats[m]=u.json&&!isFinite(o.floats[m])?String(o.floats[m]):o.floats[m]}if(o.ints&&o.ints.length)for(l.ints=[],m=0;m<o.ints.length;++m)l.ints[m]="number"==typeof o.ints[m]?u.longs===String?String(o.ints[m]):o.ints[m]:u.longs===String?p.Long.prototype.toString.call(o.ints[m]):u.longs===Number?new p.LongBits(o.ints[m].low>>>0,o.ints[m].high>>>0).toNumber():o.ints[m];if(o.strings&&o.strings.length)for(l.strings=[],m=0;m<o.strings.length;++m)l.strings[m]=u.bytes===String?p.base64.encode(o.strings[m],0,o.strings[m].length):u.bytes===Array?Array.prototype.slice.call(o.strings[m]):o.strings[m];if(o.tensors&&o.tensors.length)for(l.tensors=[],m=0;m<o.tensors.length;++m)l.tensors[m]=c.onnx.TensorProto.toObject(o.tensors[m],u);if(o.graphs&&o.graphs.length)for(l.graphs=[],m=0;m<o.graphs.length;++m)l.graphs[m]=c.onnx.GraphProto.toObject(o.graphs[m],u);return null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),null!=o.type&&o.hasOwnProperty("type")&&(l.type=u.enums===String?c.onnx.AttributeProto.AttributeType[o.type]:o.type),null!=o.refAttrName&&o.hasOwnProperty("refAttrName")&&(l.refAttrName=o.refAttrName),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s.AttributeType=(o={},(u=Object.create(o))[o[0]="UNDEFINED"]=0,u[o[1]="FLOAT"]=1,u[o[2]="INT"]=2,u[o[3]="STRING"]=3,u[o[4]="TENSOR"]=4,u[o[5]="GRAPH"]=5,u[o[6]="FLOATS"]=6,u[o[7]="INTS"]=7,u[o[8]="STRINGS"]=8,u[o[9]="TENSORS"]=9,u[o[10]="GRAPHS"]=10,u),s;var o,u}(),T.ValueInfoProto=function(){function s(o){if(o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.name="",s.prototype.type=null,s.prototype.docString="",s.create=function(o){return new s(o)},s.encode=function(o,u){return u||(u=v.create()),null!=o.name&&o.hasOwnProperty("name")&&u.uint32(10).string(o.name),null!=o.type&&o.hasOwnProperty("type")&&c.onnx.TypeProto.encode(o.type,u.uint32(18).fork()).ldelim(),null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(26).string(o.docString),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.ValueInfoProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.name=o.string();break;case 2:f.type=c.onnx.TypeProto.decode(o,o.uint32());break;case 3:f.docString=o.string();break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.type&&o.hasOwnProperty("type")){var u=c.onnx.TypeProto.verify(o.type);if(u)return"type."+u}return null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString)?"docString: string expected":null},s.fromObject=function(o){if(o instanceof c.onnx.ValueInfoProto)return o;var u=new c.onnx.ValueInfoProto;if(null!=o.name&&(u.name=String(o.name)),null!=o.type){if("object"!=typeof o.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");u.type=c.onnx.TypeProto.fromObject(o.type)}return null!=o.docString&&(u.docString=String(o.docString)),u},s.toObject=function(o,u){u||(u={});var l={};return u.defaults&&(l.name="",l.type=null,l.docString=""),null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),null!=o.type&&o.hasOwnProperty("type")&&(l.type=c.onnx.TypeProto.toObject(o.type,u)),null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s}(),T.NodeProto=function(){function s(o){if(this.input=[],this.output=[],this.attribute=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.input=p.emptyArray,s.prototype.output=p.emptyArray,s.prototype.name="",s.prototype.opType="",s.prototype.domain="",s.prototype.attribute=p.emptyArray,s.prototype.docString="",s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=v.create()),null!=o.input&&o.input.length)for(var l=0;l<o.input.length;++l)u.uint32(10).string(o.input[l]);if(null!=o.output&&o.output.length)for(l=0;l<o.output.length;++l)u.uint32(18).string(o.output[l]);if(null!=o.name&&o.hasOwnProperty("name")&&u.uint32(26).string(o.name),null!=o.opType&&o.hasOwnProperty("opType")&&u.uint32(34).string(o.opType),null!=o.attribute&&o.attribute.length)for(l=0;l<o.attribute.length;++l)c.onnx.AttributeProto.encode(o.attribute[l],u.uint32(42).fork()).ldelim();return null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(50).string(o.docString),null!=o.domain&&o.hasOwnProperty("domain")&&u.uint32(58).string(o.domain),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.NodeProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.input&&f.input.length||(f.input=[]),f.input.push(o.string());break;case 2:f.output&&f.output.length||(f.output=[]),f.output.push(o.string());break;case 3:f.name=o.string();break;case 4:f.opType=o.string();break;case 7:f.domain=o.string();break;case 5:f.attribute&&f.attribute.length||(f.attribute=[]),f.attribute.push(c.onnx.AttributeProto.decode(o,o.uint32()));break;case 6:f.docString=o.string();break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.input&&o.hasOwnProperty("input")){if(!Array.isArray(o.input))return"input: array expected";for(var u=0;u<o.input.length;++u)if(!p.isString(o.input[u]))return"input: string[] expected"}if(null!=o.output&&o.hasOwnProperty("output")){if(!Array.isArray(o.output))return"output: array expected";for(u=0;u<o.output.length;++u)if(!p.isString(o.output[u]))return"output: string[] expected"}if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.opType&&o.hasOwnProperty("opType")&&!p.isString(o.opType))return"opType: string expected";if(null!=o.domain&&o.hasOwnProperty("domain")&&!p.isString(o.domain))return"domain: string expected";if(null!=o.attribute&&o.hasOwnProperty("attribute")){if(!Array.isArray(o.attribute))return"attribute: array expected";for(u=0;u<o.attribute.length;++u){var l=c.onnx.AttributeProto.verify(o.attribute[u]);if(l)return"attribute."+l}}return null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString)?"docString: string expected":null},s.fromObject=function(o){if(o instanceof c.onnx.NodeProto)return o;var u=new c.onnx.NodeProto;if(o.input){if(!Array.isArray(o.input))throw TypeError(".onnx.NodeProto.input: array expected");u.input=[];for(var l=0;l<o.input.length;++l)u.input[l]=String(o.input[l])}if(o.output){if(!Array.isArray(o.output))throw TypeError(".onnx.NodeProto.output: array expected");for(u.output=[],l=0;l<o.output.length;++l)u.output[l]=String(o.output[l])}if(null!=o.name&&(u.name=String(o.name)),null!=o.opType&&(u.opType=String(o.opType)),null!=o.domain&&(u.domain=String(o.domain)),o.attribute){if(!Array.isArray(o.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(u.attribute=[],l=0;l<o.attribute.length;++l){if("object"!=typeof o.attribute[l])throw TypeError(".onnx.NodeProto.attribute: object expected");u.attribute[l]=c.onnx.AttributeProto.fromObject(o.attribute[l])}}return null!=o.docString&&(u.docString=String(o.docString)),u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.input=[],l.output=[],l.attribute=[]),u.defaults&&(l.name="",l.opType="",l.docString="",l.domain=""),o.input&&o.input.length){l.input=[];for(var f=0;f<o.input.length;++f)l.input[f]=o.input[f]}if(o.output&&o.output.length)for(l.output=[],f=0;f<o.output.length;++f)l.output[f]=o.output[f];if(null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),null!=o.opType&&o.hasOwnProperty("opType")&&(l.opType=o.opType),o.attribute&&o.attribute.length)for(l.attribute=[],f=0;f<o.attribute.length;++f)l.attribute[f]=c.onnx.AttributeProto.toObject(o.attribute[f],u);return null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),null!=o.domain&&o.hasOwnProperty("domain")&&(l.domain=o.domain),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s}(),T.ModelProto=function(){function s(o){if(this.opsetImport=[],this.metadataProps=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.irVersion=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.opsetImport=p.emptyArray,s.prototype.producerName="",s.prototype.producerVersion="",s.prototype.domain="",s.prototype.modelVersion=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.docString="",s.prototype.graph=null,s.prototype.metadataProps=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=v.create()),null!=o.irVersion&&o.hasOwnProperty("irVersion")&&u.uint32(8).int64(o.irVersion),null!=o.producerName&&o.hasOwnProperty("producerName")&&u.uint32(18).string(o.producerName),null!=o.producerVersion&&o.hasOwnProperty("producerVersion")&&u.uint32(26).string(o.producerVersion),null!=o.domain&&o.hasOwnProperty("domain")&&u.uint32(34).string(o.domain),null!=o.modelVersion&&o.hasOwnProperty("modelVersion")&&u.uint32(40).int64(o.modelVersion),null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(50).string(o.docString),null!=o.graph&&o.hasOwnProperty("graph")&&c.onnx.GraphProto.encode(o.graph,u.uint32(58).fork()).ldelim(),null!=o.opsetImport&&o.opsetImport.length)for(var l=0;l<o.opsetImport.length;++l)c.onnx.OperatorSetIdProto.encode(o.opsetImport[l],u.uint32(66).fork()).ldelim();if(null!=o.metadataProps&&o.metadataProps.length)for(l=0;l<o.metadataProps.length;++l)c.onnx.StringStringEntryProto.encode(o.metadataProps[l],u.uint32(114).fork()).ldelim();return u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.ModelProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.irVersion=o.int64();break;case 8:f.opsetImport&&f.opsetImport.length||(f.opsetImport=[]),f.opsetImport.push(c.onnx.OperatorSetIdProto.decode(o,o.uint32()));break;case 2:f.producerName=o.string();break;case 3:f.producerVersion=o.string();break;case 4:f.domain=o.string();break;case 5:f.modelVersion=o.int64();break;case 6:f.docString=o.string();break;case 7:f.graph=c.onnx.GraphProto.decode(o,o.uint32());break;case 14:f.metadataProps&&f.metadataProps.length||(f.metadataProps=[]),f.metadataProps.push(c.onnx.StringStringEntryProto.decode(o,o.uint32()));break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.irVersion&&o.hasOwnProperty("irVersion")&&!(p.isInteger(o.irVersion)||o.irVersion&&p.isInteger(o.irVersion.low)&&p.isInteger(o.irVersion.high)))return"irVersion: integer|Long expected";if(null!=o.opsetImport&&o.hasOwnProperty("opsetImport")){if(!Array.isArray(o.opsetImport))return"opsetImport: array expected";for(var u=0;u<o.opsetImport.length;++u)if(l=c.onnx.OperatorSetIdProto.verify(o.opsetImport[u]))return"opsetImport."+l}if(null!=o.producerName&&o.hasOwnProperty("producerName")&&!p.isString(o.producerName))return"producerName: string expected";if(null!=o.producerVersion&&o.hasOwnProperty("producerVersion")&&!p.isString(o.producerVersion))return"producerVersion: string expected";if(null!=o.domain&&o.hasOwnProperty("domain")&&!p.isString(o.domain))return"domain: string expected";if(null!=o.modelVersion&&o.hasOwnProperty("modelVersion")&&!(p.isInteger(o.modelVersion)||o.modelVersion&&p.isInteger(o.modelVersion.low)&&p.isInteger(o.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString))return"docString: string expected";if(null!=o.graph&&o.hasOwnProperty("graph")&&(l=c.onnx.GraphProto.verify(o.graph)))return"graph."+l;if(null!=o.metadataProps&&o.hasOwnProperty("metadataProps")){if(!Array.isArray(o.metadataProps))return"metadataProps: array expected";for(u=0;u<o.metadataProps.length;++u){var l;if(l=c.onnx.StringStringEntryProto.verify(o.metadataProps[u]))return"metadataProps."+l}}return null},s.fromObject=function(o){if(o instanceof c.onnx.ModelProto)return o;var u=new c.onnx.ModelProto;if(null!=o.irVersion&&(p.Long?(u.irVersion=p.Long.fromValue(o.irVersion)).unsigned=!1:"string"==typeof o.irVersion?u.irVersion=parseInt(o.irVersion,10):"number"==typeof o.irVersion?u.irVersion=o.irVersion:"object"==typeof o.irVersion&&(u.irVersion=new p.LongBits(o.irVersion.low>>>0,o.irVersion.high>>>0).toNumber())),o.opsetImport){if(!Array.isArray(o.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");u.opsetImport=[];for(var l=0;l<o.opsetImport.length;++l){if("object"!=typeof o.opsetImport[l])throw TypeError(".onnx.ModelProto.opsetImport: object expected");u.opsetImport[l]=c.onnx.OperatorSetIdProto.fromObject(o.opsetImport[l])}}if(null!=o.producerName&&(u.producerName=String(o.producerName)),null!=o.producerVersion&&(u.producerVersion=String(o.producerVersion)),null!=o.domain&&(u.domain=String(o.domain)),null!=o.modelVersion&&(p.Long?(u.modelVersion=p.Long.fromValue(o.modelVersion)).unsigned=!1:"string"==typeof o.modelVersion?u.modelVersion=parseInt(o.modelVersion,10):"number"==typeof o.modelVersion?u.modelVersion=o.modelVersion:"object"==typeof o.modelVersion&&(u.modelVersion=new p.LongBits(o.modelVersion.low>>>0,o.modelVersion.high>>>0).toNumber())),null!=o.docString&&(u.docString=String(o.docString)),null!=o.graph){if("object"!=typeof o.graph)throw TypeError(".onnx.ModelProto.graph: object expected");u.graph=c.onnx.GraphProto.fromObject(o.graph)}if(o.metadataProps){if(!Array.isArray(o.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(u.metadataProps=[],l=0;l<o.metadataProps.length;++l){if("object"!=typeof o.metadataProps[l])throw TypeError(".onnx.ModelProto.metadataProps: object expected");u.metadataProps[l]=c.onnx.StringStringEntryProto.fromObject(o.metadataProps[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.opsetImport=[],l.metadataProps=[]),u.defaults){if(p.Long){var f=new p.Long(0,0,!1);l.irVersion=u.longs===String?f.toString():u.longs===Number?f.toNumber():f}else l.irVersion=u.longs===String?"0":0;l.producerName="",l.producerVersion="",l.domain="",p.Long?(f=new p.Long(0,0,!1),l.modelVersion=u.longs===String?f.toString():u.longs===Number?f.toNumber():f):l.modelVersion=u.longs===String?"0":0,l.docString="",l.graph=null}if(null!=o.irVersion&&o.hasOwnProperty("irVersion")&&(l.irVersion="number"==typeof o.irVersion?u.longs===String?String(o.irVersion):o.irVersion:u.longs===String?p.Long.prototype.toString.call(o.irVersion):u.longs===Number?new p.LongBits(o.irVersion.low>>>0,o.irVersion.high>>>0).toNumber():o.irVersion),null!=o.producerName&&o.hasOwnProperty("producerName")&&(l.producerName=o.producerName),null!=o.producerVersion&&o.hasOwnProperty("producerVersion")&&(l.producerVersion=o.producerVersion),null!=o.domain&&o.hasOwnProperty("domain")&&(l.domain=o.domain),null!=o.modelVersion&&o.hasOwnProperty("modelVersion")&&(l.modelVersion="number"==typeof o.modelVersion?u.longs===String?String(o.modelVersion):o.modelVersion:u.longs===String?p.Long.prototype.toString.call(o.modelVersion):u.longs===Number?new p.LongBits(o.modelVersion.low>>>0,o.modelVersion.high>>>0).toNumber():o.modelVersion),null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),null!=o.graph&&o.hasOwnProperty("graph")&&(l.graph=c.onnx.GraphProto.toObject(o.graph,u)),o.opsetImport&&o.opsetImport.length){l.opsetImport=[];for(var m=0;m<o.opsetImport.length;++m)l.opsetImport[m]=c.onnx.OperatorSetIdProto.toObject(o.opsetImport[m],u)}if(o.metadataProps&&o.metadataProps.length)for(l.metadataProps=[],m=0;m<o.metadataProps.length;++m)l.metadataProps[m]=c.onnx.StringStringEntryProto.toObject(o.metadataProps[m],u);return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s}(),T.StringStringEntryProto=function(){function s(o){if(o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.key="",s.prototype.value="",s.create=function(o){return new s(o)},s.encode=function(o,u){return u||(u=v.create()),null!=o.key&&o.hasOwnProperty("key")&&u.uint32(10).string(o.key),null!=o.value&&o.hasOwnProperty("value")&&u.uint32(18).string(o.value),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.StringStringEntryProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.key=o.string();break;case 2:f.value=o.string();break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){return"object"!=typeof o||null===o?"object expected":null!=o.key&&o.hasOwnProperty("key")&&!p.isString(o.key)?"key: string expected":null!=o.value&&o.hasOwnProperty("value")&&!p.isString(o.value)?"value: string expected":null},s.fromObject=function(o){if(o instanceof c.onnx.StringStringEntryProto)return o;var u=new c.onnx.StringStringEntryProto;return null!=o.key&&(u.key=String(o.key)),null!=o.value&&(u.value=String(o.value)),u},s.toObject=function(o,u){u||(u={});var l={};return u.defaults&&(l.key="",l.value=""),null!=o.key&&o.hasOwnProperty("key")&&(l.key=o.key),null!=o.value&&o.hasOwnProperty("value")&&(l.value=o.value),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s}(),T.TensorAnnotation=function(){function s(o){if(this.quantParameterTensorNames=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.tensorName="",s.prototype.quantParameterTensorNames=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=v.create()),null!=o.tensorName&&o.hasOwnProperty("tensorName")&&u.uint32(10).string(o.tensorName),null!=o.quantParameterTensorNames&&o.quantParameterTensorNames.length)for(var l=0;l<o.quantParameterTensorNames.length;++l)c.onnx.StringStringEntryProto.encode(o.quantParameterTensorNames[l],u.uint32(18).fork()).ldelim();return u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.TensorAnnotation;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.tensorName=o.string();break;case 2:f.quantParameterTensorNames&&f.quantParameterTensorNames.length||(f.quantParameterTensorNames=[]),f.quantParameterTensorNames.push(c.onnx.StringStringEntryProto.decode(o,o.uint32()));break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.tensorName&&o.hasOwnProperty("tensorName")&&!p.isString(o.tensorName))return"tensorName: string expected";if(null!=o.quantParameterTensorNames&&o.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(o.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var u=0;u<o.quantParameterTensorNames.length;++u){var l=c.onnx.StringStringEntryProto.verify(o.quantParameterTensorNames[u]);if(l)return"quantParameterTensorNames."+l}}return null},s.fromObject=function(o){if(o instanceof c.onnx.TensorAnnotation)return o;var u=new c.onnx.TensorAnnotation;if(null!=o.tensorName&&(u.tensorName=String(o.tensorName)),o.quantParameterTensorNames){if(!Array.isArray(o.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");u.quantParameterTensorNames=[];for(var l=0;l<o.quantParameterTensorNames.length;++l){if("object"!=typeof o.quantParameterTensorNames[l])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");u.quantParameterTensorNames[l]=c.onnx.StringStringEntryProto.fromObject(o.quantParameterTensorNames[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.quantParameterTensorNames=[]),u.defaults&&(l.tensorName=""),null!=o.tensorName&&o.hasOwnProperty("tensorName")&&(l.tensorName=o.tensorName),o.quantParameterTensorNames&&o.quantParameterTensorNames.length){l.quantParameterTensorNames=[];for(var f=0;f<o.quantParameterTensorNames.length;++f)l.quantParameterTensorNames[f]=c.onnx.StringStringEntryProto.toObject(o.quantParameterTensorNames[f],u)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s}(),T.GraphProto=function(){function s(o){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.node=p.emptyArray,s.prototype.name="",s.prototype.initializer=p.emptyArray,s.prototype.docString="",s.prototype.input=p.emptyArray,s.prototype.output=p.emptyArray,s.prototype.valueInfo=p.emptyArray,s.prototype.quantizationAnnotation=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=v.create()),null!=o.node&&o.node.length)for(var l=0;l<o.node.length;++l)c.onnx.NodeProto.encode(o.node[l],u.uint32(10).fork()).ldelim();if(null!=o.name&&o.hasOwnProperty("name")&&u.uint32(18).string(o.name),null!=o.initializer&&o.initializer.length)for(l=0;l<o.initializer.length;++l)c.onnx.TensorProto.encode(o.initializer[l],u.uint32(42).fork()).ldelim();if(null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(82).string(o.docString),null!=o.input&&o.input.length)for(l=0;l<o.input.length;++l)c.onnx.ValueInfoProto.encode(o.input[l],u.uint32(90).fork()).ldelim();if(null!=o.output&&o.output.length)for(l=0;l<o.output.length;++l)c.onnx.ValueInfoProto.encode(o.output[l],u.uint32(98).fork()).ldelim();if(null!=o.valueInfo&&o.valueInfo.length)for(l=0;l<o.valueInfo.length;++l)c.onnx.ValueInfoProto.encode(o.valueInfo[l],u.uint32(106).fork()).ldelim();if(null!=o.quantizationAnnotation&&o.quantizationAnnotation.length)for(l=0;l<o.quantizationAnnotation.length;++l)c.onnx.TensorAnnotation.encode(o.quantizationAnnotation[l],u.uint32(114).fork()).ldelim();return u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.GraphProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.node&&f.node.length||(f.node=[]),f.node.push(c.onnx.NodeProto.decode(o,o.uint32()));break;case 2:f.name=o.string();break;case 5:f.initializer&&f.initializer.length||(f.initializer=[]),f.initializer.push(c.onnx.TensorProto.decode(o,o.uint32()));break;case 10:f.docString=o.string();break;case 11:f.input&&f.input.length||(f.input=[]),f.input.push(c.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 12:f.output&&f.output.length||(f.output=[]),f.output.push(c.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 13:f.valueInfo&&f.valueInfo.length||(f.valueInfo=[]),f.valueInfo.push(c.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 14:f.quantizationAnnotation&&f.quantizationAnnotation.length||(f.quantizationAnnotation=[]),f.quantizationAnnotation.push(c.onnx.TensorAnnotation.decode(o,o.uint32()));break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.node&&o.hasOwnProperty("node")){if(!Array.isArray(o.node))return"node: array expected";for(var u=0;u<o.node.length;++u)if(l=c.onnx.NodeProto.verify(o.node[u]))return"node."+l}if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.initializer&&o.hasOwnProperty("initializer")){if(!Array.isArray(o.initializer))return"initializer: array expected";for(u=0;u<o.initializer.length;++u)if(l=c.onnx.TensorProto.verify(o.initializer[u]))return"initializer."+l}if(null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString))return"docString: string expected";if(null!=o.input&&o.hasOwnProperty("input")){if(!Array.isArray(o.input))return"input: array expected";for(u=0;u<o.input.length;++u)if(l=c.onnx.ValueInfoProto.verify(o.input[u]))return"input."+l}if(null!=o.output&&o.hasOwnProperty("output")){if(!Array.isArray(o.output))return"output: array expected";for(u=0;u<o.output.length;++u)if(l=c.onnx.ValueInfoProto.verify(o.output[u]))return"output."+l}if(null!=o.valueInfo&&o.hasOwnProperty("valueInfo")){if(!Array.isArray(o.valueInfo))return"valueInfo: array expected";for(u=0;u<o.valueInfo.length;++u)if(l=c.onnx.ValueInfoProto.verify(o.valueInfo[u]))return"valueInfo."+l}if(null!=o.quantizationAnnotation&&o.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(o.quantizationAnnotation))return"quantizationAnnotation: array expected";for(u=0;u<o.quantizationAnnotation.length;++u){var l;if(l=c.onnx.TensorAnnotation.verify(o.quantizationAnnotation[u]))return"quantizationAnnotation."+l}}return null},s.fromObject=function(o){if(o instanceof c.onnx.GraphProto)return o;var u=new c.onnx.GraphProto;if(o.node){if(!Array.isArray(o.node))throw TypeError(".onnx.GraphProto.node: array expected");u.node=[];for(var l=0;l<o.node.length;++l){if("object"!=typeof o.node[l])throw TypeError(".onnx.GraphProto.node: object expected");u.node[l]=c.onnx.NodeProto.fromObject(o.node[l])}}if(null!=o.name&&(u.name=String(o.name)),o.initializer){if(!Array.isArray(o.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(u.initializer=[],l=0;l<o.initializer.length;++l){if("object"!=typeof o.initializer[l])throw TypeError(".onnx.GraphProto.initializer: object expected");u.initializer[l]=c.onnx.TensorProto.fromObject(o.initializer[l])}}if(null!=o.docString&&(u.docString=String(o.docString)),o.input){if(!Array.isArray(o.input))throw TypeError(".onnx.GraphProto.input: array expected");for(u.input=[],l=0;l<o.input.length;++l){if("object"!=typeof o.input[l])throw TypeError(".onnx.GraphProto.input: object expected");u.input[l]=c.onnx.ValueInfoProto.fromObject(o.input[l])}}if(o.output){if(!Array.isArray(o.output))throw TypeError(".onnx.GraphProto.output: array expected");for(u.output=[],l=0;l<o.output.length;++l){if("object"!=typeof o.output[l])throw TypeError(".onnx.GraphProto.output: object expected");u.output[l]=c.onnx.ValueInfoProto.fromObject(o.output[l])}}if(o.valueInfo){if(!Array.isArray(o.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(u.valueInfo=[],l=0;l<o.valueInfo.length;++l){if("object"!=typeof o.valueInfo[l])throw TypeError(".onnx.GraphProto.valueInfo: object expected");u.valueInfo[l]=c.onnx.ValueInfoProto.fromObject(o.valueInfo[l])}}if(o.quantizationAnnotation){if(!Array.isArray(o.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(u.quantizationAnnotation=[],l=0;l<o.quantizationAnnotation.length;++l){if("object"!=typeof o.quantizationAnnotation[l])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");u.quantizationAnnotation[l]=c.onnx.TensorAnnotation.fromObject(o.quantizationAnnotation[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.node=[],l.initializer=[],l.input=[],l.output=[],l.valueInfo=[],l.quantizationAnnotation=[]),u.defaults&&(l.name="",l.docString=""),o.node&&o.node.length){l.node=[];for(var f=0;f<o.node.length;++f)l.node[f]=c.onnx.NodeProto.toObject(o.node[f],u)}if(null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),o.initializer&&o.initializer.length)for(l.initializer=[],f=0;f<o.initializer.length;++f)l.initializer[f]=c.onnx.TensorProto.toObject(o.initializer[f],u);if(null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),o.input&&o.input.length)for(l.input=[],f=0;f<o.input.length;++f)l.input[f]=c.onnx.ValueInfoProto.toObject(o.input[f],u);if(o.output&&o.output.length)for(l.output=[],f=0;f<o.output.length;++f)l.output[f]=c.onnx.ValueInfoProto.toObject(o.output[f],u);if(o.valueInfo&&o.valueInfo.length)for(l.valueInfo=[],f=0;f<o.valueInfo.length;++f)l.valueInfo[f]=c.onnx.ValueInfoProto.toObject(o.valueInfo[f],u);if(o.quantizationAnnotation&&o.quantizationAnnotation.length)for(l.quantizationAnnotation=[],f=0;f<o.quantizationAnnotation.length;++f)l.quantizationAnnotation[f]=c.onnx.TensorAnnotation.toObject(o.quantizationAnnotation[f],u);return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s}(),T.TensorProto=function(){function s(o){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.dims=p.emptyArray,s.prototype.dataType=0,s.prototype.segment=null,s.prototype.floatData=p.emptyArray,s.prototype.int32Data=p.emptyArray,s.prototype.stringData=p.emptyArray,s.prototype.int64Data=p.emptyArray,s.prototype.name="",s.prototype.docString="",s.prototype.rawData=p.newBuffer([]),s.prototype.externalData=p.emptyArray,s.prototype.dataLocation=0,s.prototype.doubleData=p.emptyArray,s.prototype.uint64Data=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=v.create()),null!=o.dims&&o.dims.length){u.uint32(10).fork();for(var l=0;l<o.dims.length;++l)u.int64(o.dims[l]);u.ldelim()}if(null!=o.dataType&&o.hasOwnProperty("dataType")&&u.uint32(16).int32(o.dataType),null!=o.segment&&o.hasOwnProperty("segment")&&c.onnx.TensorProto.Segment.encode(o.segment,u.uint32(26).fork()).ldelim(),null!=o.floatData&&o.floatData.length){for(u.uint32(34).fork(),l=0;l<o.floatData.length;++l)u.float(o.floatData[l]);u.ldelim()}if(null!=o.int32Data&&o.int32Data.length){for(u.uint32(42).fork(),l=0;l<o.int32Data.length;++l)u.int32(o.int32Data[l]);u.ldelim()}if(null!=o.stringData&&o.stringData.length)for(l=0;l<o.stringData.length;++l)u.uint32(50).bytes(o.stringData[l]);if(null!=o.int64Data&&o.int64Data.length){for(u.uint32(58).fork(),l=0;l<o.int64Data.length;++l)u.int64(o.int64Data[l]);u.ldelim()}if(null!=o.name&&o.hasOwnProperty("name")&&u.uint32(66).string(o.name),null!=o.rawData&&o.hasOwnProperty("rawData")&&u.uint32(74).bytes(o.rawData),null!=o.doubleData&&o.doubleData.length){for(u.uint32(82).fork(),l=0;l<o.doubleData.length;++l)u.double(o.doubleData[l]);u.ldelim()}if(null!=o.uint64Data&&o.uint64Data.length){for(u.uint32(90).fork(),l=0;l<o.uint64Data.length;++l)u.uint64(o.uint64Data[l]);u.ldelim()}if(null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(98).string(o.docString),null!=o.externalData&&o.externalData.length)for(l=0;l<o.externalData.length;++l)c.onnx.StringStringEntryProto.encode(o.externalData[l],u.uint32(106).fork()).ldelim();return null!=o.dataLocation&&o.hasOwnProperty("dataLocation")&&u.uint32(112).int32(o.dataLocation),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.TensorProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:if(f.dims&&f.dims.length||(f.dims=[]),2==(7&m))for(var D=o.uint32()+o.pos;o.pos<D;)f.dims.push(o.int64());else f.dims.push(o.int64());break;case 2:f.dataType=o.int32();break;case 3:f.segment=c.onnx.TensorProto.Segment.decode(o,o.uint32());break;case 4:if(f.floatData&&f.floatData.length||(f.floatData=[]),2==(7&m))for(D=o.uint32()+o.pos;o.pos<D;)f.floatData.push(o.float());else f.floatData.push(o.float());break;case 5:if(f.int32Data&&f.int32Data.length||(f.int32Data=[]),2==(7&m))for(D=o.uint32()+o.pos;o.pos<D;)f.int32Data.push(o.int32());else f.int32Data.push(o.int32());break;case 6:f.stringData&&f.stringData.length||(f.stringData=[]),f.stringData.push(o.bytes());break;case 7:if(f.int64Data&&f.int64Data.length||(f.int64Data=[]),2==(7&m))for(D=o.uint32()+o.pos;o.pos<D;)f.int64Data.push(o.int64());else f.int64Data.push(o.int64());break;case 8:f.name=o.string();break;case 12:f.docString=o.string();break;case 9:f.rawData=o.bytes();break;case 13:f.externalData&&f.externalData.length||(f.externalData=[]),f.externalData.push(c.onnx.StringStringEntryProto.decode(o,o.uint32()));break;case 14:f.dataLocation=o.int32();break;case 10:if(f.doubleData&&f.doubleData.length||(f.doubleData=[]),2==(7&m))for(D=o.uint32()+o.pos;o.pos<D;)f.doubleData.push(o.double());else f.doubleData.push(o.double());break;case 11:if(f.uint64Data&&f.uint64Data.length||(f.uint64Data=[]),2==(7&m))for(D=o.uint32()+o.pos;o.pos<D;)f.uint64Data.push(o.uint64());else f.uint64Data.push(o.uint64());break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.dims&&o.hasOwnProperty("dims")){if(!Array.isArray(o.dims))return"dims: array expected";for(var u=0;u<o.dims.length;++u)if(!(p.isInteger(o.dims[u])||o.dims[u]&&p.isInteger(o.dims[u].low)&&p.isInteger(o.dims[u].high)))return"dims: integer|Long[] expected"}if(null!=o.dataType&&o.hasOwnProperty("dataType")&&!p.isInteger(o.dataType))return"dataType: integer expected";if(null!=o.segment&&o.hasOwnProperty("segment")&&(l=c.onnx.TensorProto.Segment.verify(o.segment)))return"segment."+l;if(null!=o.floatData&&o.hasOwnProperty("floatData")){if(!Array.isArray(o.floatData))return"floatData: array expected";for(u=0;u<o.floatData.length;++u)if("number"!=typeof o.floatData[u])return"floatData: number[] expected"}if(null!=o.int32Data&&o.hasOwnProperty("int32Data")){if(!Array.isArray(o.int32Data))return"int32Data: array expected";for(u=0;u<o.int32Data.length;++u)if(!p.isInteger(o.int32Data[u]))return"int32Data: integer[] expected"}if(null!=o.stringData&&o.hasOwnProperty("stringData")){if(!Array.isArray(o.stringData))return"stringData: array expected";for(u=0;u<o.stringData.length;++u)if(!(o.stringData[u]&&"number"==typeof o.stringData[u].length||p.isString(o.stringData[u])))return"stringData: buffer[] expected"}if(null!=o.int64Data&&o.hasOwnProperty("int64Data")){if(!Array.isArray(o.int64Data))return"int64Data: array expected";for(u=0;u<o.int64Data.length;++u)if(!(p.isInteger(o.int64Data[u])||o.int64Data[u]&&p.isInteger(o.int64Data[u].low)&&p.isInteger(o.int64Data[u].high)))return"int64Data: integer|Long[] expected"}if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString))return"docString: string expected";if(null!=o.rawData&&o.hasOwnProperty("rawData")&&!(o.rawData&&"number"==typeof o.rawData.length||p.isString(o.rawData)))return"rawData: buffer expected";if(null!=o.externalData&&o.hasOwnProperty("externalData")){if(!Array.isArray(o.externalData))return"externalData: array expected";for(u=0;u<o.externalData.length;++u){var l;if(l=c.onnx.StringStringEntryProto.verify(o.externalData[u]))return"externalData."+l}}if(null!=o.dataLocation&&o.hasOwnProperty("dataLocation"))switch(o.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=o.doubleData&&o.hasOwnProperty("doubleData")){if(!Array.isArray(o.doubleData))return"doubleData: array expected";for(u=0;u<o.doubleData.length;++u)if("number"!=typeof o.doubleData[u])return"doubleData: number[] expected"}if(null!=o.uint64Data&&o.hasOwnProperty("uint64Data")){if(!Array.isArray(o.uint64Data))return"uint64Data: array expected";for(u=0;u<o.uint64Data.length;++u)if(!(p.isInteger(o.uint64Data[u])||o.uint64Data[u]&&p.isInteger(o.uint64Data[u].low)&&p.isInteger(o.uint64Data[u].high)))return"uint64Data: integer|Long[] expected"}return null},s.fromObject=function(o){if(o instanceof c.onnx.TensorProto)return o;var u=new c.onnx.TensorProto;if(o.dims){if(!Array.isArray(o.dims))throw TypeError(".onnx.TensorProto.dims: array expected");u.dims=[];for(var l=0;l<o.dims.length;++l)p.Long?(u.dims[l]=p.Long.fromValue(o.dims[l])).unsigned=!1:"string"==typeof o.dims[l]?u.dims[l]=parseInt(o.dims[l],10):"number"==typeof o.dims[l]?u.dims[l]=o.dims[l]:"object"==typeof o.dims[l]&&(u.dims[l]=new p.LongBits(o.dims[l].low>>>0,o.dims[l].high>>>0).toNumber())}if(null!=o.dataType&&(u.dataType=0|o.dataType),null!=o.segment){if("object"!=typeof o.segment)throw TypeError(".onnx.TensorProto.segment: object expected");u.segment=c.onnx.TensorProto.Segment.fromObject(o.segment)}if(o.floatData){if(!Array.isArray(o.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(u.floatData=[],l=0;l<o.floatData.length;++l)u.floatData[l]=Number(o.floatData[l])}if(o.int32Data){if(!Array.isArray(o.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(u.int32Data=[],l=0;l<o.int32Data.length;++l)u.int32Data[l]=0|o.int32Data[l]}if(o.stringData){if(!Array.isArray(o.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(u.stringData=[],l=0;l<o.stringData.length;++l)"string"==typeof o.stringData[l]?p.base64.decode(o.stringData[l],u.stringData[l]=p.newBuffer(p.base64.length(o.stringData[l])),0):o.stringData[l].length&&(u.stringData[l]=o.stringData[l])}if(o.int64Data){if(!Array.isArray(o.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(u.int64Data=[],l=0;l<o.int64Data.length;++l)p.Long?(u.int64Data[l]=p.Long.fromValue(o.int64Data[l])).unsigned=!1:"string"==typeof o.int64Data[l]?u.int64Data[l]=parseInt(o.int64Data[l],10):"number"==typeof o.int64Data[l]?u.int64Data[l]=o.int64Data[l]:"object"==typeof o.int64Data[l]&&(u.int64Data[l]=new p.LongBits(o.int64Data[l].low>>>0,o.int64Data[l].high>>>0).toNumber())}if(null!=o.name&&(u.name=String(o.name)),null!=o.docString&&(u.docString=String(o.docString)),null!=o.rawData&&("string"==typeof o.rawData?p.base64.decode(o.rawData,u.rawData=p.newBuffer(p.base64.length(o.rawData)),0):o.rawData.length&&(u.rawData=o.rawData)),o.externalData){if(!Array.isArray(o.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(u.externalData=[],l=0;l<o.externalData.length;++l){if("object"!=typeof o.externalData[l])throw TypeError(".onnx.TensorProto.externalData: object expected");u.externalData[l]=c.onnx.StringStringEntryProto.fromObject(o.externalData[l])}}switch(o.dataLocation){case"DEFAULT":case 0:u.dataLocation=0;break;case"EXTERNAL":case 1:u.dataLocation=1}if(o.doubleData){if(!Array.isArray(o.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(u.doubleData=[],l=0;l<o.doubleData.length;++l)u.doubleData[l]=Number(o.doubleData[l])}if(o.uint64Data){if(!Array.isArray(o.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(u.uint64Data=[],l=0;l<o.uint64Data.length;++l)p.Long?(u.uint64Data[l]=p.Long.fromValue(o.uint64Data[l])).unsigned=!0:"string"==typeof o.uint64Data[l]?u.uint64Data[l]=parseInt(o.uint64Data[l],10):"number"==typeof o.uint64Data[l]?u.uint64Data[l]=o.uint64Data[l]:"object"==typeof o.uint64Data[l]&&(u.uint64Data[l]=new p.LongBits(o.uint64Data[l].low>>>0,o.uint64Data[l].high>>>0).toNumber(!0))}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.dims=[],l.floatData=[],l.int32Data=[],l.stringData=[],l.int64Data=[],l.doubleData=[],l.uint64Data=[],l.externalData=[]),u.defaults&&(l.dataType=0,l.segment=null,l.name="",u.bytes===String?l.rawData="":(l.rawData=[],u.bytes!==Array&&(l.rawData=p.newBuffer(l.rawData))),l.docString="",l.dataLocation=u.enums===String?"DEFAULT":0),o.dims&&o.dims.length){l.dims=[];for(var f=0;f<o.dims.length;++f)l.dims[f]="number"==typeof o.dims[f]?u.longs===String?String(o.dims[f]):o.dims[f]:u.longs===String?p.Long.prototype.toString.call(o.dims[f]):u.longs===Number?new p.LongBits(o.dims[f].low>>>0,o.dims[f].high>>>0).toNumber():o.dims[f]}if(null!=o.dataType&&o.hasOwnProperty("dataType")&&(l.dataType=o.dataType),null!=o.segment&&o.hasOwnProperty("segment")&&(l.segment=c.onnx.TensorProto.Segment.toObject(o.segment,u)),o.floatData&&o.floatData.length)for(l.floatData=[],f=0;f<o.floatData.length;++f)l.floatData[f]=u.json&&!isFinite(o.floatData[f])?String(o.floatData[f]):o.floatData[f];if(o.int32Data&&o.int32Data.length)for(l.int32Data=[],f=0;f<o.int32Data.length;++f)l.int32Data[f]=o.int32Data[f];if(o.stringData&&o.stringData.length)for(l.stringData=[],f=0;f<o.stringData.length;++f)l.stringData[f]=u.bytes===String?p.base64.encode(o.stringData[f],0,o.stringData[f].length):u.bytes===Array?Array.prototype.slice.call(o.stringData[f]):o.stringData[f];if(o.int64Data&&o.int64Data.length)for(l.int64Data=[],f=0;f<o.int64Data.length;++f)l.int64Data[f]="number"==typeof o.int64Data[f]?u.longs===String?String(o.int64Data[f]):o.int64Data[f]:u.longs===String?p.Long.prototype.toString.call(o.int64Data[f]):u.longs===Number?new p.LongBits(o.int64Data[f].low>>>0,o.int64Data[f].high>>>0).toNumber():o.int64Data[f];if(null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),null!=o.rawData&&o.hasOwnProperty("rawData")&&(l.rawData=u.bytes===String?p.base64.encode(o.rawData,0,o.rawData.length):u.bytes===Array?Array.prototype.slice.call(o.rawData):o.rawData),o.doubleData&&o.doubleData.length)for(l.doubleData=[],f=0;f<o.doubleData.length;++f)l.doubleData[f]=u.json&&!isFinite(o.doubleData[f])?String(o.doubleData[f]):o.doubleData[f];if(o.uint64Data&&o.uint64Data.length)for(l.uint64Data=[],f=0;f<o.uint64Data.length;++f)l.uint64Data[f]="number"==typeof o.uint64Data[f]?u.longs===String?String(o.uint64Data[f]):o.uint64Data[f]:u.longs===String?p.Long.prototype.toString.call(o.uint64Data[f]):u.longs===Number?new p.LongBits(o.uint64Data[f].low>>>0,o.uint64Data[f].high>>>0).toNumber(!0):o.uint64Data[f];if(null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),o.externalData&&o.externalData.length)for(l.externalData=[],f=0;f<o.externalData.length;++f)l.externalData[f]=c.onnx.StringStringEntryProto.toObject(o.externalData[f],u);return null!=o.dataLocation&&o.hasOwnProperty("dataLocation")&&(l.dataLocation=u.enums===String?c.onnx.TensorProto.DataLocation[o.dataLocation]:o.dataLocation),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s.DataType=(o={},(u=Object.create(o))[o[0]="UNDEFINED"]=0,u[o[1]="FLOAT"]=1,u[o[2]="UINT8"]=2,u[o[3]="INT8"]=3,u[o[4]="UINT16"]=4,u[o[5]="INT16"]=5,u[o[6]="INT32"]=6,u[o[7]="INT64"]=7,u[o[8]="STRING"]=8,u[o[9]="BOOL"]=9,u[o[10]="FLOAT16"]=10,u[o[11]="DOUBLE"]=11,u[o[12]="UINT32"]=12,u[o[13]="UINT64"]=13,u[o[14]="COMPLEX64"]=14,u[o[15]="COMPLEX128"]=15,u[o[16]="BFLOAT16"]=16,u),s.Segment=function(){function o(u){if(u)for(var l=Object.keys(u),f=0;f<l.length;++f)null!=u[l[f]]&&(this[l[f]]=u[l[f]])}return o.prototype.begin=p.Long?p.Long.fromBits(0,0,!1):0,o.prototype.end=p.Long?p.Long.fromBits(0,0,!1):0,o.create=function(u){return new o(u)},o.encode=function(u,l){return l||(l=v.create()),null!=u.begin&&u.hasOwnProperty("begin")&&l.uint32(8).int64(u.begin),null!=u.end&&u.hasOwnProperty("end")&&l.uint32(16).int64(u.end),l},o.encodeDelimited=function(u,l){return this.encode(u,l).ldelim()},o.decode=function(u,l){u instanceof b||(u=b.create(u));for(var f=void 0===l?u.len:u.pos+l,m=new c.onnx.TensorProto.Segment;u.pos<f;){var D=u.uint32();switch(D>>>3){case 1:m.begin=u.int64();break;case 2:m.end=u.int64();break;default:u.skipType(7&D)}}return m},o.decodeDelimited=function(u){return u instanceof b||(u=new b(u)),this.decode(u,u.uint32())},o.verify=function(u){return"object"!=typeof u||null===u?"object expected":null!=u.begin&&u.hasOwnProperty("begin")&&!(p.isInteger(u.begin)||u.begin&&p.isInteger(u.begin.low)&&p.isInteger(u.begin.high))?"begin: integer|Long expected":null!=u.end&&u.hasOwnProperty("end")&&!(p.isInteger(u.end)||u.end&&p.isInteger(u.end.low)&&p.isInteger(u.end.high))?"end: integer|Long expected":null},o.fromObject=function(u){if(u instanceof c.onnx.TensorProto.Segment)return u;var l=new c.onnx.TensorProto.Segment;return null!=u.begin&&(p.Long?(l.begin=p.Long.fromValue(u.begin)).unsigned=!1:"string"==typeof u.begin?l.begin=parseInt(u.begin,10):"number"==typeof u.begin?l.begin=u.begin:"object"==typeof u.begin&&(l.begin=new p.LongBits(u.begin.low>>>0,u.begin.high>>>0).toNumber())),null!=u.end&&(p.Long?(l.end=p.Long.fromValue(u.end)).unsigned=!1:"string"==typeof u.end?l.end=parseInt(u.end,10):"number"==typeof u.end?l.end=u.end:"object"==typeof u.end&&(l.end=new p.LongBits(u.end.low>>>0,u.end.high>>>0).toNumber())),l},o.toObject=function(u,l){l||(l={});var f={};if(l.defaults){if(p.Long){var m=new p.Long(0,0,!1);f.begin=l.longs===String?m.toString():l.longs===Number?m.toNumber():m}else f.begin=l.longs===String?"0":0;p.Long?(m=new p.Long(0,0,!1),f.end=l.longs===String?m.toString():l.longs===Number?m.toNumber():m):f.end=l.longs===String?"0":0}return null!=u.begin&&u.hasOwnProperty("begin")&&(f.begin="number"==typeof u.begin?l.longs===String?String(u.begin):u.begin:l.longs===String?p.Long.prototype.toString.call(u.begin):l.longs===Number?new p.LongBits(u.begin.low>>>0,u.begin.high>>>0).toNumber():u.begin),null!=u.end&&u.hasOwnProperty("end")&&(f.end="number"==typeof u.end?l.longs===String?String(u.end):u.end:l.longs===String?p.Long.prototype.toString.call(u.end):l.longs===Number?new p.LongBits(u.end.low>>>0,u.end.high>>>0).toNumber():u.end),f},o.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},o}(),s.DataLocation=function(){var o={},u=Object.create(o);return u[o[0]="DEFAULT"]=0,u[o[1]="EXTERNAL"]=1,u}(),s;var o,u}(),T.TensorShapeProto=function(){function s(o){if(this.dim=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.dim=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=v.create()),null!=o.dim&&o.dim.length)for(var l=0;l<o.dim.length;++l)c.onnx.TensorShapeProto.Dimension.encode(o.dim[l],u.uint32(10).fork()).ldelim();return u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.TensorShapeProto;o.pos<l;){var m=o.uint32();m>>>3==1?(f.dim&&f.dim.length||(f.dim=[]),f.dim.push(c.onnx.TensorShapeProto.Dimension.decode(o,o.uint32()))):o.skipType(7&m)}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.dim&&o.hasOwnProperty("dim")){if(!Array.isArray(o.dim))return"dim: array expected";for(var u=0;u<o.dim.length;++u){var l=c.onnx.TensorShapeProto.Dimension.verify(o.dim[u]);if(l)return"dim."+l}}return null},s.fromObject=function(o){if(o instanceof c.onnx.TensorShapeProto)return o;var u=new c.onnx.TensorShapeProto;if(o.dim){if(!Array.isArray(o.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");u.dim=[];for(var l=0;l<o.dim.length;++l){if("object"!=typeof o.dim[l])throw TypeError(".onnx.TensorShapeProto.dim: object expected");u.dim[l]=c.onnx.TensorShapeProto.Dimension.fromObject(o.dim[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.dim=[]),o.dim&&o.dim.length){l.dim=[];for(var f=0;f<o.dim.length;++f)l.dim[f]=c.onnx.TensorShapeProto.Dimension.toObject(o.dim[f],u)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s.Dimension=function(){function o(l){if(l)for(var f=Object.keys(l),m=0;m<f.length;++m)null!=l[f[m]]&&(this[f[m]]=l[f[m]])}var u;return o.prototype.dimValue=p.Long?p.Long.fromBits(0,0,!1):0,o.prototype.dimParam="",o.prototype.denotation="",Object.defineProperty(o.prototype,"value",{get:p.oneOfGetter(u=["dimValue","dimParam"]),set:p.oneOfSetter(u)}),o.create=function(l){return new o(l)},o.encode=function(l,f){return f||(f=v.create()),null!=l.dimValue&&l.hasOwnProperty("dimValue")&&f.uint32(8).int64(l.dimValue),null!=l.dimParam&&l.hasOwnProperty("dimParam")&&f.uint32(18).string(l.dimParam),null!=l.denotation&&l.hasOwnProperty("denotation")&&f.uint32(26).string(l.denotation),f},o.encodeDelimited=function(l,f){return this.encode(l,f).ldelim()},o.decode=function(l,f){l instanceof b||(l=b.create(l));for(var m=void 0===f?l.len:l.pos+f,D=new c.onnx.TensorShapeProto.Dimension;l.pos<m;){var E=l.uint32();switch(E>>>3){case 1:D.dimValue=l.int64();break;case 2:D.dimParam=l.string();break;case 3:D.denotation=l.string();break;default:l.skipType(7&E)}}return D},o.decodeDelimited=function(l){return l instanceof b||(l=new b(l)),this.decode(l,l.uint32())},o.verify=function(l){if("object"!=typeof l||null===l)return"object expected";var f={};if(null!=l.dimValue&&l.hasOwnProperty("dimValue")&&(f.value=1,!(p.isInteger(l.dimValue)||l.dimValue&&p.isInteger(l.dimValue.low)&&p.isInteger(l.dimValue.high))))return"dimValue: integer|Long expected";if(null!=l.dimParam&&l.hasOwnProperty("dimParam")){if(1===f.value)return"value: multiple values";if(f.value=1,!p.isString(l.dimParam))return"dimParam: string expected"}return null!=l.denotation&&l.hasOwnProperty("denotation")&&!p.isString(l.denotation)?"denotation: string expected":null},o.fromObject=function(l){if(l instanceof c.onnx.TensorShapeProto.Dimension)return l;var f=new c.onnx.TensorShapeProto.Dimension;return null!=l.dimValue&&(p.Long?(f.dimValue=p.Long.fromValue(l.dimValue)).unsigned=!1:"string"==typeof l.dimValue?f.dimValue=parseInt(l.dimValue,10):"number"==typeof l.dimValue?f.dimValue=l.dimValue:"object"==typeof l.dimValue&&(f.dimValue=new p.LongBits(l.dimValue.low>>>0,l.dimValue.high>>>0).toNumber())),null!=l.dimParam&&(f.dimParam=String(l.dimParam)),null!=l.denotation&&(f.denotation=String(l.denotation)),f},o.toObject=function(l,f){f||(f={});var m={};return f.defaults&&(m.denotation=""),null!=l.dimValue&&l.hasOwnProperty("dimValue")&&(m.dimValue="number"==typeof l.dimValue?f.longs===String?String(l.dimValue):l.dimValue:f.longs===String?p.Long.prototype.toString.call(l.dimValue):f.longs===Number?new p.LongBits(l.dimValue.low>>>0,l.dimValue.high>>>0).toNumber():l.dimValue,f.oneofs&&(m.value="dimValue")),null!=l.dimParam&&l.hasOwnProperty("dimParam")&&(m.dimParam=l.dimParam,f.oneofs&&(m.value="dimParam")),null!=l.denotation&&l.hasOwnProperty("denotation")&&(m.denotation=l.denotation),m},o.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},o}(),s}(),T.TypeProto=function(){function s(u){if(u)for(var l=Object.keys(u),f=0;f<l.length;++f)null!=u[l[f]]&&(this[l[f]]=u[l[f]])}var o;return s.prototype.tensorType=null,s.prototype.denotation="",Object.defineProperty(s.prototype,"value",{get:p.oneOfGetter(o=["tensorType"]),set:p.oneOfSetter(o)}),s.create=function(u){return new s(u)},s.encode=function(u,l){return l||(l=v.create()),null!=u.tensorType&&u.hasOwnProperty("tensorType")&&c.onnx.TypeProto.Tensor.encode(u.tensorType,l.uint32(10).fork()).ldelim(),null!=u.denotation&&u.hasOwnProperty("denotation")&&l.uint32(50).string(u.denotation),l},s.encodeDelimited=function(u,l){return this.encode(u,l).ldelim()},s.decode=function(u,l){u instanceof b||(u=b.create(u));for(var f=void 0===l?u.len:u.pos+l,m=new c.onnx.TypeProto;u.pos<f;){var D=u.uint32();switch(D>>>3){case 1:m.tensorType=c.onnx.TypeProto.Tensor.decode(u,u.uint32());break;case 6:m.denotation=u.string();break;default:u.skipType(7&D)}}return m},s.decodeDelimited=function(u){return u instanceof b||(u=new b(u)),this.decode(u,u.uint32())},s.verify=function(u){if("object"!=typeof u||null===u)return"object expected";if(null!=u.tensorType&&u.hasOwnProperty("tensorType")){var l=c.onnx.TypeProto.Tensor.verify(u.tensorType);if(l)return"tensorType."+l}return null!=u.denotation&&u.hasOwnProperty("denotation")&&!p.isString(u.denotation)?"denotation: string expected":null},s.fromObject=function(u){if(u instanceof c.onnx.TypeProto)return u;var l=new c.onnx.TypeProto;if(null!=u.tensorType){if("object"!=typeof u.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");l.tensorType=c.onnx.TypeProto.Tensor.fromObject(u.tensorType)}return null!=u.denotation&&(l.denotation=String(u.denotation)),l},s.toObject=function(u,l){l||(l={});var f={};return l.defaults&&(f.denotation=""),null!=u.tensorType&&u.hasOwnProperty("tensorType")&&(f.tensorType=c.onnx.TypeProto.Tensor.toObject(u.tensorType,l),l.oneofs&&(f.value="tensorType")),null!=u.denotation&&u.hasOwnProperty("denotation")&&(f.denotation=u.denotation),f},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s.Tensor=function(){function u(l){if(l)for(var f=Object.keys(l),m=0;m<f.length;++m)null!=l[f[m]]&&(this[f[m]]=l[f[m]])}return u.prototype.elemType=0,u.prototype.shape=null,u.create=function(l){return new u(l)},u.encode=function(l,f){return f||(f=v.create()),null!=l.elemType&&l.hasOwnProperty("elemType")&&f.uint32(8).int32(l.elemType),null!=l.shape&&l.hasOwnProperty("shape")&&c.onnx.TensorShapeProto.encode(l.shape,f.uint32(18).fork()).ldelim(),f},u.encodeDelimited=function(l,f){return this.encode(l,f).ldelim()},u.decode=function(l,f){l instanceof b||(l=b.create(l));for(var m=void 0===f?l.len:l.pos+f,D=new c.onnx.TypeProto.Tensor;l.pos<m;){var E=l.uint32();switch(E>>>3){case 1:D.elemType=l.int32();break;case 2:D.shape=c.onnx.TensorShapeProto.decode(l,l.uint32());break;default:l.skipType(7&E)}}return D},u.decodeDelimited=function(l){return l instanceof b||(l=new b(l)),this.decode(l,l.uint32())},u.verify=function(l){if("object"!=typeof l||null===l)return"object expected";if(null!=l.elemType&&l.hasOwnProperty("elemType")&&!p.isInteger(l.elemType))return"elemType: integer expected";if(null!=l.shape&&l.hasOwnProperty("shape")){var f=c.onnx.TensorShapeProto.verify(l.shape);if(f)return"shape."+f}return null},u.fromObject=function(l){if(l instanceof c.onnx.TypeProto.Tensor)return l;var f=new c.onnx.TypeProto.Tensor;if(null!=l.elemType&&(f.elemType=0|l.elemType),null!=l.shape){if("object"!=typeof l.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");f.shape=c.onnx.TensorShapeProto.fromObject(l.shape)}return f},u.toObject=function(l,f){f||(f={});var m={};return f.defaults&&(m.elemType=0,m.shape=null),null!=l.elemType&&l.hasOwnProperty("elemType")&&(m.elemType=l.elemType),null!=l.shape&&l.hasOwnProperty("shape")&&(m.shape=c.onnx.TensorShapeProto.toObject(l.shape,f)),m},u.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},u}(),s}(),T.OperatorSetIdProto=function(){function s(o){if(o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.domain="",s.prototype.version=p.Long?p.Long.fromBits(0,0,!1):0,s.create=function(o){return new s(o)},s.encode=function(o,u){return u||(u=v.create()),null!=o.domain&&o.hasOwnProperty("domain")&&u.uint32(10).string(o.domain),null!=o.version&&o.hasOwnProperty("version")&&u.uint32(16).int64(o.version),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof b||(o=b.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new c.onnx.OperatorSetIdProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.domain=o.string();break;case 2:f.version=o.int64();break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},s.verify=function(o){return"object"!=typeof o||null===o?"object expected":null!=o.domain&&o.hasOwnProperty("domain")&&!p.isString(o.domain)?"domain: string expected":null!=o.version&&o.hasOwnProperty("version")&&!(p.isInteger(o.version)||o.version&&p.isInteger(o.version.low)&&p.isInteger(o.version.high))?"version: integer|Long expected":null},s.fromObject=function(o){if(o instanceof c.onnx.OperatorSetIdProto)return o;var u=new c.onnx.OperatorSetIdProto;return null!=o.domain&&(u.domain=String(o.domain)),null!=o.version&&(p.Long?(u.version=p.Long.fromValue(o.version)).unsigned=!1:"string"==typeof o.version?u.version=parseInt(o.version,10):"number"==typeof o.version?u.version=o.version:"object"==typeof o.version&&(u.version=new p.LongBits(o.version.low>>>0,o.version.high>>>0).toNumber())),u},s.toObject=function(o,u){u||(u={});var l={};if(u.defaults)if(l.domain="",p.Long){var f=new p.Long(0,0,!1);l.version=u.longs===String?f.toString():u.longs===Number?f.toNumber():f}else l.version=u.longs===String?"0":0;return null!=o.domain&&o.hasOwnProperty("domain")&&(l.domain=o.domain),null!=o.version&&o.hasOwnProperty("version")&&(l.version="number"==typeof o.version?u.longs===String?String(o.version):o.version:u.longs===String?p.Long.prototype.toString.call(o.version):u.longs===Number?new p.LongBits(o.version.low>>>0,o.version.high>>>0).toNumber():o.version),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},s}(),T),X.exports=c},2100:(X,_,O)=>{"use strict";X.exports=O(9482)},9482:(X,_,O)=>{"use strict";var x=_;function w(){x.util._configure(),x.Writer._configure(x.BufferWriter),x.Reader._configure(x.BufferReader)}x.build="minimal",x.Writer=O(1173),x.BufferWriter=O(3155),x.Reader=O(1408),x.BufferReader=O(593),x.util=O(9693),x.rpc=O(5994),x.roots=O(5054),x.configure=w,w()},1408:(X,_,O)=>{"use strict";X.exports=v;var x,w=O(9693),T=w.LongBits,g=w.utf8;function b(f,m){return RangeError("index out of range: "+f.pos+" + "+(m||1)+" > "+f.len)}function v(f){this.buf=f,this.pos=0,this.len=f.length}var p,c=typeof Uint8Array<"u"?function(f){if(f instanceof Uint8Array||Array.isArray(f))return new v(f);throw Error("illegal buffer")}:function(f){if(Array.isArray(f))return new v(f);throw Error("illegal buffer")},s=function(){return w.Buffer?function(f){return(v.create=function(m){return w.Buffer.isBuffer(m)?new x(m):c(m)})(f)}:c};function o(){var f=new T(0,0),m=0;if(!(this.len-this.pos>4)){for(;m<3;++m){if(this.pos>=this.len)throw b(this);if(f.lo=(f.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return f}return f.lo=(f.lo|(127&this.buf[this.pos++])<<7*m)>>>0,f}for(;m<4;++m)if(f.lo=(f.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return f;if(f.lo=(f.lo|(127&this.buf[this.pos])<<28)>>>0,f.hi=(f.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return f;if(m=0,this.len-this.pos>4){for(;m<5;++m)if(f.hi=(f.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return f}else for(;m<5;++m){if(this.pos>=this.len)throw b(this);if(f.hi=(f.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return f}throw Error("invalid varint encoding")}function u(f,m){return(f[m-4]|f[m-3]<<8|f[m-2]<<16|f[m-1]<<24)>>>0}function l(){if(this.pos+8>this.len)throw b(this,8);return new T(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}v.create=s(),v.prototype._slice=w.Array.prototype.subarray||w.Array.prototype.slice,v.prototype.uint32=(p=4294967295,function(){if(p=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(p=(p|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(p=(p|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(p=(p|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(p=(p|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return p;if((this.pos+=5)>this.len)throw this.pos=this.len,b(this,10);return p}),v.prototype.int32=function(){return 0|this.uint32()},v.prototype.sint32=function(){var f=this.uint32();return f>>>1^-(1&f)|0},v.prototype.bool=function(){return 0!==this.uint32()},v.prototype.fixed32=function(){if(this.pos+4>this.len)throw b(this,4);return u(this.buf,this.pos+=4)},v.prototype.sfixed32=function(){if(this.pos+4>this.len)throw b(this,4);return 0|u(this.buf,this.pos+=4)},v.prototype.float=function(){if(this.pos+4>this.len)throw b(this,4);var f=w.float.readFloatLE(this.buf,this.pos);return this.pos+=4,f},v.prototype.double=function(){if(this.pos+8>this.len)throw b(this,4);var f=w.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,f},v.prototype.bytes=function(){var f=this.uint32(),m=this.pos,D=this.pos+f;if(D>this.len)throw b(this,f);return this.pos+=f,Array.isArray(this.buf)?this.buf.slice(m,D):m===D?new this.buf.constructor(0):this._slice.call(this.buf,m,D)},v.prototype.string=function(){var f=this.bytes();return g.read(f,0,f.length)},v.prototype.skip=function(f){if("number"==typeof f){if(this.pos+f>this.len)throw b(this,f);this.pos+=f}else do{if(this.pos>=this.len)throw b(this)}while(128&this.buf[this.pos++]);return this},v.prototype.skipType=function(f){switch(f){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(f=7&this.uint32());)this.skipType(f);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+f+" at offset "+this.pos)}return this},v._configure=function(f){x=f,v.create=s(),x._configure();var m=w.Long?"toLong":"toNumber";w.merge(v.prototype,{int64:function(){return o.call(this)[m](!1)},uint64:function(){return o.call(this)[m](!0)},sint64:function(){return o.call(this).zzDecode()[m](!1)},fixed64:function(){return l.call(this)[m](!0)},sfixed64:function(){return l.call(this)[m](!1)}})}},593:(X,_,O)=>{"use strict";X.exports=T;var x=O(1408);(T.prototype=Object.create(x.prototype)).constructor=T;var w=O(9693);function T(g){x.call(this,g)}T._configure=function(){w.Buffer&&(T.prototype._slice=w.Buffer.prototype.slice)},T.prototype.string=function(){var g=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+g,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+g,this.len))},T._configure()},5054:X=>{"use strict";X.exports={}},5994:(X,_,O)=>{"use strict";_.Service=O(7948)},7948:(X,_,O)=>{"use strict";X.exports=w;var x=O(9693);function w(T,g,b){if("function"!=typeof T)throw TypeError("rpcImpl must be a function");x.EventEmitter.call(this),this.rpcImpl=T,this.requestDelimited=Boolean(g),this.responseDelimited=Boolean(b)}(w.prototype=Object.create(x.EventEmitter.prototype)).constructor=w,w.prototype.rpcCall=function T(g,b,v,p,c){if(!p)throw TypeError("request must be specified");var s=this;if(!c)return x.asPromise(T,s,g,b,v,p);if(s.rpcImpl)try{return s.rpcImpl(g,b[s.requestDelimited?"encodeDelimited":"encode"](p).finish(),function(o,u){if(o)return s.emit("error",o,g),c(o);if(null!==u){if(!(u instanceof v))try{u=v[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(l){return s.emit("error",l,g),c(l)}return s.emit("data",u,g),c(null,u)}s.end(!0)})}catch(o){return s.emit("error",o,g),void setTimeout(function(){c(o)},0)}else setTimeout(function(){c(Error("already ended"))},0)},w.prototype.end=function(T){return this.rpcImpl&&(T||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(X,_,O)=>{"use strict";X.exports=w;var x=O(9693);function w(v,p){this.lo=v>>>0,this.hi=p>>>0}var T=w.zero=new w(0,0);T.toNumber=function(){return 0},T.zzEncode=T.zzDecode=function(){return this},T.length=function(){return 1};var g=w.zeroHash="\0\0\0\0\0\0\0\0";w.fromNumber=function(v){if(0===v)return T;var p=v<0;p&&(v=-v);var c=v>>>0,s=(v-c)/4294967296>>>0;return p&&(s=~s>>>0,c=~c>>>0,++c>4294967295&&(c=0,++s>4294967295&&(s=0))),new w(c,s)},w.from=function(v){if("number"==typeof v)return w.fromNumber(v);if(x.isString(v)){if(!x.Long)return w.fromNumber(parseInt(v,10));v=x.Long.fromString(v)}return v.low||v.high?new w(v.low>>>0,v.high>>>0):T},w.prototype.toNumber=function(v){if(!v&&this.hi>>>31){var p=1+~this.lo>>>0,c=~this.hi>>>0;return p||(c=c+1>>>0),-(p+4294967296*c)}return this.lo+4294967296*this.hi},w.prototype.toLong=function(v){return x.Long?new x.Long(0|this.lo,0|this.hi,Boolean(v)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(v)}};var b=String.prototype.charCodeAt;w.fromHash=function(v){return v===g?T:new w((b.call(v,0)|b.call(v,1)<<8|b.call(v,2)<<16|b.call(v,3)<<24)>>>0,(b.call(v,4)|b.call(v,5)<<8|b.call(v,6)<<16|b.call(v,7)<<24)>>>0)},w.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},w.prototype.zzEncode=function(){var v=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^v)>>>0,this.lo=(this.lo<<1^v)>>>0,this},w.prototype.zzDecode=function(){var v=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^v)>>>0,this.hi=(this.hi>>>1^v)>>>0,this},w.prototype.length=function(){var v=this.lo,p=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return 0===c?0===p?v<16384?v<128?1:2:v<2097152?3:4:p<16384?p<128?5:6:p<2097152?7:8:c<128?9:10}},9693:function(X,_,O){"use strict";var x=_;function w(g,b,v){for(var p=Object.keys(b),c=0;c<p.length;++c)void 0!==g[p[c]]&&v||(g[p[c]]=b[p[c]]);return g}function T(g){function b(v,p){if(!(this instanceof b))return new b(v,p);Object.defineProperty(this,"message",{get:function(){return v}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),p&&w(this,p)}return(b.prototype=Object.create(Error.prototype)).constructor=b,Object.defineProperty(b.prototype,"name",{get:function(){return g}}),b.prototype.toString=function(){return this.name+": "+this.message},b}x.asPromise=O(4537),x.base64=O(7419),x.EventEmitter=O(9211),x.float=O(945),x.inquire=O(7199),x.utf8=O(4997),x.pool=O(6662),x.LongBits=O(1945),x.isNode=Boolean(void 0!==O.g&&O.g&&O.g.process&&O.g.process.versions&&O.g.process.versions.node),x.global=x.isNode&&O.g||typeof window<"u"&&window||typeof self<"u"&&self||this,x.emptyArray=Object.freeze?Object.freeze([]):[],x.emptyObject=Object.freeze?Object.freeze({}):{},x.isInteger=Number.isInteger||function(g){return"number"==typeof g&&isFinite(g)&&Math.floor(g)===g},x.isString=function(g){return"string"==typeof g||g instanceof String},x.isObject=function(g){return g&&"object"==typeof g},x.isset=x.isSet=function(g,b){var v=g[b];return!(null==v||!g.hasOwnProperty(b))&&("object"!=typeof v||(Array.isArray(v)?v.length:Object.keys(v).length)>0)},x.Buffer=function(){try{var g=x.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch{return null}}(),x._Buffer_from=null,x._Buffer_allocUnsafe=null,x.newBuffer=function(g){return"number"==typeof g?x.Buffer?x._Buffer_allocUnsafe(g):new x.Array(g):x.Buffer?x._Buffer_from(g):typeof Uint8Array>"u"?g:new Uint8Array(g)},x.Array=typeof Uint8Array<"u"?Uint8Array:Array,x.Long=x.global.dcodeIO&&x.global.dcodeIO.Long||x.global.Long||x.inquire("long"),x.key2Re=/^true|false|0|1$/,x.key32Re=/^-?(?:0|[1-9][0-9]*)$/,x.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,x.longToHash=function(g){return g?x.LongBits.from(g).toHash():x.LongBits.zeroHash},x.longFromHash=function(g,b){var v=x.LongBits.fromHash(g);return x.Long?x.Long.fromBits(v.lo,v.hi,b):v.toNumber(Boolean(b))},x.merge=w,x.lcFirst=function(g){return g.charAt(0).toLowerCase()+g.substring(1)},x.newError=T,x.ProtocolError=T("ProtocolError"),x.oneOfGetter=function(g){for(var b={},v=0;v<g.length;++v)b[g[v]]=1;return function(){for(var p=Object.keys(this),c=p.length-1;c>-1;--c)if(1===b[p[c]]&&null!=this[p[c]])return p[c]}},x.oneOfSetter=function(g){return function(b){for(var v=0;v<g.length;++v)g[v]!==b&&delete this[g[v]]}},x.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},x._configure=function(){var g=x.Buffer;g?(x._Buffer_from=g.from!==Uint8Array.from&&g.from||function(b,v){return new g(b,v)},x._Buffer_allocUnsafe=g.allocUnsafe||function(b){return new g(b)}):x._Buffer_from=x._Buffer_allocUnsafe=null}},1173:(X,_,O)=>{"use strict";X.exports=s;var x,w=O(9693),T=w.LongBits,g=w.base64,b=w.utf8;function v(E,S,A){this.fn=E,this.len=S,this.next=void 0,this.val=A}function p(){}function c(E){this.head=E.head,this.tail=E.tail,this.len=E.len,this.next=E.states}function s(){this.len=0,this.head=new v(p,0,0),this.tail=this.head,this.states=null}var o=function(){return w.Buffer?function(){return(s.create=function(){return new x})()}:function(){return new s}};function u(E,S,A){S[A]=255&E}function l(E,S){this.len=E,this.next=void 0,this.val=S}function f(E,S,A){for(;E.hi;)S[A++]=127&E.lo|128,E.lo=(E.lo>>>7|E.hi<<25)>>>0,E.hi>>>=7;for(;E.lo>127;)S[A++]=127&E.lo|128,E.lo=E.lo>>>7;S[A++]=E.lo}function m(E,S,A){S[A]=255&E,S[A+1]=E>>>8&255,S[A+2]=E>>>16&255,S[A+3]=E>>>24}s.create=o(),s.alloc=function(E){return new w.Array(E)},w.Array!==Array&&(s.alloc=w.pool(s.alloc,w.Array.prototype.subarray)),s.prototype._push=function(E,S,A){return this.tail=this.tail.next=new v(E,S,A),this.len+=S,this},(l.prototype=Object.create(v.prototype)).fn=function(E,S,A){for(;E>127;)S[A++]=127&E|128,E>>>=7;S[A]=E},s.prototype.uint32=function(E){return this.len+=(this.tail=this.tail.next=new l((E>>>=0)<128?1:E<16384?2:E<2097152?3:E<268435456?4:5,E)).len,this},s.prototype.int32=function(E){return E<0?this._push(f,10,T.fromNumber(E)):this.uint32(E)},s.prototype.sint32=function(E){return this.uint32((E<<1^E>>31)>>>0)},s.prototype.int64=s.prototype.uint64=function(E){var S=T.from(E);return this._push(f,S.length(),S)},s.prototype.sint64=function(E){var S=T.from(E).zzEncode();return this._push(f,S.length(),S)},s.prototype.bool=function(E){return this._push(u,1,E?1:0)},s.prototype.sfixed32=s.prototype.fixed32=function(E){return this._push(m,4,E>>>0)},s.prototype.sfixed64=s.prototype.fixed64=function(E){var S=T.from(E);return this._push(m,4,S.lo)._push(m,4,S.hi)},s.prototype.float=function(E){return this._push(w.float.writeFloatLE,4,E)},s.prototype.double=function(E){return this._push(w.float.writeDoubleLE,8,E)};var D=w.Array.prototype.set?function(E,S,A){S.set(E,A)}:function(E,S,A){for(var I=0;I<E.length;++I)S[A+I]=E[I]};s.prototype.bytes=function(E){var S=E.length>>>0;if(!S)return this._push(u,1,0);if(w.isString(E)){var A=s.alloc(S=g.length(E));g.decode(E,A,0),E=A}return this.uint32(S)._push(D,S,E)},s.prototype.string=function(E){var S=b.length(E);return S?this.uint32(S)._push(b.write,S,E):this._push(u,1,0)},s.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new v(p,0,0),this.len=0,this},s.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new v(p,0,0),this.len=0),this},s.prototype.ldelim=function(){var E=this.head,S=this.tail,A=this.len;return this.reset().uint32(A),A&&(this.tail.next=E.next,this.tail=S,this.len+=A),this},s.prototype.finish=function(){for(var E=this.head.next,S=this.constructor.alloc(this.len),A=0;E;)E.fn(E.val,S,A),A+=E.len,E=E.next;return S},s._configure=function(E){x=E,s.create=o(),x._configure()}},3155:(X,_,O)=>{"use strict";X.exports=T;var x=O(1173);(T.prototype=Object.create(x.prototype)).constructor=T;var w=O(9693);function T(){x.call(this)}function g(b,v,p){b.length<40?w.utf8.write(b,v,p):v.utf8Write?v.utf8Write(b,p):v.write(b,p)}T._configure=function(){T.alloc=w._Buffer_allocUnsafe,T.writeBytesBuffer=w.Buffer&&w.Buffer.prototype instanceof Uint8Array&&"set"===w.Buffer.prototype.set.name?function(b,v,p){v.set(b,p)}:function(b,v,p){if(b.copy)b.copy(v,p,0,b.length);else for(var c=0;c<b.length;)v[p++]=b[c++]}},T.prototype.bytes=function(b){w.isString(b)&&(b=w._Buffer_from(b,"base64"));var v=b.length>>>0;return this.uint32(v),v&&this._push(T.writeBytesBuffer,v,b),this},T.prototype.string=function(b){var v=w.Buffer.byteLength(b);return this.uint32(v),v&&this._push(g,v,b),this},T._configure()},7714:(X,_,O)=>{"use strict";_.R=void 0;const x=O(6919),w=O(7448);_.R=new class{init(){return _asyncToGenerator(function*(){})()}createSessionHandler(T,g){return _asyncToGenerator(function*(){const b=new x.Session(g);return yield b.loadModel(T),new w.OnnxjsSessionHandler(b)})()}}},4200:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.wasmBackend=_.initializeFlags=void 0;const x=O(2203),w=O(2174),T=O(5381),g=O(8022),b=O(2157),v=O(2306);_.initializeFlags=()=>{if(("number"!=typeof w.env.wasm.initTimeout||w.env.wasm.initTimeout<0)&&(w.env.wasm.initTimeout=0),"boolean"!=typeof w.env.wasm.simd&&(w.env.wasm.simd=!0),"boolean"!=typeof w.env.wasm.proxy&&(w.env.wasm.proxy=!1),"number"!=typeof w.env.wasm.numThreads||!Number.isInteger(w.env.wasm.numThreads)||w.env.wasm.numThreads<=0){const p=typeof navigator>"u"?T.cpus().length:navigator.hardwareConcurrency;w.env.wasm.numThreads=Math.min(4,Math.ceil((p||1)/2))}},_.wasmBackend=new class{init(){return _asyncToGenerator(function*(){_.initializeFlags(),yield b.initWasm()})()}createSessionHandler(p,c){return _asyncToGenerator(function*(){let s;if("string"==typeof p)if(typeof fetch>"u")s=yield g.promisify(x.readFile)(p);else{const u=yield fetch(p),l=yield u.arrayBuffer();s=new Uint8Array(l)}else s=p;const o=new v.OnnxruntimeWebAssemblySessionHandler;return yield o.loadModel(s,c),Promise.resolve(o)})()}}},6018:function(X,_,O){"use strict";var x=this&&this.__createBinding||(Object.create?function(g,b,v,p){void 0===p&&(p=v),Object.defineProperty(g,p,{enumerable:!0,get:function(){return b[v]}})}:function(g,b,v,p){void 0===p&&(p=v),g[p]=b[v]}),w=this&&this.__exportStar||function(g,b){for(var v in g)"default"===v||Object.prototype.hasOwnProperty.call(b,v)||x(b,g,v)};Object.defineProperty(_,"__esModule",{value:!0}),w(O(2174),_);const T=O(2174);{const g=O(7714).R;T.registerBackend("webgl",g,-1)}{const g=O(4200).wasmBackend;T.registerBackend("wasm",g,0)}},246:(X,_)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createAttributeWithCacheKey=void 0;class O{constructor(w){Object.assign(this,w)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(w=>`${this[w]}`).join(";")),this._cacheKey}}_.createAttributeWithCacheKey=x=>new O(x)},7778:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.Attribute=void 0;const x=O(1446);var w=O(9395).onnxruntime.experimental.fbs;const T=O(9162),g=O(2517);class b{constructor(p){if(this._attributes=new Map,null!=p){for(const c of p)c instanceof x.onnx.AttributeProto?this._attributes.set(c.name,[b.getValue(c),b.getType(c)]):c instanceof w.Attribute&&this._attributes.set(c.name(),[b.getValue(c),b.getType(c)]);if(this._attributes.size<p.length)throw new Error("duplicated attribute names")}}set(p,c,s){this._attributes.set(p,[s,c])}delete(p){this._attributes.delete(p)}getFloat(p,c){return this.get(p,"float",c)}getInt(p,c){return this.get(p,"int",c)}getString(p,c){return this.get(p,"string",c)}getTensor(p,c){return this.get(p,"tensor",c)}getFloats(p,c){return this.get(p,"floats",c)}getInts(p,c){return this.get(p,"ints",c)}getStrings(p,c){return this.get(p,"strings",c)}getTensors(p,c){return this.get(p,"tensors",c)}get(p,c,s){const o=this._attributes.get(p);if(void 0===o){if(void 0!==s)return s;throw new Error(`required attribute not found: ${p}`)}if(o[1]!==c)throw new Error(`type mismatch: expected ${c} but got ${o[1]}`);return o[0]}static getType(p){const c=p instanceof x.onnx.AttributeProto?p.type:p.type();switch(c){case x.onnx.AttributeProto.AttributeType.FLOAT:return"float";case x.onnx.AttributeProto.AttributeType.INT:return"int";case x.onnx.AttributeProto.AttributeType.STRING:return"string";case x.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case x.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case x.onnx.AttributeProto.AttributeType.INTS:return"ints";case x.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case x.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${x.onnx.AttributeProto.AttributeType[c]}`)}}static getValue(p){const c=p instanceof x.onnx.AttributeProto?p.type:p.type();if(c===x.onnx.AttributeProto.AttributeType.GRAPH||c===x.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const s=this.getValueNoCheck(p);if(c===x.onnx.AttributeProto.AttributeType.INT&&g.LongUtil.isLong(s))return g.LongUtil.longToNumber(s);if(c===x.onnx.AttributeProto.AttributeType.INTS){const o=s,u=new Array(o.length);for(let l=0;l<o.length;l++)u[l]=g.LongUtil.longToNumber(o[l]);return u}if(c===x.onnx.AttributeProto.AttributeType.TENSOR)return p instanceof x.onnx.AttributeProto?T.Tensor.fromProto(s):T.Tensor.fromOrtTensor(s);if(c===x.onnx.AttributeProto.AttributeType.TENSORS){if(p instanceof x.onnx.AttributeProto)return s.map(o=>T.Tensor.fromProto(o));if(p instanceof w.Attribute)return s.map(o=>T.Tensor.fromOrtTensor(o))}return c===x.onnx.AttributeProto.AttributeType.STRING&&p instanceof x.onnx.AttributeProto?g.decodeUtf8String(s):c===x.onnx.AttributeProto.AttributeType.STRINGS&&p instanceof x.onnx.AttributeProto?s.map(g.decodeUtf8String):s}static getValueNoCheck(p){return p instanceof x.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(p):this.getValueNoCheckFromOrtFormat(p)}static getValueNoCheckFromOnnxFormat(p){switch(p.type){case x.onnx.AttributeProto.AttributeType.FLOAT:return p.f;case x.onnx.AttributeProto.AttributeType.INT:return p.i;case x.onnx.AttributeProto.AttributeType.STRING:return p.s;case x.onnx.AttributeProto.AttributeType.TENSOR:return p.t;case x.onnx.AttributeProto.AttributeType.GRAPH:return p.g;case x.onnx.AttributeProto.AttributeType.FLOATS:return p.floats;case x.onnx.AttributeProto.AttributeType.INTS:return p.ints;case x.onnx.AttributeProto.AttributeType.STRINGS:return p.strings;case x.onnx.AttributeProto.AttributeType.TENSORS:return p.tensors;case x.onnx.AttributeProto.AttributeType.GRAPHS:return p.graphs;default:throw new Error(`unsupported attribute type: ${x.onnx.AttributeProto.AttributeType[p.type]}`)}}static getValueNoCheckFromOrtFormat(p){switch(p.type()){case w.AttributeType.FLOAT:return p.f();case w.AttributeType.INT:return p.i();case w.AttributeType.STRING:return p.s();case w.AttributeType.TENSOR:return p.t();case w.AttributeType.GRAPH:return p.g();case w.AttributeType.FLOATS:return p.floatsArray();case w.AttributeType.INTS:{const c=[];for(let s=0;s<p.intsLength();s++)c.push(p.ints(s));return c}case w.AttributeType.STRINGS:{const c=[];for(let s=0;s<p.stringsLength();s++)c.push(p.strings(s));return c}case w.AttributeType.TENSORS:{const c=[];for(let s=0;s<p.tensorsLength();s++)c.push(p.tensors(s));return c}default:throw new Error(`unsupported attribute type: ${w.AttributeType[p.type()]}`)}}}_.Attribute=b},7091:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.resolveBackend=_.backend=void 0;const x=O(5038),w=new Map;function T(b){return g.apply(this,arguments)}function g(){return(g=_asyncToGenerator(function*(b){const v=_.backend;if(void 0!==v[b]&&"initialize"in(p=v[b])&&"function"==typeof p.initialize&&"createSessionHandler"in p&&"function"==typeof p.createSessionHandler&&"dispose"in p&&"function"==typeof p.dispose){const p=v[b];let c=p.initialize();if("object"==typeof c&&"then"in c&&(c=yield c),c)return w.set(b,p),p}var p})).apply(this,arguments)}_.backend={webgl:new x.WebGLBackend},_.resolveBackend=function(){var b=_asyncToGenerator(function*(p){if(!p)return v(["webgl"]);{const c="string"==typeof p?[p]:p;for(const s of c){const o=w.get(s);if(o)return o;const u=yield T(s);if(u)return u}}throw new Error("no available backend to use")});function v(p){return b.apply(this,arguments)}return v}()},5038:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.WebGLBackend=void 0;const x=O(2174),w=O(6231),T=O(6416),g=O(7305);_.WebGLBackend=class{get contextId(){return x.env.webgl.contextId}set contextId(b){x.env.webgl.contextId=b}get matmulMaxBatchSize(){return x.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(b){x.env.webgl.matmulMaxBatchSize=b}get textureCacheMode(){return x.env.webgl.textureCacheMode}set textureCacheMode(b){x.env.webgl.textureCacheMode=b}get pack(){return x.env.webgl.pack}set pack(b){x.env.webgl.pack=b}get async(){return x.env.webgl.async}set async(b){x.env.webgl.async=b}initialize(){try{return this.glContext=g.createWebGLContext(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),w.Logger.setWithEnv(x.env),w.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(b){return w.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${b}`),!1}}createSessionHandler(b){return new T.WebGLSessionHandler(this,b)}dispose(){this.glContext.dispose()}}},5107:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.CoordsGlslLib=void 0;const x=O(2517),w=O(8520),T=O(5060),g=O(7859),b=O(9390);_.CoordsGlslLib=class v extends w.GlslLib{constructor(c){super(c)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new w.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new w.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const c=this.context.outputTextureLayout;return c.isPacked?this.getPackedOutputSamplingSnippet(c):this.getUnpackedOutputSamplingSnippet(c)}getPackedOutputSamplingSnippet(c){const s=c.unpackedShape,o=[c.width,c.height],u={},l="getOutputCoords";switch(s.length){case 0:u[l]=this.getOutputScalarCoords();break;case 1:u[l]=this.getOutputPacked1DCoords(s,o);break;case 2:u[l]=this.getOutputPacked2DCoords(s,o);break;case 3:u[l]=this.getOutputPacked3DCoords(s,o);break;default:u[l]=this.getOutputPackedNDCoords(s,o)}const f=`\n      void setOutput(vec4 val) {\n        ${T.getGlsl(this.context.glContext.version).output} = val;\n      }\n    `;return u.floatTextureSetRGBA=new w.GlslLibRoutine(f),u}getUnpackedOutputSamplingSnippet(c){const s=c.unpackedShape,o=[c.width,c.height],u={},l="getOutputCoords";switch(s.length){case 0:u[l]=this.getOutputScalarCoords();break;case 1:u[l]=this.getOutputUnpacked1DCoords(s,o);break;case 2:u[l]=this.getOutputUnpacked2DCoords(s,o);break;case 3:u[l]=this.getOutputUnpacked3DCoords(s,o);break;case 4:u[l]=this.getOutputUnpacked4DCoords(s,o);break;case 5:u[l]=this.getOutputUnpacked5DCoords(s,o);break;case 6:u[l]=this.getOutputUnpacked6DCoords(s,o);break;default:throw new Error(`Unsupported output dimensionality: ${s.length}`)}const f=`\n        void setOutput(float val) {\n          ${T.getGlsl(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `;return u.floatTextureSetR=new w.GlslLibRoutine(f),u}getOutputScalarCoords(){return new w.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(c,s){const o=s;let u="";return 1===o[0]?(u=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${o[1]}.0);\n          }\n        `,new w.GlslLibRoutine(u)):1===o[1]?(u=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${o[0]}.0);\n          }\n        `,new w.GlslLibRoutine(u)):(u=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${o[0]}, ${o[1]}));\n          return 2 * (resTexRC.y * ${o[0]} + resTexRC.x);\n        }\n      `,new w.GlslLibRoutine(u))}getOutputPacked2DCoords(c,s){let o="";if(x.ArrayUtil.arraysEqual(c,s))return o=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${s[0]}, ${s[1]}));\n        }\n      `,new w.GlslLibRoutine(o);const u=s,l=Math.ceil(c[1]/2);return o=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${u[0]}, ${u[1]}));\n\n          int index = resTexRC.y * ${u[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${l}) * 2;\n          int c = 2 * (index / ${l});\n\n          return ivec2(r, c);\n        }\n      `,new w.GlslLibRoutine(o)}getOutputPacked3DCoords(c,s){const o=[s[0],s[1]],u=Math.ceil(c[2]/2),l=u*Math.ceil(c[1]/2);return new w.GlslLibRoutine(`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${o[0]}, ${o[1]}));\n          int index = resTexRC.y * ${o[0]} + resTexRC.x;\n\n          int b = index / ${l};\n          index -= b * ${l};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${u}) * 2;\n          int c = 2 * (index / ${u});\n\n          return ivec3(b, r, c);\n        }\n      `)}getOutputPackedNDCoords(c,s){const o=[s[0],s[1]],u=Math.ceil(c[c.length-1]/2),l=u*Math.ceil(c[c.length-2]/2);let f=l,m="",D="b, r, c";for(let S=2;S<c.length-1;S++)f*=c[c.length-S-1],m=`\n      int b${S} = index / ${f};\n      index -= b${S} * ${f};\n    `+m,D=`b${S}, `+D;return new w.GlslLibRoutine(`\n      ivec${c.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${o[0]}, ${o[1]}));\n        int index = resTexRC.y * ${o[0]} + resTexRC.x;\n\n        ${m}\n\n        int b = index / ${l};\n        index -= b * ${l};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${u}) * 2;\n        int c = 2 * (index / ${u});\n\n        return ivec${c.length}(${D});\n      }\n    `)}getOutputUnpacked1DCoords(c,s){return new w.GlslLibRoutine(`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          return resTexRC.y * ${s[0]} + resTexRC.x;\n        }\n      `)}getOutputUnpacked2DCoords(c,s){return new w.GlslLibRoutine(`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n          int r = index / ${c[1]};\n          int c = index - r * ${c[1]};\n          return ivec2(r, c);\n        }\n      `)}getOutputUnpacked3DCoords(c,s){let o="";const u=c.length;let l=null;u<2&&(l=[]),l=new Array(u-1),l[u-2]=c[u-1];for(let D=u-3;D>=0;--D)l[D]=l[D+1]*c[D+1];const f=["r","c","d"],m=l.map((D,E)=>`int ${f[E]} = index / ${D}; ${E===l.length-1?`int ${f[E+1]} = index - ${f[E]} * ${D}`:`index -= ${f[E]} * ${D}`};`).join("");return o=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n          ${m}\n          return ivec3(r, c, d);\n        }\n      `,new w.GlslLibRoutine(o)}getOutputUnpacked4DCoords(c,s){let o="";const u=c.length;let l=null;u<2&&(l=[]),l=new Array(u-1),l[u-2]=c[u-1];for(let D=u-3;D>=0;--D)l[D]=l[D+1]*c[D+1];const f=["r","c","d","d2"],m=l.map((D,E)=>`int ${f[E]} = index / ${D}; ${E===l.length-1?`int ${f[E+1]} = index - ${f[E]} * ${D}`:`index -= ${f[E]} * ${D}`};`).join("");return o=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n          ${m}\n          return ivec4(r, c, d, d2);\n        }\n      `,new w.GlslLibRoutine(o)}getOutputUnpacked5DCoords(c,s){let o="";const u=c.length;let l=null;u<2&&(l=[]),l=new Array(u-1),l[u-2]=c[u-1];for(let D=u-3;D>=0;--D)l[D]=l[D+1]*c[D+1];const f=["r","c","d","d2","d3"],m=l.map((D,E)=>`int ${f[E]} = index / ${D}; ${E===l.length-1?`int ${f[E+1]} = index - ${f[E]} * ${D}`:`index -= ${f[E]} * ${D}`};`).join("");return o=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n          ${m}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new w.GlslLibRoutine(o)}getOutputUnpacked6DCoords(c,s){let o="";const u=c.length;let l=null;u<2&&(l=[]),l=new Array(u-1),l[u-2]=c[u-1];for(let D=u-3;D>=0;--D)l[D]=l[D+1]*c[D+1];const f=["r","c","d","d2","d3","d4"],m=l.map((D,E)=>`int ${f[E]} = index / ${D}; ${E===l.length-1?`int ${f[E+1]} = index - ${f[E]} * ${D}`:`index -= ${f[E]} * ${D}`};`).join("");return o=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${s[0]}, ${s[1]}));\n         int index = resTexRC.y * ${s[0]} + resTexRC.x;\n         ${m}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new w.GlslLibRoutine(o)}getCommonUtilFuncs(){const c={};let s="uvFromFlat";c[s]=new w.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),s="packedUVfrom1D",c[s]=new w.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),s="packedUVfrom2D",c[s]=new w.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),s="packedUVfrom3D",c[s]=new w.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),s="sampleTexture";const o=T.getGlsl(this.context.glContext.version);return c[s]=new w.GlslLibRoutine(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${o.texture2D}(textureSampler, uv).r;\n        }`),c}getInputsSamplingSnippets(){const c={},s=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((o,u)=>{const l=this.context.inputTextureLayouts[u],f=b.generateShaderFuncNameFromInputSamplerName(o);c[f]=l.isPacked?this.getPackedSamplerFromInput(f,o,l):this.getUnpackedSamplerFromInput(f,o,l);const m=b.generateShaderFuncNameFromInputSamplerNameAtOutCoords(o);l.unpackedShape.length<=s.unpackedShape.length&&(c[m]=l.isPacked?this.getPackedSamplerAtOutputCoords(m,l,s,o):this.getUnpackedSamplerAtOutputCoords(m,l,s,o))}),c}getPackedSamplerAtOutputCoords(c,s,o,u){const l=s.unpackedShape,f=o.unpackedShape,D=b.generateShaderFuncNameFromInputSamplerName(u),E=l.length,S=f.length,A=x.BroadcastUtil.getBroadcastDims(l,f),I=b.getCoordsDataType(S),k=S-E;let L;const R=b.getGlChannels();L=0===E?"":S<2&&A.length>=1?"coords = 0;":A.map(ne=>`coords.${R[ne+k]} = 0;`).join("\n");let P="";P=S<2&&E>0?"coords":l.map((ne,se)=>`coords.${R[se+k]}`).join(", ");let j="return outputValue;";const z=1===x.ShapeUtil.size(l),J=1===x.ShapeUtil.size(f);if(1!==E||z||J){if(z&&!J)j=1===S?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(A.length){const ne=E-2,se=E-1;A.indexOf(ne)>-1&&A.indexOf(se)>-1?j="return vec4(outputValue.x);":A.indexOf(ne)>-1?j="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":A.indexOf(se)>-1&&(j="return vec4(outputValue.xx, outputValue.zz);")}}else j="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";return new w.GlslLibRoutine(`\n      vec4 ${c}() {\n        ${I} coords = getOutputCoords();\n        \n        int lastDim = coords.${R[S-1]};\n        coords.${R[S-1]} = coords.${R[S-2]};\n        coords.${R[S-2]} = lastDim;\n      \n        ${L}\n        vec4 outputValue = ${D}(${P});\n        ${j}\n      }\n    `,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(c,s,o,u){const l=[o.width,o.height],f=[s.width,s.height],m=s.unpackedShape.length,D=o.unpackedShape.length,E=s.unpackedShape,S=o.unpackedShape,A=b.generateShaderFuncNameFromInputSamplerName(u);if(m===D&&x.ArrayUtil.arraysEqual(f,l))return new w.GlslLibRoutine(`\n          float ${c}() {\n            return sampleTexture(${u}, TexCoords);\n          }\n        `,["coordinates.sampleTexture"]);const I=b.getCoordsDataType(D),k=x.BroadcastUtil.getBroadcastDims(E,S),L=D-m;let R;const P=b.getGlChannels();R=0===m?"":D<2&&k.length>=1?"coords = 0;":k.map(J=>`coords.${P[J+L]} = 0;`).join("\n");let j="";return j=D<2&&m>0?"coords":s.unpackedShape.map((J,G)=>`coords.${P[G+L]}`).join(", "),new w.GlslLibRoutine(`\n        float ${c}() {\n          ${I} coords = getOutputCoords();\n          ${R}\n          return ${A}(${j});\n        }\n      `,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(c,s,o){switch(o.unpackedShape.length){case 0:return this.getPackedSamplerScalar(c,s);case 1:return this.getPackedSampler1D(c,s,o);case 2:return this.getPackedSampler2D(c,s,o);case 3:return this.getPackedSampler3D(c,s,o);default:return this.getPackedSamplerND(c,s,o)}}getUnpackedSamplerFromInput(c,s,o){const u=o.unpackedShape;switch(u.length){case 0:return this.getUnpackedSamplerScalar(c,s,o);case 1:return this.getUnpackedSampler1D(c,s,o);case 2:return this.getUnpackedSampler2D(c,s,o);case 3:return this.getUnpackedSampler3D(c,s,o);case 4:return this.getUnpackedSampler4D(c,s,o);case 5:return this.getUnpackedSampler5D(c,s,o);case 6:return this.getUnpackedSampler6D(c,s,o);default:throw new Error(`Unsupported dimension ${u.length}-D`)}}getPackedSamplerScalar(c,s){const o=`\n          vec4 ${c}() {\n            return ${T.getGlsl(this.context.glContext.version).texture2D}(${s}, halfCR);\n          }\n        `;return new w.GlslLibRoutine(o)}getPackedSampler1D(c,s,o){const u=[o.width,o.height],l=[u[1],u[0]],f=T.getGlsl(this.context.glContext.version);return new w.GlslLibRoutine(`vec4 ${c}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${l[0]}, ${l[1]}, index);\n      return ${f.texture2D}(${s}, uv);\n    }`,["coordinates.packedUVfrom1D"])}getPackedSampler2D(c,s,o){const u=o.unpackedShape,l=[o.width,o.height],f=T.getGlsl(this.context.glContext.version),m=l[0],D=l[1];if(null!=l&&x.ArrayUtil.arraysEqual(u,l))return new w.GlslLibRoutine(`vec4 ${c}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${D}.0, ${m}.0);\n        return ${f.texture2D}(${s}, uv);\n      }`);const E=l,S=Math.ceil(u[1]/2);return new w.GlslLibRoutine(`vec4 ${c}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${E[1]}, ${E[0]}, ${S}, row, col);\n      return ${f.texture2D}(${s}, uv);\n    }`,["coordinates.packedUVfrom2D"])}getPackedSampler3D(c,s,o){const u=o.unpackedShape,l=[o.width,o.height],f=[l[0],l[1]],m=T.getGlsl(this.context.glContext.version);if(1===u[0]){const I=u.slice(1),k=[1,2],L=b.squeezeInputShape(u,I),R=["b","row","col"],P=JSON.parse(JSON.stringify(o));P.unpackedShape=L;const j=this.getPackedSamplerFromInput(c,s,P),z=`${j.routineBody}\n      vec4 ${c}(int b, int row, int col) {\n        return ${c}(${b.getSqueezedParams(R,k)});\n      } `;return new w.GlslLibRoutine(z,j.dependencies)}const D=f[0],E=f[1],S=Math.ceil(u[2]/2),A=`vec4 ${c}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${E}, ${D}, ${S*Math.ceil(u[1]/2)}, ${S}, b, row, col);\n      return ${m.texture2D}(${s}, uv);}`;return new w.GlslLibRoutine(A,["coordinates.packedUVfrom3D"])}getPackedSamplerND(c,s,o){const u=o.unpackedShape,l=u.length,f=[o.width,o.height],m=T.getGlsl(this.context.glContext.version),D=[f[0],f[1]],E=D[1],S=D[0],A=Math.ceil(u[l-1]/2);let I=A*Math.ceil(u[l-2]/2),k="int b, int row, int col",L=`b * ${I} + (row / 2) * ${A} + (col / 2)`;for(let P=2;P<l-1;P++)k=`int b${P}, `+k,I*=u[l-P-1],L=`b${P} * ${I} + `+L;return new w.GlslLibRoutine(`vec4 ${c}(${k}) {\n      int index = ${L};\n      int texR = index / ${S};\n      int texC = index - texR * ${S};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${S}, ${E});\n      return ${m.texture2D}(${s}, uv);\n    }`)}getUnpackedSamplerScalar(c,s,o){const[u,l]=[o.width,o.height];return 1===u&&1===l?new w.GlslLibRoutine(`\n          float ${c}() {\n            return sampleTexture(${s}, halfCR);\n          }\n        `,["coordinates.sampleTexture"]):new w.GlslLibRoutine(`\n        float ${c}() {\n          int offset_${s} = coordsToOffset(TexCoords, ${u}, ${l});\n          vec2 uv = uvFromFlat(${u}, ${l}, offset_${s});\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(c,s,o){const u=o.width,l=o.height;return 1===l&&1===u?new w.GlslLibRoutine(`\n        float ${c}(int index) {\n          return sampleTexture(${s}, halfCR);\n        }\n      `,["coordinates.sampleTexture"]):1===l?new w.GlslLibRoutine(`\n          float ${c}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${u}.0, 0.5);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture"]):1===u?new w.GlslLibRoutine(`\n          float ${c}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${l}.0);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture"]):new w.GlslLibRoutine(`\n        float ${c}(int index) {\n          vec2 uv = uvFromFlat(${u}, ${l}, index);\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(c,s,o){const u=o.unpackedShape,l=[o.height,o.width];if(null!=l&&x.ArrayUtil.arraysEqual(u,l))return new w.GlslLibRoutine(`\n          float ${c}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${l[1]}.0, ${l[0]}.0);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture"]);const{newShape:f,keptDims:m}=g.squeezeShape(u);if(f.length<u.length){const I=b.squeezeInputShape(u,f),k=JSON.parse(JSON.stringify(o));k.unpackedShape=I;const L=["col","row"],R=`\n          ${this.getUnpackedSamplerFromInput(c,s,k).routineBody}\n          float ${c}(int row, int col) {\n            return ${c}(${b.getSqueezedParams(L,m)});\n          }\n        `;return new w.GlslLibRoutine(R,["coordinates.sampleTexture"])}const E=l[1],S=l[0];return 1===S?new w.GlslLibRoutine(`\n          float ${c}(int row, int col) {\n            int offset_${s} = coordsToOffset(TexCoords, ${E}, ${S});\n            float index = dot(vec3(row, col, offset_${s}), vec3(${u[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${E}.0);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture","coordinates.coordsToOffset"]):1===E?new w.GlslLibRoutine(`\n          float ${c}(int row, int col) {\n            int offset_${s} = coordsToOffset(TexCoords, ${E}, ${S});\n            float index = dot(vec3(row, col, offset_${s}), vec3(${u[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${S}.0, 0.5);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture","coordinates.coordsToOffset"]):new w.GlslLibRoutine(`\n        float ${c}(int row, int col) {\n          int index = col * ${u[1]} + row;\n          vec2 uv = uvFromFlat(${E}, ${S}, index);\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(c,s,o){const u=o.unpackedShape,l=u[1]*u[2],f=u[2],{newShape:m,keptDims:D}=g.squeezeShape(u);if(m.length<u.length){const A=b.squeezeInputShape(u,m),I=["batch","col","row"],k=JSON.parse(JSON.stringify(o));k.unpackedShape=A;const L=this.getUnpackedSamplerFromInput(c,s,k),R=D.reverse(),P=`\n          ${L.routineBody}\n          float ${c}(int batch, int row, int col) {\n            return ${c}(${b.getSqueezedParams(I,R)});\n          }\n        `;return new w.GlslLibRoutine(P,L.dependencies)}return new w.GlslLibRoutine(`\n          float ${c}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${l} + col * ${f} + row;\n            vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);\n            return sampleTexture(${s}, uv);\n          }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(c,s,o){const u=o.unpackedShape,l=u[3],f=u[2]*l;return new w.GlslLibRoutine(`\n        float ${c}(int row, int col, int depth, int depth2) {\n          int index = row * ${u[1]*f} + col * ${f} +\n              depth2 * ${l} + depth;\n          vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(c,s,o){const u=o.unpackedShape,l=u[4],f=u[3]*l,m=u[2]*f,D=u[1]*m,{newShape:E,keptDims:S}=g.squeezeShape(u);if(E.length<u.length){const I=b.squeezeInputShape(u,E),k=["row","col","depth","depth2","depth3"],L=JSON.parse(JSON.stringify(o));L.unpackedShape=I;const R=`\n          ${this.getUnpackedSamplerFromInput(c,s,L).routineBody}\n          float ${c}(int row, int col, int depth, int depth2, int depth3) {\n            return ${c}(${b.getSqueezedParams(k,S)});\n          }\n        `;return new w.GlslLibRoutine(R,["coordinates.sampleTexture","coordinates.uvFromFlat"])}return new w.GlslLibRoutine(`\n        float ${c}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${D} + col * ${m} + depth * ${f} +\n          depth3 * ${l} + depth2;\n          vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(c,s,o){const u=o.unpackedShape,l=u[5],f=u[4]*l,m=u[3]*f,D=u[2]*m,E=u[1]*D,{newShape:S,keptDims:A}=g.squeezeShape(u);if(S.length<u.length){const k=b.squeezeInputShape(u,S),L=["row","col","depth","depth2","depth3","depth4"],R=JSON.parse(JSON.stringify(o));R.unpackedShape=k;const P=`\n            ${this.getUnpackedSamplerFromInput(c,s,R).routineBody}\n            float ${c}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${c}(${b.getSqueezedParams(L,A)});\n            }\n          `;return new w.GlslLibRoutine(P,["coordinates.sampleTexture","coordinates.uvFromFlat"])}return new w.GlslLibRoutine(`\n          float ${c}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${E} + col * ${D} + depth * ${m} +\n            depth2 * ${f} + depth3 * ${l} + depth4;\n            vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const c=this.context.outputTextureLayout,s=c.shape.length,o=c.strides,u=c.width,l=c.height,f=[];for(let D=0;D<s-1;++D)f.push(`\n        c[${D}] = offset / ${o[D]};`),f.push(`\n        offset -= c[${D}] * ${o[D]};`);f.push(`\n        c[${s-1}] = offset;`);const m=`\n      void toVec(vec2 texCoords, out int c[${s}]) {\n        int offset = coordsToOffset(texCoords, ${u}, ${l});\n        ${f.join("")}\n      }\n      void toVec(int offset, out int c[${s}]) {\n        ${f.join("")}\n      }\n    `;return{toVec:new w.GlslLibRoutine(m,["coordinates.coordsToOffset"])}}valueFrom(){const c={};return this.context.programInfo.inputNames.forEach((s,o)=>{const u=this.context.inputTextureLayouts[o],l=(u.unpackedShape.length>0?u.unpackedShape:u.shape).length;let f=`_${s}`;c[f]=new w.GlslLibRoutine(this.getValueFromSingle(s,l,u.width,u.height,!1),[`shapeUtils.indicesToOffset${f}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),f+="_T",c[f]=new w.GlslLibRoutine(this.getValueFromSingle(s,l,u.width,u.height,!0),[`shapeUtils.indicesToOffset${f}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),c}getValueFromSingle(c,s,o,u,l){let f=`_${c}`;return l&&(f+="_T"),`\n        float ${f}(int m[${s}]) {\n          int offset = indicesToOffset${f}(m);\n          vec2 coords = offsetToCoords(offset, ${o}, ${u});\n          float value = getColorAsFloat(${T.getGlsl(this.context.glContext.version).texture2D}(${c}, coords));\n          return value;\n        }\n        `}getPackedValueFrom(c,s,o,u,l){let f=`_${c}_Pack`;return l&&(f+="_T"),`\n        vec4 ${f}(int m[${s}]) {\n          int offset = indicesToOffset_${c}(m);\n          vec2 coords = offsetToCoords(offset, ${o}, ${u});\n          return ${T.getGlsl(this.context.glContext.version).texture2D}(${c}, coords);\n        }\n        `}}},8520:(X,_)=>{"use strict";var O;Object.defineProperty(_,"__esModule",{value:!0}),_.TopologicalSortGlslRoutines=_.GlslLibRoutineNode=_.GlslLibRoutine=_.GlslLib=_.GlslContext=_.FunctionType=void 0,(O=_.FunctionType||(_.FunctionType={}))[O.ValueBased=0]="ValueBased",O[O.Positional=1]="Positional",_.GlslContext=class{constructor(x,w,T,g){this.glContext=x,this.programInfo=w,this.inputTextureLayouts=T,this.outputTextureLayout=g}},_.GlslLib=class{constructor(x){this.context=x}},_.GlslLibRoutine=class{constructor(x,w){this.routineBody=x,this.dependencies=w}},_.GlslLibRoutineNode=class{constructor(x,w,T){this.name=x,this.dependencies=T||[],w&&(this.routineBody=w)}addDependency(x){x&&this.dependencies.push(x)}},_.TopologicalSortGlslRoutines=class{static returnOrderedNodes(x){if(!x||0===x.length)return[];if(1===x.length)return x;const w=new Set,T=new Set,g=new Array;return this.createOrderedNodes(x,w,T,g),g}static createOrderedNodes(x,w,T,g){for(let b=0;b<x.length;++b)this.dfsTraverse(x[b],w,T,g)}static dfsTraverse(x,w,T,g){if(!x||T.has(x.name))return;if(w.has(x.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");w.add(x.name);const b=x.dependencies;if(b&&b.length>0)for(let v=0;v<b.length;++v)this.dfsTraverse(b[v],w,T,g);g.push(x),T.add(x.name),w.delete(x.name)}}},7341:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.EncodingGlslLib=void 0;const x=O(8520);class w extends x.GlslLib{constructor(g){super(g)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new x.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new x.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const g=w.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new x.GlslLibRoutine(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${g}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)}}decodeUint8(){const g=w.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new x.GlslLibRoutine(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${g}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)}}static isLittleEndian(){const g=new ArrayBuffer(4),b=new Uint32Array(g),v=new Uint8Array(g);if(b[0]=3735928559,239===v[0])return!0;if(222===v[0])return!1;throw new Error("unknown endianness")}}_.EncodingGlslLib=w},9894:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.FragColorGlslLib=void 0;const x=O(8520),w=O(5060);_.FragColorGlslLib=class T extends x.GlslLib{constructor(b){super(b)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const b=w.getGlsl(this.context.glContext.version);return{setFragColor:new x.GlslLibRoutine(`\n        void setFragColor(float value) {\n            ${b.output} = encode(value);\n        }\n        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new x.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}},2848:(X,_)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.replaceInlines=void 0;const O=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;_.replaceInlines=function(x){const w={};let T;for(;null!==(T=O.exec(x));){const g=T[3].split(",").map(b=>{const v=b.trim().split(" ");return v&&2===v.length?{type:v[0],name:v[1]}:null}).filter(b=>null!==b);w[T[2]]={params:g,body:T[4]}}for(const g in w){const b="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",g),v=new RegExp(b,"gm");for(;null!==(T=v.exec(x));){const p=T[1],c=T[2],s=T[3].split(","),o=p?`${p} ${c};`:"";let u=w[g].body,l="";w[g].params.forEach((m,D)=>{m&&(l+=`${m.type} ${m.name} = ${s[D]};\n`)}),u=`${l}\n ${u}`,u=u.replace("return",`${c} = `),x=x.replace(T[0],`\n      ${o}\n      {\n        ${u}\n      }\n      `)}}return x.replace(O,"")}},8879:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.GlslPreprocessor=void 0;const x=O(8520),w=O(2848),T=O(5483),g=O(5060);_.GlslPreprocessor=class{constructor(b,v,p,c){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new x.GlslContext(b,v,p,c),Object.keys(T.glslRegistry).forEach(o=>{const u=new T.glslRegistry[o](this.context);this.libs[o]=u});const s=this.glslLibRoutineDependencyGraph;for(const o in this.libs){const u=this.libs[o].getFunctions();for(const l in u){const f=o+"."+l;let m;s[f]?(m=s[f],m.routineBody=u[l].routineBody):(m=new x.GlslLibRoutineNode(f,u[l].routineBody),s[f]=m);const D=u[l].dependencies;if(D)for(let E=0;E<D.length;++E)if(s[D[E]])m.addDependency(s[D[E]]);else{const S=new x.GlslLibRoutineNode(D[E]);s[D[E]]=S,m.addDependency(S)}}}}preprocess(){const b=this.context.programInfo;let v=b.shaderSource;return this.context.programInfo.hasMain||(v=`${v}\n      ${g.getDefaultFragShaderMain(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),v=w.replaceInlines(v),`${g.getFragShaderPreamble(this.context.glContext.version)}\n    ${this.getUniforms(b.inputNames,b.variables)}\n    ${this.getImports(v)}\n    ${v}`}getImports(b){const v=this.selectGlslLibRoutinesToBeIncluded(b);if(0===v.length)return"";let p="";for(let c=0;c<v.length;++c){if(!v[c].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${v[c].name}`);p+=v[c].routineBody+"\n"}return p}selectGlslLibRoutinesToBeIncluded(b){const v=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(p=>{const c=p.split(".")[1];-1!==b.indexOf(c)&&v.push(this.glslLibRoutineDependencyGraph[p])}),x.TopologicalSortGlslRoutines.returnOrderedNodes(v)}getUniforms(b,v){const p=[];if(b)for(const c of b)p.push(`uniform sampler2D ${c};`);if(v)for(const c of v)p.push(`uniform ${c.type} ${c.name}${c.arrayLength?`[${c.arrayLength}]`:""};`);return p.join("\n")}}},5483:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.glslRegistry=void 0;const x=O(5107),w=O(7341),T=O(9894),g=O(2655),b=O(3891);_.glslRegistry={encoding:w.EncodingGlslLib,fragcolor:T.FragColorGlslLib,vec:b.VecGlslLib,shapeUtils:g.ShapeUtilsGlslLib,coordinates:x.CoordsGlslLib}},2655:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.ShapeUtilsGlslLib=void 0;const x=O(8520);class w extends x.GlslLib{constructor(g){super(g)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const g=this.context.outputTextureLayout.shape.length,b={};return this.context.programInfo.inputNames.forEach((v,p)=>{const c=this.context.inputTextureLayouts[p].unpackedShape;if(c.length<=g){const s=c.length,o=g-s,u=`bcastIndices_${v}`;let l="";for(let m=0;m<s;++m)l+=`\n          realIndices[${m}] = int( mod(float(bcastedIndices[${o+m}]), ${c[m]}.0) );\n          `;b[u]=new x.GlslLibRoutine(`\n        void ${u} (int bcastedIndices[${g}], out int realIndices[${s}]) {\n          ${l}\n        }\n        `)}}),b}bcastMatmulIndex(){const g=this.context.outputTextureLayout.shape.length,b={};return this.context.programInfo.inputNames.forEach((v,p)=>{const c=this.context.inputTextureLayouts[p].shape;if(!(c.length<2||c.length>g)){const s=c.length,o=g-s,u=`bcastMatmulIndices_${v}`;let l="";for(let m=0;m<s-2;++m)l+=`\n          realIndices[${m}] = int( mod(float(bcastedIndices[${o+m}]), ${c[m]}.0) );\n          `;b[u]=new x.GlslLibRoutine(`\n        void ${u}(int bcastedIndices[${g}], out int realIndices[${s}]) {\n          ${l}\n          realIndices[${s-1}] = bcastedIndices[${g-1}];\n          realIndices[${s-2}] = bcastedIndices[${g-2}];\n        }\n        `)}}),b}indicesToOffset(){const g={};return this.context.programInfo.inputNames.forEach((b,v)=>{const c=this.context.inputTextureLayouts[v].strides,s=this.context.inputTextureLayouts[v].shape.length;let o=`indicesToOffset_${b}`;g[o]=new x.GlslLibRoutine(w.indexToOffsetSingle(o,s,c)),o=`indicesToOffset_${b}_T`,g[o]=new x.GlslLibRoutine(w.indexToOffsetSingle(o,s,c.slice().reverse()))}),g}static indexToOffsetSingle(g,b,v){let p="";for(let c=b-1;c>=0;--c)p+=`\n        offset += indices[${c}] * ${v[c]};\n        `;return`\n      int ${g}(int indices[${b}]) {\n        int offset = 0;\n        ${p}\n        return offset;\n      }\n      `}offsetToIndices(){const g={};return this.context.programInfo.inputNames.forEach((b,v)=>{const c=this.context.inputTextureLayouts[v].strides,s=this.context.inputTextureLayouts[v].shape.length;let o=`offsetToIndices_${b}`;g[o]=new x.GlslLibRoutine(w.offsetToIndicesSingle(o,s,c)),o=`offsetToIndices_${b}_T`,g[o]=new x.GlslLibRoutine(w.offsetToIndicesSingle(o,s,c.slice().reverse()))}),g}static offsetToIndicesSingle(g,b,v){const p=[];for(let c=0;c<b-1;++c)p.push(`\n      indices[${c}] = offset / ${v[c]};`),p.push(`\n        offset -= indices[${c}] * ${v[c]};`);return p.push(`\n      indices[${b-1}] = offset;`),`\n      void ${g}(int offset, out int indices[${b}]) {\n        ${p.join("")}\n      }\n      `}incrementIndices(){const g={};return this.context.programInfo.inputNames.forEach((b,v)=>{const p=this.context.inputTextureLayouts[v].shape,c=p.length,s=`incrementIndices_${b}`;let o="";for(let l=0;l<c;++l)o+=`\n        shape[${l}] = ${p[l]};`;g[s]=new x.GlslLibRoutine(`\n        void ${s}(int axis, out int indices[${c}]) {\n          int shape[${c}];\n          ${o};\n          for(int i = ${c} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `)}),g}}_.ShapeUtilsGlslLib=w},5060:(X,_)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.getDefaultFragShaderMain=_.getFragShaderPreamble=_.getVertexShaderSource=_.getGlsl=void 0;const O={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},x={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function w(T){return 1===T?O:x}_.getGlsl=w,_.getVertexShaderSource=function(T){const g=w(T);return`${g.version}\n      precision highp float;\n      ${g.attribute} vec3 position;\n      ${g.attribute} vec2 textureCoord;\n\n      ${g.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`},_.getFragShaderPreamble=function(T){const g=w(T);return`${g.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${g.varyingFrag} vec2 TexCoords;\n    ${g.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `},_.getDefaultFragShaderMain=function(T,g){return`\n  void main() {\n    int indices[${g}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${w(T).output} = result;\n  }\n  `}},3891:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.VecGlslLib=void 0;const x=O(8520);_.VecGlslLib=class w extends x.GlslLib{constructor(g){super(g)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const g=this.context.outputTextureLayout.shape.length,b={add:"+=",sub:"-=",mul:"*=",div:"/="},v={};for(const p in b){const c=`${p}Vec`;let s="";for(let u=0;u<g;++u)s+=`\n          dest[${u}] ${b[p]} src[${u}];\n          `;v[c]=new x.GlslLibRoutine(`\n        void ${c}(int src[${g}], out int dest[${g}]) {\n          ${s}\n        }\n        `)}return v}copyVec(){const g=this.context.outputTextureLayout.shape.length;let b="";for(let p=0;p<g;++p)b+=`\n        dest[${p}] = src[${p}];\n        `;return{copyVec:new x.GlslLibRoutine(`\n      void copyVec(int src[${g}], out int dest[${g}]) {\n        ${b}\n      }\n      `)}}setVecItem(){const g=this.context.outputTextureLayout.shape.length;let b=`\n        if(index < 0)\n            index =${g} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let p=1;p<g-1;++p)b+=`\n        else if (index == ${p})\n            m[${p}] = value;\n            `;return b+=`\n        else\n            m[${g-1}] = value;\n        `,{setVecItem:new x.GlslLibRoutine(`\n      void setVecItem(out int m[${g}], int index, int value) {\n        ${b}\n      }\n        `)}}getVecItem(){const g=this.context.outputTextureLayout.shape.length;let b=`\n        if(index < 0)\n            index = ${g} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let p=1;p<g-1;++p)b+=`\n        else if (index == ${p})\n            return m[${p}];\n      `;return b+=`\n        else\n            return m[${g-1}];\n        `,{getVecItem:new x.GlslLibRoutine(`\n      int getVecItem(int m[${g}], int index) {\n        ${b}\n      }\n    `)}}}},8316:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.WebGLInferenceHandler=void 0;const x=O(6231),w=O(9162),T=O(2517),g=O(2403),b=O(7019),v=O(8710),p=O(5611),c=O(4057),s=O(2039);_.WebGLInferenceHandler=class{constructor(o){this.session=o,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(o,u){return c.calculateTextureWidthAndHeight(this.session.layoutStrategy,o,u)}executeProgram(o,u){if(u.length<o.inputNames.length)throw new Error(`Input size mustn't be less than ${o.inputNames.length}.`);if(o.inputNames.length!==o.inputTypes.length)throw new Error("input names size does not match input types");const l=[];for(let A=0;A<o.inputNames.length;++A)l[A]=this.getOrCreateTextureData(u[A],o.inputTypes[A]);const f=((A,I)=>{const k=I.map(R=>`${R.unpackedShape.join(",")};${R.width}x${R.height}`).join("_");let L=A.name;return A.cacheHint&&(L+="["+A.cacheHint+"]"),L+=":"+k,L})(o,l);let m=this.session.programManager.getArtifact(f);const D=m?m.programInfo:"function"==typeof o.get?o.get():o,E=c.createTextureLayoutFromTextureType(this.session.layoutStrategy,D.output.dims,D.output.textureType),S=this.createTextureData(E,D.output.type);return m||(m=this.session.programManager.build(D,l,S),this.session.programManager.setArtifact(f,m)),this.runProgram(m,l,S),S}run(o,u){return this.executeProgram(o,u).tensor}runProgram(o,u,l){for(let f=0;f<u.length;++f)if(!!u[f].isPacked!=(o.programInfo.inputTypes[f]===s.TextureType.packed))throw new Error(`input[${f}] property packed inconsistent`);if(!!l.isPacked!=(o.programInfo.output.textureType===s.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(o,u,l)}getOrCreateTextureData(o,u){let l=this.getTextureData(o.dataId,u===s.TextureType.packed);if(!l&&(l=this.getTextureData(o.dataId,u!==s.TextureType.packed),l))return u===s.TextureType.packed?this.pack(l):this.unpack(l);if(!l){const f=c.createTextureLayoutFromTextureType(this.session.layoutStrategy,o.dims,u);if(u===s.TextureType.packedLastDimension){const E=o.dims;if(4===E.length){const S=[E[0],Math.ceil(E[1]*E[2]*E[3]/4)],A=c.createTextureLayoutFromTextureType(this.session.layoutStrategy,S,u);let I=o.numberData;if(E[1]*E[2]*E[3]%4!=0){const k=E[0],L=E[1]*E[2]*E[3],R=4*Math.ceil(1*L/4);I=new Float32Array(k*R);for(let P=0;P<k;++P){const j=P*L,z=P*R+P%1*L;I.set(o.numberData.subarray(j,j+L),z)}}return this.createTextureData(A,o.type,I,o,1)}}if(u===s.TextureType.packed){const m=c.createTextureLayoutFromShape(this.session.layoutStrategy,o.dims,1,[],{reverseWH:!0}),D=this.createTextureData(m,o.type,o.numberData,o,1);l=this.pack(D)}else l=this.createTextureData(f,o.type,o.numberData,o,1)}return l}createTextureDataFromLayoutBindTensor(o,u,l,f){return this.createTextureData(o,u,l,f,1)}createTextureData(o,u,l,f,m){x.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(o)}]`);const D=this.session.textureManager.createTextureFromLayout(u,o,l,m);return this.createTextureDataFromTexture(o,u,D,f)}reshapeUnpacked(o,u){const l=this.getOrCreateTextureData(o,s.TextureType.unpacked),f={channels:l.channels,height:l.height,width:l.width,shape:0!==u.length?u:[1],strides:T.ShapeUtil.computeStrides(u),unpackedShape:u};return this.createTextureDataFromTexture(f,o.type,l.texture).tensor}reshapePacked(o,u){const l=this.getOrCreateTextureData(o,s.TextureType.packed);if(b.isReshapeCheap(o.dims,u)){const S={channels:l.channels,height:l.height,width:l.width,shape:0!==u.length?u:[1],strides:T.ShapeUtil.computeStrides(u),unpackedShape:u,isPacked:!0};return this.createTextureDataFromTexture(S,o.type,l.texture).tensor}const f=b.processDims3D(o.dims),m=b.processDims3D(u),D=this.reshapePacked(o,f),E=this.run(b.createPackedReshape3DProgramInfoLoader(this,D,m),[D]);return this.reshapePacked(E,u)}cast(o,u){const l=this.getOrCreateTextureData(o,s.TextureType.unpacked);return this.createTextureDataFromTexture(l,u,l.texture).tensor}createTextureDataFromTexture(o,u,l,f,m){var D=this;const E=Object.assign(Object.assign({},o),{tensor:f||new w.Tensor(o.unpackedShape,u,S=>this.readTexture(E),function(){var S=_asyncToGenerator(function*(A){return D.readTextureAsync(E)});return function(A){return S.apply(this,arguments)}}(),void 0,m),texture:l});return this.setTextureData(E.tensor.dataId,E,o.isPacked),E}getTextureData(o,u=!1){return this.session.isInitializer(o)?this.session.getTextureData(o,u):u?this.packedTextureDataCache.get(o):this.unpackedTextureDataCache.get(o)}setTextureData(o,u,l=!1){this.session.isInitializer(o)?this.session.setTextureData(o,u,l):(l?this.packedTextureDataCache:this.unpackedTextureDataCache).set(o,u)}isTextureLayoutCached(o,u=!1){return!!this.getTextureData(o.dataId,u)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(o=>this.session.textureManager.releaseTexture(o)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(o=>this.session.textureManager.releaseTexture(o)),this.unpackedTextureDataCache=new Map}readTexture(o){return o.isPacked?this.readTexture(this.unpack(o)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(o,o.tensor.type,o.channels):this.session.textureManager.readUint8TextureAsFloat(v.encodeAsUint8(this,o))}readTextureAsync(o){var u=this;return _asyncToGenerator(function*(){return o.isPacked?u.readTextureAsync(u.unpack(o)):u.session.backend.glContext.isFloat32DownloadSupported?u.session.textureManager.readTextureAsync(o,o.tensor.type,o.channels):u.session.textureManager.readUint8TextureAsFloat(v.encodeAsUint8(u,o))})()}pack(o){return this.executeProgram(g.createPackProgramInfoLoader(this,o.tensor),[o.tensor])}unpack(o){return this.executeProgram(p.createUnpackProgramInfoLoader(this,o.tensor),[o.tensor])}}},1640:function(X,_,O){"use strict";var x=this&&this.__createBinding||(Object.create?function(Re,lt,$e,ze){void 0===ze&&(ze=$e),Object.defineProperty(Re,ze,{enumerable:!0,get:function(){return lt[$e]}})}:function(Re,lt,$e,ze){void 0===ze&&(ze=$e),Re[ze]=lt[$e]}),w=this&&this.__setModuleDefault||(Object.create?function(Re,lt){Object.defineProperty(Re,"default",{enumerable:!0,value:lt})}:function(Re,lt){Re.default=lt}),T=this&&this.__importStar||function(Re){if(Re&&Re.__esModule)return Re;var lt={};if(null!=Re)for(var $e in Re)"default"!==$e&&Object.prototype.hasOwnProperty.call(Re,$e)&&x(lt,Re,$e);return w(lt,Re),lt};Object.defineProperty(_,"__esModule",{value:!0}),_.WEBGL_OP_RESOLVE_RULES=void 0;const g=O(2898),b=T(O(7839)),v=O(4196),p=O(2069),c=O(8138),s=O(5193),o=O(7992),u=O(1253),l=O(4776),f=O(6572),m=O(3346),D=O(5623),E=O(2870),S=O(2143),A=O(2143),I=O(2143),k=O(2143),L=O(4939),R=O(4939),P=O(718),j=O(2268),z=O(8117),J=O(2278),G=O(5524),ne=O(5975),se=O(3933),q=O(6558),Z=O(5723),pe=O(3738),ie=T(O(4909)),_e=O(8428),Ke=O(9793);_.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",ie.abs],["Acos","","7+",ie.acos],["Add","","7+",b.add],["And","","7+",b.and],["Asin","","7+",ie.asin],["Atan","","7+",ie.atan],["AveragePool","","7+",S.averagePool,S.parseAveragePoolAttributes],["BatchNormalization","","7+",g.batchNormalization,g.parseBatchNormalizationAttributes],["Cast","","6+",v.cast,v.parseCastAttributes],["Ceil","","6+",ie.ceil],["Clip","","6-10",ie.clip,ie.parseClipAttributes],["Clip","","11+",ie.clipV11],["Concat","","4+",p.concat,p.parseConcatAttributes],["Conv","","1+",c.conv,c.parseConvAttributes],["Cos","","7+",ie.cos],["Div","","7+",b.div],["Dropout","","7+",ie.identity],["DepthToSpace","","1+",s.depthToSpace,s.parseDepthToSpaceAttributes],["Equal","","7+",b.equal],["Elu","","6+",ie.elu,ie.parseEluAttributes],["Exp","","6+",ie.exp],["Flatten","","1+",o.flatten,o.parseFlattenAttributes],["Floor","","6+",ie.floor],["FusedConv","com.microsoft","1+",c.conv,c.parseConvAttributes],["Gather","","1+",u.gather,u.parseGatherAttributes],["Gemm","","7-10",l.gemm,l.parseGemmAttributesV7],["Gemm","","11+",l.gemm,l.parseGemmAttributesV11],["GlobalAveragePool","","1+",A.globalAveragePool,A.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",k.globalMaxPool],["Greater","","7+",b.greater],["Identity","","1+",ie.identity],["ImageScaler","","1+",f.imageScaler,f.parseImageScalerAttributes],["InstanceNormalization","","6+",m.instanceNormalization,m.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",ie.leakyRelu,ie.parseLeakyReluAttributes],["Less","","7+",b.less],["Log","","6+",ie.log],["MatMul","","1+",D.matMul,D.parseMatMulAttributes],["MaxPool","","1+",I.maxPool,I.parseMaxPoolAttributes],["Mul","","7+",b.mul],["Neg","","6+",ie.neg],["Not","","1+",ie.not],["Or","","7+",b.or],["Pad","","2-10",E.padV2,E.parsePadAttributesV2],["Pad","","11+",E.padV11,E.parsePadAttributesV11],["Pow","","7+",b.pow],["PRelu","","7+",b.pRelu],["ReduceLogSum","","1+",L.reduceLogSum,R.parseReduceAttributes],["ReduceMax","","1+",L.reduceMax,R.parseReduceAttributes],["ReduceMean","","1+",L.reduceMean,R.parseReduceAttributes],["ReduceMin","","1+",L.reduceMin,R.parseReduceAttributes],["ReduceProd","","1+",L.reduceProd,R.parseReduceAttributes],["ReduceSum","","1-12",L.reduceSum,R.parseReduceAttributes],["ReduceSumSquare","","1+",L.reduceLogSumSquare,R.parseReduceAttributes],["Relu","","6+",ie.relu],["Reshape","","5+",P.reshape],["Resize","","10",j.resize,j.parseResizeAttributesV10],["Resize","","11+",j.resize,j.parseResizeAttributesV11],["Shape","","1+",z.shape],["Sigmoid","","6+",ie.sigmoid],["Sin","","7+",ie.sin],["Slice","","10+",J.sliceV10],["Slice","","1-9",J.slice,J.parseSliceAttributes],["Softmax","","1-12",G.softmax,G.parseSoftmaxAttributes],["Softmax","","13+",G.softmaxV13,G.parseSoftmaxAttributesV13],["Split","","2-12",ne.split,ne.parseSplitAttributes],["Sqrt","","6+",ie.sqrt],["Squeeze","","1-12",se.squeeze,se.parseSqueezeAttributes],["Squeeze","","13+",se.squeezeV13],["Sub","","7+",b.sub],["Sum","","6+",q.sum],["Tan","","7+",ie.tan],["Tanh","","6+",ie.tanh],["Tile","","6+",Z.tile],["Transpose","","1+",pe.transpose,pe.parseTransposeAttributes],["Upsample","","7-8",Ke.upsample,Ke.parseUpsampleAttributesV7],["Upsample","","9",Ke.upsample,Ke.parseUpsampleAttributesV9],["Unsqueeze","","1-12",_e.unsqueeze,_e.parseUnsqueezeAttributes],["Unsqueeze","","13+",_e.unsqueezeV13],["Xor","","7+",b.xor]]},2898:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseBatchNormalizationAttributes=_.batchNormalization=void 0;const x=O(246),w=O(5060),T=O(2039),g={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked]};_.batchNormalization=(p,c,s)=>(v(c),[p.run(Object.assign(Object.assign({},g),{cacheHint:s.cacheKey,get:()=>b(p,c,s)}),c)]),_.parseBatchNormalizationAttributes=p=>{const c=p.attributes.getFloat("epsilon",1e-5),s=p.attributes.getFloat("momentum",.9),o=p.attributes.getInt("spatial",1);return x.createAttributeWithCacheKey({epsilon:c,momentum:s,spatial:o})};const b=(p,c,s)=>{const o=w.getGlsl(p.session.backend.glContext.version),u=c[0].dims.length,[l,f]=p.calculateTextureWidthAndHeight(c[1].dims,T.TextureType.unpacked),m=`\n  float process(int[${u}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${l}, ${f});\n    float scale = getColorAsFloat(${o.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${o.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${o.texture2D}(Variance, position));\n    float b = getColorAsFloat(${o.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${s.epsilon})) ) + b;\n  }`;return Object.assign(Object.assign({},g),{output:{dims:c[0].dims,type:c[0].type,textureType:T.TextureType.unpacked},shaderSource:m})},v=p=>{if(!p||5!==p.length)throw new Error("BatchNormalization requires 5 inputs.");const c=p[0],s=p[1],o=p[2],u=p[3],l=p[4];if(c.dims.length<3||1!==s.dims.length||1!==o.dims.length||1!==u.dims.length||1!==l.dims.length)throw new Error("invalid input shape.");if(s.dims[0]!==c.dims[1]||o.dims[0]!==c.dims[1]||u.dims[0]!==c.dims[1]||l.dims[0]!==c.dims[1])throw new Error("invalid input shape.");if("float32"!==c.type&&"float64"!==c.type||"float32"!==s.type&&"float64"!==s.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==u.type&&"float64"!==u.type||"float32"!==l.type&&"float64"!==l.type)throw new Error("invalid input tensor types.")}},7839:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.xor=_.sub=_.pRelu=_.pow=_.or=_.mul=_.less=_.greater=_.equal=_.div=_.and=_.add=_.glslPRelu=_.glslPow=_.glslXor=_.glslOr=_.glslAnd=_.glslLess=_.glslGreater=_.glslEqual=_.glslSub=_.glslMul=_.glslDiv=_.glslAdd=void 0;const x=O(2517),w=O(8520),T=O(5060),g=O(2039);function b(){return{body:"\n  float add_(float a, float b) {\n    return a + b;\n  }\n  vec4 add_(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  ",name:"add_",type:w.FunctionType.ValueBased}}function v(){return{body:"\n  float div_(float a, float b) {\n    return a / b;\n  }\n  vec4 div_(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  ",name:"div_",type:w.FunctionType.ValueBased}}function p(){return{body:"\n  float mul_(float a, float b) {\n    return a * b;\n  }\n  vec4 mul_(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  ",name:"mul_",type:w.FunctionType.ValueBased}}function c(){return{body:"\n  float sub_(float a, float b) {\n    return a - b;\n  }\n  vec4 sub_(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  ",name:"sub_",type:w.FunctionType.ValueBased}}function s(){return{body:"\n  float equal_(float a, float b) {\n    return float(a == b);\n  }\n  vec4 equal_(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  ",name:"equal_",type:w.FunctionType.ValueBased}}function o(){const I="greater_";return{body:`\n  float ${I}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${I}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:I,type:w.FunctionType.ValueBased}}function u(){return{body:"\n  float less_(float a, float b) {\n    return float(a < b);\n  }\n  vec4 less_(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  ",name:"less_",type:w.FunctionType.ValueBased}}function l(){return{body:"\n  float and_(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 and_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  ",name:"and_",type:w.FunctionType.ValueBased}}function f(){return{body:"\n  float or_(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 or_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  ",name:"or_",type:w.FunctionType.ValueBased}}function m(){return{body:"\n  float xor_(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 xor_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  ",name:"xor_",type:w.FunctionType.ValueBased}}function D(){return{body:"\n  float pow_(float a, float b) {\n    return pow(a, b);\n  }\n  vec4 pow_(vec4 v1, vec4 v2) {\n    return pow(v1, v2);\n  }\n  ",name:"pow_",type:w.FunctionType.ValueBased}}function E(){return{body:"\n  float prelu_(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 prelu_(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  ",name:"prelu_",type:w.FunctionType.ValueBased}}_.glslAdd=b,_.glslDiv=v,_.glslMul=p,_.glslSub=c,_.glslEqual=s,_.glslGreater=o,_.glslLess=u,_.glslAnd=l,_.glslOr=f,_.glslXor=m,_.glslPow=D,_.glslPRelu=E;const S=(I,k,L,R=k[0].type,P)=>{const j=I.session.pack?g.TextureType.packed:g.TextureType.unpacked;return{name:L.name,inputNames:["A","B"],inputTypes:[j,j],cacheHint:P,get:()=>A(I,k,L,R)}},A=(I,k,L,R=k[0].type)=>{const P=I.session.pack?g.TextureType.packed:g.TextureType.unpacked,j=!x.ShapeUtil.areEqual(k[0].dims,k[1].dims);let z=k[0].dims;const J=I.session.pack;if(j){const se=x.BroadcastUtil.calcShape(k[0].dims,k[1].dims,!1);if(!se)throw new Error("Can't perform binary op on the given tensors");z=se;const q=z.length,Z=0!==k[0].dims.length?k[0].dims.length:1,pe=0!==k[1].dims.length?k[1].dims.length:1,ie=0!==k[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",_e=0!==k[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Ke=T.getGlsl(I.session.backend.glContext.version);return{name:L.name,inputNames:["A","B"],inputTypes:[P,P],output:{dims:z,type:R,textureType:P},shaderSource:J?`\n      ${L.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${L.name}(a, b);\n        ${Ke.output} = result;\n      }`:`\n      ${L.body}\n      float process(int indices[${q}]) {\n        int aindices[${Z}];\n        int bindices[${pe}];\n        ${ie}\n        ${_e}\n        return ${L.name}(_A(aindices), _B(bindices));\n      }`,hasMain:J}}const G=T.getGlsl(I.session.backend.glContext.version);return{name:L.name,inputNames:["A","B"],inputTypes:[P,P],output:{dims:k[0].dims,type:R,textureType:P},shaderSource:`\n    ${L.body}\n    void main() {\n      vec4 v1 = ${G.texture2D}(A, TexCoords);\n      vec4 v2 = ${G.texture2D}(B, TexCoords);\n      vec4 result = ${L.name}(v1, v2);\n      ${G.output} = result;\n    }\n    `,hasMain:!0}};_.add=(I,k)=>[I.run(S(I,k,b()),k)],_.and=(I,k)=>[I.run(S(I,k,l(),"bool"),k)],_.div=(I,k)=>[I.run(S(I,k,v()),k)],_.equal=(I,k)=>[I.run(S(I,k,s(),"bool"),k)],_.greater=(I,k)=>[I.run(S(I,k,o(),"bool"),k)],_.less=(I,k)=>[I.run(S(I,k,u(),"bool"),k)],_.mul=(I,k)=>[I.run(S(I,k,p()),k)],_.or=(I,k)=>[I.run(S(I,k,f(),"bool"),k)],_.pow=(I,k)=>[I.run(S(I,k,D()),k)],_.pRelu=(I,k)=>[I.run(S(I,k,E()),k)],_.sub=(I,k)=>[I.run(S(I,k,c()),k)],_.xor=(I,k)=>[I.run(S(I,k,m(),"bool"),k)]},4196:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseCastAttributes=_.cast=void 0;const x=O(2517);_.cast=(T,g,b)=>(w(g),[T.cast(g[0],b)]),_.parseCastAttributes=T=>x.ProtoUtil.tensorDataTypeFromProto(T.attributes.getInt("to"));const w=T=>{if(!T||1!==T.length)throw new Error("Cast requires 1 input.");if("string"===T[0].type)throw new Error("Invalid input type.")}},1163:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createPackedConcatProgramInfoLoader=void 0;const x=O(5060),w=O(2039),T=O(9390),g=O(2827);_.createPackedConcatProgramInfoLoader=(v,p,c)=>{const s=(o=p.length,u=c.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:o},(l,f)=>`X${f}`),inputTypes:Array(o).fill(w.TextureType.packed),cacheHint:u});var o,u;return Object.assign(Object.assign({},s),{get:()=>((l,f,m,D)=>{const E=m[0].dims.slice();if(D>=E.length||D<-1*E.length)throw new Error("axis specified for concat doesn't match input dimensionality");D<0&&(D=E.length+D);const S=E.slice(0);for(let ie=1;ie<m.length;ie++){const _e=m[ie].dims.slice();for(let Ke=0;Ke<E.length;Ke++)if(Ke===D)S[D]+=_e[Ke];else if(E[Ke]!==_e[Ke])throw new Error("non concat dimensions must match")}const A=S.length,I=g.getChannels("coords",A),k=T.getCoordsDataType(A),L=g.unpackFromChannel(),R=m.map(ie=>ie.dims),P=T.getGlChannels(A),j=new Array(R.length-1);j[0]=R[0][D];for(let ie=1;ie<j.length;ie++)j[ie]=j[ie-1]+R[ie][D];const z=P[D],J=P.slice(-2),G=P.join();let ne=`if (${z} < ${j[0]}) {\n        return getChannel(\n            getX0(${G}), vec2(${J.join()}));\n        }`;for(let ie=1;ie<j.length;ie++){const _e=j[ie-1];ne+=`\n            if (${z} < ${j[ie]}  && ${z} >= ${j[ie-1]}) {\n              return getChannel(\n                getX${ie}(${b(P,z,_e)}),\n                vec2(${b(J,z,_e)}));\n            }`}const q=j[j.length-1];ne+=`\n            return getChannel(\n              getX${j.length}(${b(P,z,q)}),\n              vec2(${b(J,z,q)}));`;const Z=x.getGlsl(l.session.backend.glContext.version),pe=`\n          ${L}\n          float getValue(${P.map(ie=>"int "+ie)}) {\n            ${ne}\n          }\n\n          void main() {\n            ${k} coords = getOutputCoords();\n            int lastDim = coords.${P[A-1]};\n            coords.${P[A-1]} = coords.${P[A-2]};\n            coords.${P[A-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${I}), 0., 0., 0.);\n\n            ${I[A-1]} = ${I[A-1]} + 1;\n            if (${I[A-1]} < ${S[A-1]}) {\n              result.g = getValue(${I});\n            }\n\n            ${I[A-2]} = ${I[A-2]} + 1;\n            if (${I[A-2]} < ${S[A-2]}) {\n              result.a = getValue(${I});\n            }\n\n            ${I[A-1]} = ${I[A-1]} - 1;\n            if (${I[A-2]} < ${S[A-2]} &&\n                ${I[A-1]} < ${S[A-1]}) {\n              result.b = getValue(${I});\n            }\n            ${Z.output} = result;\n          }\n        `;return Object.assign(Object.assign({},f),{output:{dims:S,type:m[0].type,textureType:w.TextureType.packed},shaderSource:pe,hasMain:!0})})(v,s,p,c.axis)})};const b=(v,p,c)=>{const s=v.indexOf(p);return v.map((o,u)=>u===s?`${o} - ${c}`:o).join()}},2069:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseConcatAttributes=_.concat=void 0;const x=O(246),w=O(2039),T=O(1163);_.concat=(o,u,l)=>(s(u),o.session.pack&&u[0].dims.length>1?[o.run(T.createPackedConcatProgramInfoLoader(o,u,l),u)]:[o.run(g(o,u,l),u)]);const g=(o,u,l)=>{const f=(m=u.length,D=l.cacheKey,{name:"Concat",inputNames:Array.from({length:m},(E,S)=>`X${S}`),inputTypes:Array(m).fill(w.TextureType.unpacked),cacheHint:D});var m,D;return Object.assign(Object.assign({},f),{get:()=>((E,S,A,I)=>{const k=A[0].dims.slice();if(I>=k.length||I<-1*k.length)throw new Error("axis specified for concat doesn't match input dimensionality");I<0&&(I=k.length+I);const L=k.slice(0);for(let G=1;G<A.length;G++){const ne=A[G].dims.slice();for(let se=0;se<k.length;se++)if(se===I)L[I]+=ne[se];else if(k[se]!==ne[se])throw new Error("non concat dimensions must match")}const R=L.length,P=new Array(A.length);let j=0;for(let G=0;G<P.length;++G)j+=A[G].dims[I],P[G]=j;let z="";z=A.length<5?b(P):v(P);const J=`\n        ${p(A.length,R)}\n        ${c(P)}\n        ${z}\n        float process(int indices[${R}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${I}]);\n\n          if(textureIndex != 0) {\n            indices[${I}] = indices[${I}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return Object.assign(Object.assign({},S),{output:{dims:L,type:A[0].type,textureType:w.TextureType.unpacked},shaderSource:J})})(0,f,u,l.axis)})},b=o=>`int getTextureWhereDataResides(int index) {\n      ${o.map((u,l)=>`if(index<${u}) {return ${l};}\n`).join("")}\n    }`,v=o=>b(o),p=(o,u)=>{const l=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${u}]) {`];for(let f=0;f<o;++f)l.push(0===f?`\tif (textureIndex == ${f}) { return _X${f}(indices); }`:f===o-1?`\telse { return _X${f}(indices); }`:`\telse if (textureIndex == ${f}) { return _X${f}(indices); }`);return l.push("\t}"),l.join("\n")},c=o=>{const u=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let l=0;l<o.length;++l)u.push(0===l?`\tif (index == ${l}) { return ${o[l]}; }`:l===o.length-1?`\telse { return ${o[l]}; }`:`\telse if (index == ${l}) { return ${o[l]}; }`);return u.push("\t}"),u.join("\n")};_.parseConcatAttributes=o=>x.createAttributeWithCacheKey({axis:o.attributes.getInt("axis")});const s=o=>{if(!o||o.length<1)throw new Error("too few inputs");const u=o[0].type,l=o[0].dims.length;if("string"===u)throw new Error("string tensor is not supported yet");for(const f of o){if(f.type!==u)throw new Error("input tensors should be one type");if(f.dims.length!==l)throw new Error("input tensors should have the same shape")}}},4770:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createUnpackedGroupedConvProgramInfoLoader=void 0;const x=O(6231),w=O(5060),T=O(2039),g=O(8138),b=O(2823);_.createUnpackedGroupedConvProgramInfoLoader=(v,p,c)=>{const s={name:"GroupedConv",inputNames:(o=p.length>2)?["X","W","Bias"]:["X","W"],inputTypes:o?[T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked]:[T.TextureType.unpacked,T.TextureType.unpacked],cacheHint:c.cacheKey};var o;return Object.assign(Object.assign({},s),{get:()=>((l,f,m,D)=>{const E=f.length>2?"value += getBias(output_channel);":"",S=f[0].dims.slice(),A=f[1].dims.slice(),I=A[0]/D.group;x.Logger.verbose("GroupedConv",`autpPad:${D.autoPad}, dilations:${D.dilations}, group:${D.group}, kernelShape:${D.kernelShape}, pads:${D.pads}, strides:${D.strides}`);const k=g.calculateOutputShape(S,A,D.dilations,D.pads,D.strides),L=w.getGlsl(l.session.backend.glContext.version),{activationFunction:R,applyActivation:P}=b.getActicationSnippet(D),j=`\n  const ivec2 strides = ivec2(${D.strides[0]}, ${D.strides[1]});\n  const ivec2 pads = ivec2(${D.pads[0]}, ${D.pads[1]});\n  ${R}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${I};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${A[1]}; wInChannel++) {\n      int input_channel = group_id * ${A[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${A[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${D.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${S[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${A[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${D.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${S[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${E}\n    ${P}\n    ${L.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},m),{output:{dims:k,type:f[0].type,textureType:T.TextureType.unpacked},shaderSource:j,hasMain:!0})})(v,p,s,c)})}},1386:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.conv2DPacked=_.conv2DPackedPointwise=void 0;const x=O(8138),w=O(8555),T=O(708);_.conv2DPackedPointwise=(g,b,v)=>{const p=b[0].dims,c=b[1].dims,s=x.calculateOutputShape(p,c,v.dilations,v.pads,v.strides),o=g.reshapePacked(b[0],[p[1],p[2]*p[3]]),u=g.reshapePacked(b[1],[c[0],c[1]]),l=b.length>2?[u,o,b[2]]:[u,o],f=g.run(T.createPackedMatmulProgramInfoLoader(g,l,v),l);return g.reshapePacked(f,s)},_.conv2DPacked=(g,b,v)=>{const c=b[1].dims,s=x.calculateOutputShape(b[0].dims,c,v.dilations,v.pads,v.strides),o=g.run(w.createPackedIm2ColProgramInfoLoader(g,b[0],b[1],s,v),[b[0]]),u=g.reshapePacked(b[1],[c[0],c[1]*c[2]*c[3]]),l=3===b.length?[u,o,b[2]]:[u,o],f=g.run(T.createPackedMatmulProgramInfoLoader(g,l,v),l);return g.reshapePacked(f,s)}},8138:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseConvAttributes=_.conv=_.calculateOutputShape=void 0;const x=O(246),w=O(2517),T=O(4770),g=O(1386),b=O(9828),v=O(2823),p=O(3248),c=O(5623);_.calculateOutputShape=(m,D,E,S,A)=>{const I=m[0],k=m.slice(2),L=k.length,R=D[0],P=D.slice(2).map((z,J)=>z+(z-1)*(E[J]-1)),j=k.map((z,J)=>z+S[J]+S[J+L]).map((z,J)=>Math.floor((z-P[J]+A[J])/A[J]));return[I,R].concat(...j)},_.conv=(m,D,E)=>(f(D,E),s(m,D,E));const s=(m,D,E)=>{const S=l(E,D),A=m.session.pack,I=1===S.kernelShape[0]&&1===S.kernelShape[1];return S.group>1?[m.run(T.createUnpackedGroupedConvProgramInfoLoader(m,D,S),D)]:I&&A?[o(m,D,S)]:A&&4===D[0].dims.length&&1===D[0].dims[0]&&!I?[g.conv2DPacked(m,D,S)]:[u(m,D,S)]},o=(m,D,E)=>{const S=D[0].dims,A=D[1].dims,I=_.calculateOutputShape(S,A,E.dilations,E.pads,E.strides),k=m.reshapeUnpacked(D[0],[S[1],S[2]*S[3]]),L=m.reshapeUnpacked(D[1],[A[0],A[1]]),R=D.length>2?[L,k,D[2]]:[L,k],P=m.run(c.createMatmulProgramInfoLoader(R,E),R);return m.reshapeUnpacked(P,I)},u=(m,D,E)=>{const I=_.calculateOutputShape(D[0].dims,D[1].dims,E.dilations,E.pads,E.strides),k=m.run(p.createIm2ColProgramInfoLoader(m,D[0],D[1],I,E),[D[0]]),L=3===D.length?[k,D[1],D[2]]:[k,D[1]];return m.run(b.createDotProductProgramInfoLoader(m,D,I,E),L)},l=(m,D)=>{const E=m.kernelShape.slice();if(0===m.kernelShape.length)for(let I=2;I<D[1].dims.length;++I)E.push(D[1].dims[I]);const S=m.pads.slice();w.PoolConvUtil.adjustPadsBasedOnAutoPad(D[0].dims,m.strides,m.dilations,E,S,m.autoPad);const A=Object.assign({},m);return Object.assign(A,{kernelShape:E,pads:S,cacheKey:m.cacheKey}),A};_.parseConvAttributes=m=>{const D=m.attributes,E=v.parseInternalActivationAttributes(D),S=D.getString("auto_pad","NOTSET"),A=D.getInts("dilations",[1,1]),I=D.getInt("group",1),k=D.getInts("kernel_shape",[]),L=D.getInts("pads",[0,0,0,0]),R=D.getInts("strides",[1,1]);return x.createAttributeWithCacheKey(Object.assign({autoPad:S,dilations:A,group:I,kernelShape:k,pads:L,strides:R},E))};const f=(m,D)=>{if(!m||2!==m.length&&3!==m.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==m[0].dims.length||4!==m[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(m[0].dims[1]!==m[1].dims[1]*D.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===m.length&&(1!==m[2].dims.length||m[1].dims[0]!==m[2].dims[0]))throw new Error("invalid bias");const E=m[0].dims.length-2;if(D.dilations.length!==E)throw new Error(`dilations should be ${E}D`);if(D.strides.length!==E)throw new Error(`strides should be ${E}D`);if(D.pads.length!==2*E)throw new Error(`pads should be ${2*E}D`);if(0!==D.kernelShape.length&&D.kernelShape.length!==m[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==m[0].type||"float32"!==m[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===m.length&&"float32"!==m[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseDepthToSpaceAttributes=_.depthToSpace=void 0;const x=O(3738);_.depthToSpace=(T,g,b)=>{w(g);const v=b.blocksize,p=v*v,c="DCR"===b.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],o=T.reshapeUnpacked(g[0],"DCR"===b.mode?[g[0].dims[0],v,v,g[0].dims[1]/p,g[0].dims[2],g[0].dims[3]]:[g[0].dims[0],g[0].dims[1]/p,v,v,g[0].dims[2],g[0].dims[3]]),u={perm:c,cacheKey:`${c}`},[l]=x.transpose(T,[o],u);return[T.reshapeUnpacked(l,[g[0].dims[0],g[0].dims[1]/p,g[0].dims[2]*v,g[0].dims[3]*v])]},_.parseDepthToSpaceAttributes=T=>{const g=T.attributes.getInt("blocksize");if(g<1)throw new Error(`blocksize must be >= 1, but got : ${g} for DepthToSpace`);const b=T.attributes.getString("mode","DCR");if("DCR"!==b&&"CRD"!==b)throw new Error(`unrecognized mode: ${b} for DepthToSpace`);return{mode:b,blocksize:g}};const w=T=>{if(1!==T.length)throw new Error(`DepthToSpace expect 1 inputs, but got ${T.length}`);if("string"===T[0].type||4!==T[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createDotProductProgramInfoLoader=void 0;const x=O(2517),w=O(5060),T=O(2039),g=O(2823),b=O(3248);_.createDotProductProgramInfoLoader=(v,p,c,s)=>{const o={name:"ConvDotProduct",inputNames:(u=p.length>2)?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:u?[T.TextureType.unpacked,T.TextureType.packedLastDimension,T.TextureType.unpacked]:[T.TextureType.unpacked,T.TextureType.packedLastDimension],cacheKey:s.activationCacheKey};var u;return Object.assign(Object.assign({},o),{get:()=>((u,l,f,m,D)=>{const E=f[0].dims,S=f[1].dims,A=[S[0],Math.ceil(E[1]*S[2]*S[3]/4)],I=b.calculateIm2ColDims(E,S,m),[k,L]=u.calculateTextureWidthAndHeight(A,T.TextureType.packedLastDimension),R=x.ShapeUtil.computeStrides(I),[P,j]=u.calculateTextureWidthAndHeight(I,T.TextureType.packedLastDimension),z=m.length,J=f.length<3?"0.0":"_B(b)",G=Math.ceil(E[1]*S[2]*S[3]/4),{activationFunction:ne,applyActivation:se}=g.getActicationSnippet(D),q=w.getGlsl(u.session.backend.glContext.version),Z=`\n${ne}\nfloat process(int indices[${z}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${R[0]} + im2col[1] * ${R[1]} + im2col[2] * ${R[2]};\n  int kernelOffset = indices[1] * ${A[1]};\n  float value = ${J};\n  for (int i = 0; i < ${G}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${P}, ${j});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${k}, ${L});\n    value += dot(${q.texture2D}(Im2Col, im2colCoords), ${q.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${se}\n  return value;\n}`;return Object.assign(Object.assign({},l),{output:{dims:m,type:f[0].type,textureType:T.TextureType.unpacked},shaderSource:Z})})(v,o,p,c,s)})}},7992:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseFlattenAttributes=_.flatten=void 0;const x=O(2517);_.flatten=(T,g,b)=>{w(g,b);const v=x.ShapeUtil.flattenShape(g[0].dims,b);return[T.reshapeUnpacked(g[0],v)]},_.parseFlattenAttributes=T=>T.attributes.getInt("axis",1);const w=(T,g)=>{if(!T||1!==T.length)throw new Error("Flatten requires 1 input.");const b=T[0].dims.length;if(0===b)throw new Error("scalar tensor is not supported.");if(g<-b||g>b)throw new Error("Invalid axis");if("string"===T[0].type)throw new Error("string tensor is not supported.")}},2823:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseInternalActivationAttributes=_.getActicationSnippet=void 0;const x=O(2517),w=O(4909);_.getActicationSnippet=function(T){let g;switch(T.activation){case"Relu":g=w.glslRelu();break;case"Sigmoid":g=w.glslSigmoid();break;case"Clip":g=w.glslClip(T.clipMin,T.clipMax);break;default:return{activationFunction:"",applyActivation:""}}return{activationFunction:g.body,applyActivation:`value = ${g.name}_(value);`}},_.parseInternalActivationAttributes=T=>{const g=T.getString("activation","");if("Clip"===g){const[b,v]=T.getFloats("activation_params",[x.MIN_CLIP,x.MAX_CLIP]);return{activation:g,clipMax:v,clipMin:b,activationCacheKey:`${g}:${b},${v}`}}return{activation:g,activationCacheKey:g}}},1253:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseGatherAttributes=_.gather=void 0;const x=O(246),w=O(782),T=O(2517),g=O(2039);_.gather=(c,s,o)=>(p(s,o.axis),[c.run(v(c,s,o),s)]),_.parseGatherAttributes=c=>x.createAttributeWithCacheKey({axis:c.attributes.getInt("axis",0)});const b={name:"Gather",inputNames:["A","B"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked]},v=(c,s,o)=>{const u=Object.assign(Object.assign({},b),{cacheHint:o.cacheKey});return Object.assign(Object.assign({},u),{get:()=>((l,f,m,D)=>{const E=m[0].dims.slice(),S=m[1].dims.slice(),A=new Array(E.length+S.length-1);D=T.ShapeUtil.normalizeAxis(D,E.length);const I=[];for(let L=0;L<A.length;L++)L<D?(A[L]=E[L],I.push(`inputIdx[${L}] = outputIdx[${L}];`)):L<D+S.length?(A[L]=S[L-D],I.push(`indexDataIdx[${L-D}] = outputIdx[${L}];`)):(A[L]=E[L-S.length+1],I.push(`inputIdx[${L-S.length+1}] = outputIdx[${L}];`));const k=`\n      float process(int outputIdx[${A.length||1}]) {\n        int inputIdx[${E.length}];\n        int indexDataIdx[${S.length||1}];\n        indexDataIdx[0] = 0;\n        ${I.join("\n        ")}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${D}] = idx < 0 ? idx + ${E[D]} : idx;\n        return _A(inputIdx);\n      }`;return Object.assign(Object.assign({},f),{output:{dims:A,type:m[0].type,textureType:g.TextureType.unpacked},shaderSource:k})})(0,u,s,o.axis)})},p=(c,s)=>{if(!c||2!==c.length)throw new Error("Gather requires 2 inputs.");const o=c[0].dims.length;if(o<1)throw new Error("Invalid input shape.");if(s<-o||s>o-1)throw new Error("Invalid axis.");if(-1===w.NUMBER_TYPES.indexOf(c[0].type))throw new Error("Invaid input type.");if("int32"!==c[1].type&&"int16"!==c[1].type)throw new Error("Invaid input type.")}},4776:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseGemmAttributesV11=_.parseGemmAttributesV7=_.gemm=void 0;const x=O(246),w=O(2517),T=O(2039);_.gemm=(c,s,o)=>(p(s,o),[c.run(b(s,o),s)]);const g=(c,s)=>{const o=0!==c.attributes.getInt("transA",0),u=0!==c.attributes.getInt("transB",0),l=c.attributes.getFloat("alpha",1),f=c.attributes.getFloat("beta",1);return x.createAttributeWithCacheKey({transA:o,transB:u,alpha:l,beta:f,isOptionalC:s})};_.parseGemmAttributesV7=c=>g(c,!1),_.parseGemmAttributesV11=c=>g(c,!0);const b=(c,s)=>{const o={name:"Gemm",inputNames:3===c.length?["A","B","C"]:["A","B"],inputTypes:3===c.length?[T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked]:[T.TextureType.unpacked,T.TextureType.unpacked],key:s.cacheKey};return Object.assign(Object.assign({},o),{get:()=>v(o,c,s)})},v=(c,s,o)=>{const u=s[0].dims.slice(),l=s[1].dims.slice(),[f,m]=w.GemmUtil.getShapeOfGemmResult(u,o.transA,l,o.transB,3===s.length?s[2].dims:void 0),D=[f,m];if(!D)throw new Error("Can't use gemm on the given tensors");let E=u[u.length-1],S="";o.transA&&(E=u[0]),o.transA&&o.transB?S="value += _A_T(a) * _B_T(b);":o.transA&&!o.transB?S="value += _A_T(a) * _B(b);":!o.transA&&o.transB?S="value += _A(a) * _B_T(b);":o.transA||o.transB||(S="value += _A(a) * _B(b);");const A=D.length,I=`\n      float process(int indices[${A}]) {\n          int a[${A}];\n          int b[${A}];\n          ${3===s.length?`int c[${s[2].dims.length}];`:""}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${3===s.length?"bcastIndices_C(indices, c);":""}\n\n          float value = 0.0;\n          for (int k=0; k<${E}; ++k) {\n              a[${A-1}] = k;\n              b[${A-2}] = k;\n              ${S}\n          }\n\n          value = value * alpha;\n          ${3===s.length?"value += beta * _C(c);":""}\n          return value;\n      }`;return Object.assign(Object.assign({},c),{output:{dims:D,type:s[0].type,textureType:T.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:o.alpha},{name:"beta",type:"float",data:o.beta}],shaderSource:I})},p=(c,s)=>{if(!c)throw new Error("Input is missing");if(s.isOptionalC&&(c.length<2||c.length>3))throw new Error("Invaid input shape.");if(!s.isOptionalC&&3!==c.length)throw new Error("Gemm requires 3 inputs");if(3===c.length&&1!==c[2].dims.length&&2!==c[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==c[0].type&&"float64"!==c[0].type||"float32"!==c[1].type&&"float64"!==c[1].type||3===c.length&&"float32"!==c[2].type&&"float64"!==c[2].type)throw new Error("Invalid input type.");if(c[0].type!==c[1].type||3===c.length&&c[0].type!==c[2].type)throw new Error("Input types are mismatched")}},8555:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createPackedIm2ColProgramInfoLoader=void 0;const x=O(5060),w=O(2039),T=O(2827);_.createPackedIm2ColProgramInfoLoader=(g,b,v,p,c)=>{const s={name:"Im2Col (packed)",inputNames:["A"],inputTypes:[w.TextureType.packed],cacheHint:c.cacheKey};return Object.assign(Object.assign({},s),{get:()=>((u,l,f,m,D,E)=>{const S=f.dims,A=m.dims,I=D.length,k=[A[1]*A[2]*A[3],D[2]*D[3]],L=A[2]*A[3],R=T.unpackFromChannel(),P=x.getGlsl(u.session.backend.glContext.version);let j="";for(let J=0;J<=1;J++)for(let G=0;G<=1;G++)j+=`\n            blockIndex = rc.x + ${G};\n            pos = rc.y + ${J};\n\n            if(blockIndex < ${k[1]} && pos < ${k[0]}) {\n              offsetY = int(blockIndex / (${D[I-1]})) * ${E.strides[0]} -\n                ${E.pads[0]};\n              d0 = offsetY + ${E.dilations[0]} * (imod(pos, ${L}) / ${A[2]});\n\n              if(d0 < ${S[2]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${D[I-1]}) * ${E.strides[1]} -\n                  ${E.pads[1]};\n                d1 = offsetX + ${E.dilations[1]} * imod(imod(pos, ${L}), ${A[2]});\n\n                if(d1 < ${S[3]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${L}.);\n                    innerDims = vec2(d0, d1);\n                    result[${2*J+G}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;const z=`\n      ${R}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${j}\n          ${P.output} = result;\n      }\n            `;return Object.assign(Object.assign({},l),{output:{dims:k,type:f.type,textureType:w.TextureType.packed},shaderSource:z,hasMain:!0})})(g,s,b,v,p,c)})}},3248:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.calculateIm2ColDims=_.createIm2ColProgramInfoLoader=void 0;const x=O(2039);_.createIm2ColProgramInfoLoader=(w,T,g,b,v)=>{const p={name:"Im2Col",inputNames:["X"],inputTypes:[x.TextureType.unpacked],cacheHint:v.cacheKey};return Object.assign(Object.assign({},p),{get:()=>((s,o,u,l,f,m)=>{const D=u.dims,S=f.length,A=_.calculateIm2ColDims(D,l.dims,f,4),I=`\n        const int XC = ${D[1]};\n        const int XH = ${D[2]};\n        const int XW = ${D[3]};\n        const int KH = ${m.kernelShape[0]};\n        const int KW = ${m.kernelShape[1]};\n        const int dilationH = ${m.dilations[0]};\n        const int dilationW = ${m.dilations[1]};\n        const int strideH = ${m.strides[0]};\n        const int strideW = ${m.strides[1]};\n        const int padH = ${m.pads[0]};\n        const int padW = ${m.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${S}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${D.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return Object.assign(Object.assign({},o),{output:{dims:A,type:u.type,textureType:x.TextureType.packedLastDimension},shaderSource:I})})(0,p,T,g,b,v)})},_.calculateIm2ColDims=(w,T,g,b=4)=>[g[0],g[2],g[3],Math.ceil(w[1]*T[2]*T[3]/b)]},6572:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseImageScalerAttributes=_.imageScaler=void 0;const x=O(246),w=O(2039);_.imageScaler=(p,c,s)=>(v(c),[p.run(g(p,c,s),c)]),_.parseImageScalerAttributes=p=>{const c=p.attributes.getFloat("scale"),s=p.attributes.getFloats("bias");return x.createAttributeWithCacheKey({scale:c,bias:s})};const T={name:"ImageScaler",inputNames:["X"],inputTypes:[w.TextureType.unpacked]},g=(p,c,s)=>{const o=Object.assign(Object.assign({},T),{cacheHint:s.cacheKey});return Object.assign(Object.assign({},o),{get:()=>((u,l,f,m)=>{const D=f[0].dims.slice(),E=D.length,S=`\n      ${b(m.bias.length)}\n      float process(int indices[${E}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return Object.assign(Object.assign({},l),{output:{dims:D,type:f[0].type,textureType:w.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:m.bias.length,data:m.bias},{name:"scale",type:"float",data:m.scale}],shaderSource:S})})(0,o,c,s)})},b=p=>{const c=[`float getBias(float bias[${p}], int channel) {`];for(let s=0;s<p;++s)c.push(0===s?`\tif (channel == ${s}) { return bias[${s}]; }`:s===p-1?`\telse { return bias[${s}]; }`:`\telse if (channel == ${s}) { return bias[${s}]; }`);return c.push("\t}"),c.join("\n")},v=p=>{if(!p||1!==p.length)throw new Error("ImageScaler requires 1 input.");if(4!==p[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==p[0].type&&"float64"!==p[0].type)throw new Error("Invalid input type.")}},3346:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseInstanceNormalizationAttributes=_.instanceNormalization=void 0;const x=O(5060),w=O(2039);_.instanceNormalization=(c,s,o)=>{p(s);const u=c.run(g(s[0]),s);return[c.run(v(c,s[0],o,u.dims),[s[0],u,s[1],s[2]])]},_.parseInstanceNormalizationAttributes=c=>c.attributes.getFloat("epsilon",1e-5);const T={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[w.TextureType.unpacked]},g=c=>Object.assign(Object.assign({},T),{get:()=>((s,o)=>{const u=o.dims.slice(),f=u[2]*u[3],m=[u[0],u[1]],D=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${u[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${u[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${f});\n        temp = 0.0;\n        for(int a2=0; a2<${u[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${u[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${f});\n\n        return v;\n      }`;return Object.assign(Object.assign({},s),{output:{dims:m,type:o.type,textureType:w.TextureType.packedLastDimension},shaderSource:D})})(T,c)}),b={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[w.TextureType.unpacked,w.TextureType.packedLastDimension,w.TextureType.unpacked,w.TextureType.unpacked]},v=(c,s,o,u)=>{const l=Object.assign(Object.assign({},b),{cacheHint:`${o}`});return Object.assign(Object.assign({},l),{get:()=>((f,m,D,E,S)=>{const A=x.getGlsl(f.session.backend.glContext.version),[I,k]=f.calculateTextureWidthAndHeight(S,w.TextureType.packedLastDimension),[L,R]=[I/4,k],P=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${L}, ${R});\n        return ${A.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return Object.assign(Object.assign({},m),{output:{dims:D.dims,type:D.type,textureType:w.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:E}],shaderSource:P})})(c,l,s,o,u)})},p=c=>{if(!c||3!==c.length)throw new Error("InstanceNormalization requires 3 inputs.");const s=c[0],o=c[1],u=c[2];if(s.dims.length<3||1!==o.dims.length||1!==u.dims.length)throw new Error("Invalid input shape.");if(o.dims[0]!==s.dims[1]||u.dims[0]!==s.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==s.type&&"float64"!==s.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==u.type&&"float64"!==u.type)throw new Error("Invalid input type.");if(4!==c[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createPackedMatmulProgramInfoLoader=void 0;const x=O(2517),w=O(2517),T=O(5060),g=O(2039),b=O(9390),v=O(2823),p=O(5623);_.createPackedMatmulProgramInfoLoader=(c,s,o)=>{const u={name:"MatMul (packed)",inputNames:(l=s.length>2)?["A","B","Bias"]:["A","B"],inputTypes:l?[g.TextureType.packed,g.TextureType.packed,g.TextureType.packed]:[g.TextureType.packed,g.TextureType.packed],cacheHint:o.activationCacheKey};var l;return Object.assign(Object.assign({},u),{get:()=>((m,D,E,S)=>{const A=E.length>2,I=A?"value += getBiasForMatmul();":"",k=E[0].dims,L=E[1].dims,R=x.BroadcastUtil.calcShape(k,L,!0),P=!w.ShapeUtil.areEqual(E[0].dims,E[1].dims);if(!R)throw new Error("Can't use matmul on the given tensors");const z=Math.ceil(k[k.length-1]/2),J=k.length,G=L.length,ne=T.getGlsl(m.session.backend.glContext.version),se=b.getCoordsDataType(R.length),q=R.length,Z=b.getGlChannels(),{activationFunction:pe,applyActivation:ie}=v.getActicationSnippet(S),_e=A?`${p.getBiasForMatmul(se,Z,E[2].dims,R,!0)}`:"",Ke=P?`${function(ze,nt,Ce,je){let hn=[],Fe=[];const wt=Ce[0].dims,Zt=Ce[1].dims,pn=wt.length,gt=Zt.length,Ut=je.length,Ht=Ut-pn,Hn=Ut-gt;hn=wt.map((Qt,xr)=>`coords.${nt[xr+Ht]}`),hn[pn-1]="i*2",hn.join(", "),Fe=Zt.map((Qt,xr)=>`coords.${nt[xr+Hn]}`),Fe[gt-2]="i*2",Fe.join(", ");const wr=x.BroadcastUtil.getBroadcastDims(wt,je),fo=x.BroadcastUtil.getBroadcastDims(Zt,je),Gn=wr.map(Qt=>`coords.${nt[Qt+Ht]} = 0;`).join("\n"),ho=fo.map(Qt=>`coords.${nt[Qt+Hn]} = 0;`).join("\n"),Dr=`int lastDim = coords.${nt[Ut-1]};\n  coords.${nt[Ut-1]} = coords.${nt[Ut-2]};\n  coords.${nt[Ut-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${ze} coords = getOutputCoords();\n  ${Dr}\n  ${Gn}\n  vec4 outputValue = getA(${hn});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${ze} coords = getOutputCoords();\n  ${Dr}\n  ${ho}\n  vec4 outputValue = getB(${Fe});\n  return outputValue;\n}`}(se,Z,E,R)}`:"",Re=P?"getAAtOutCoordsMatmul(i)":`getA(${function(ze,nt){let Ce="";for(let je=0;je<nt-2;je++)Ce+=`rc.${ze[je]}, `;return Ce+=`rc.${ze[nt-2]}, i*2`,Ce}(Z,J)})`,lt=P?"getBAtOutCoordsMatmul(i)":`getB(${function(ze,nt){let Ce="";for(let je=0;je<nt-2;je++)Ce+=`rc.${ze[je]}, `;return Ce+=`i*2, rc.${ze[nt-1]}`,Ce}(Z,G)})`,$e=`\n            ${Ke}\n            ${_e}\n            ${pe}\n            void main() {\n              ${P?"":`${se} rc =\n          getOutputCoords(); int lastDim = rc.${Z[q-1]}; rc.${Z[q-1]} =\n          rc.${Z[q-2]}; rc.${Z[q-2]} = lastDim;\n      `}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${z}; i++) {\n                vec4 a = ${Re};\n                vec4 b = ${lt};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${I}\n              ${ie}\n              ${ne.output} = value;\n            }`;return Object.assign(Object.assign({},D),{output:{dims:R,type:E[0].type,textureType:g.TextureType.packed},shaderSource:$e,hasMain:!0})})(c,u,s,o)})}},5623:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.getBiasForMatmul=_.createMatmulProgramInfoLoader=_.parseMatMulAttributes=_.matMul=void 0;const x=O(2517),w=O(2039),T=O(9390),g=O(2823),b=O(708);function v(s,o){const u={name:"MatMul",inputNames:(l=s.length>2)?["A","B","Bias"]:["A","B"],inputTypes:l?[w.TextureType.unpacked,w.TextureType.unpacked,w.TextureType.unpacked]:[w.TextureType.unpacked,w.TextureType.unpacked],cacheHint:o.activationCacheKey};var l;return Object.assign(Object.assign({},u),{get:()=>function(m,D,E){const S=D[0].dims,A=D[1].dims,I=x.BroadcastUtil.calcShape(S,A,!0);if(!I)throw new Error("Can't use matmul on the given tensors");const k=T.getCoordsDataType(I.length),L=T.getGlChannels(),{activationFunction:R,applyActivation:P}=g.getActicationSnippet(E),j=D.length>2,z=j?"value += getBiasForMatmul();":"",J=j?`${c(k,L,D[2].dims,I,!1)}`:"",ne=S.length,se=A.length,q=`\n    ${R}\n    ${J}\n    float process(int indices[${I.length}]) {\n        int a[${ne}];\n        int b[${se}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${S[S.length-1]}; ++k) {\n            a[${ne-1}] = k;\n            b[${se-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${z}\n        ${P}\n        return value;\n    }`;return Object.assign(Object.assign({},m),{output:{dims:I,type:D[0].type,textureType:w.TextureType.unpacked},shaderSource:q})}(u,s,o)})}_.matMul=(s,o,u)=>(p(o),s.session.pack?[s.run(b.createPackedMatmulProgramInfoLoader(s,o,u),o)]:[s.run(v(o,u),o)]),_.parseMatMulAttributes=s=>g.parseInternalActivationAttributes(s.attributes),_.createMatmulProgramInfoLoader=v;const p=s=>{if(!s||2!==s.length)throw new Error("MatMul requires 2 inputs.");if(s[0].dims[s[0].dims.length-1]!==s[1].dims[s[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==s[0].type&&"float64"!==s[0].type||"float32"!==s[1].type&&"float64"!==s[1].type)throw new Error("inputs should be float type");if(s[0].type!==s[1].type)throw new Error("inputs types should match")};function c(s,o,u,l,f){let m="";const D=u.length,E=l.length,S=E-D;m=E<2&&D>0?"coords":u.map((k,L)=>`coords.${o[L+S]}`).join(", ");const A=x.BroadcastUtil.getBroadcastDims(u,l).map(k=>`coords.${o[k+S]} = 0;`).join("\n");let I="vec4(outputValue.xx, outputValue.yy)";return 1===x.ShapeUtil.size(u)&&(I="vec4(outputValue.x)"),f?`\nvec4 getBiasForMatmul() {\n  ${s} coords = getOutputCoords();\n  ${A}\n  vec4 outputValue = getBias(${m});\n  return ${I};\n}`:`\nfloat getBiasForMatmul() {\n  ${s} coords = getOutputCoords();\n  ${A}\n  return getBias(coords.x);\n}`}_.getBiasForMatmul=c},2403:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createPackProgramInfoLoader=void 0;const x=O(5060),w=O(2039),T=O(9390),g=O(2827),b={name:"pack",inputNames:["A"],inputTypes:[w.TextureType.unpackedReversed]};_.createPackProgramInfoLoader=(v,p)=>Object.assign(Object.assign({},b),{get:()=>((c,s)=>{const o=x.getGlsl(c.session.backend.glContext.version),u=s.dims,l=u.length,f=s.dims.length,m=T.getCoordsDataType(f),D=g.getChannels("rc",f),E=(A=D,0===(S=f)||1===S?"":`\n    int r = ${A[S-2]};\n    int c = ${A[S-1]};\n    int rp1 = ${A[S-2]} + 1;\n    int cp1 = ${A[S-1]} + 1;\n    bool rEdge = rp1 >= ${u[u.length-1]};\n    bool cEdge = cp1 >= ${u[u.length-2]};\n    `);var S,A;let L;L=0===l?[1,1]:1===l?[u[0],1]:[u[f-1],u[f-2]];const R=function(z,J,G){if(0===z)return"false";if(1===z)return`rc > ${J[0]}`;let ne="";for(let se=z-2;se<z;se++)ne+=`${G[se]} >= ${J[se-z+2]}`,se<z-1&&(ne+="||");return ne}(f,L,D),P=function(z,J){const G=z.length;if(0===G)return"getA(), 0, 0, 0";if(1===G)return`getA(rc),\n            rc + 1 >= ${z[0]} ? 0. : getA(rc + 1),\n            0, 0`;let ne="";if(G>2)for(let se=0;se<G-2;++se)ne+=`${J[se]},`;return`getA(${ne}r, c),\n          rEdge ? 0. : getA(${ne}rp1, c),\n          cEdge ? 0. : getA(${ne}r, cp1),\n          rEdge || cEdge ? 0. : getA(${ne}rp1, cp1)`}(u,D),j=`\n        void main() {\n          ${m} rc = getOutputCoords();\n\n          if(${R}) {\n            ${o.output} = vec4(0);\n          } else {\n            ${E}\n\n            ${o.output} = vec4(${P});\n          }\n        }\n      `;return Object.assign(Object.assign({},b),{hasMain:!0,output:{dims:s.dims,type:s.type,textureType:w.TextureType.packed},shaderSource:j})})(v,p)})},2827:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.unpackFromChannel=_.getChannels=_.getVecChannels=void 0;const x=O(9390);function w(T,g){return x.getGlChannels(g).map(b=>`${T}.${b}`)}_.getVecChannels=w,_.getChannels=function(T,g){return 1===g?[T]:w(T,g)},_.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parsePadAttributesV11=_.padV11=_.parsePadAttributesV2=_.padV2=void 0;const x=O(246),w=O(2517),T=O(5060),g=O(2039),b={name:"Pad",inputNames:["A"],inputTypes:[g.TextureType.unpacked]};_.padV2=(m,D,E)=>(c(D),[m.run(Object.assign(Object.assign({},b),{cacheHint:E.cacheKey,get:()=>p(m,D[0],E)}),D)]),_.parsePadAttributesV2=m=>{const D=m.attributes.getString("mode","constant"),E=m.attributes.getFloat("value",0),S=m.attributes.getInts("pads");return x.createAttributeWithCacheKey({mode:D,value:E,pads:S})},_.padV11=(m,D,E)=>{s(D);const S=v(m,D,E);return _.padV2(m,[D[0]],S)},_.parsePadAttributesV11=m=>m.attributes.getString("mode","constant");const v=(m,D,E)=>{if(!m.session.isInitializer(D[1].dataId)||D.length>=3&&!m.session.isInitializer(D[2].dataId))throw new Error("dynamic pad attributes are not allowed");const S=Array.from(D[1].integerData);return x.createAttributeWithCacheKey({mode:E,pads:S,value:D.length>=3?D[2].floatData[0]:0})},p=(m,D,E)=>{const S=w.ShapeUtil.padShape(D.dims.slice(),E.pads),A=S.length,I=`\n      ${o(m,D,E)}\n      float process(int[${A}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[g.TextureType.unpacked],output:{dims:S,type:D.type,textureType:g.TextureType.unpacked},shaderSource:I}},c=m=>{if(!m||1!==m.length)throw new Error("Pad requires 1 input");if("float32"!==m[0].type&&"float64"!==m[0].type)throw new Error("Invalid input type.")},s=m=>{if(!m||2!==m.length&&3!==m.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==m[1].type)throw new Error("Invalid input type.");if(m.length>=3&&"string"===m[2].type)throw new Error("Invalid input type.")},o=(m,D,E)=>{const S=T.getGlsl(m.session.backend.glContext.version),[A,I]=m.calculateTextureWidthAndHeight(D.dims,g.TextureType.unpacked),k=w.ShapeUtil.computeStrides(D.dims);switch(E.mode){case"constant":return u(S,D.dims,k,A,I,E.pads,E.value);case"reflect":return l(S,D.dims,k,A,I,E.pads);case"edge":return f(S,D.dims,k,A,I,E.pads);default:throw new Error("Invalid mode")}},u=(m,D,E,S,A,I,k)=>{const L=D.length;let R="";for(let P=L-1;P>=0;--P)R+=`\n        k = m[${P}] - ${I[P]};\n        if (k < 0)  return constant;\n        if (k >= ${D[P]}) return constant;\n        offset += k * ${E[P]};\n        `;return`\n      float padA(int m[${L}]) {\n        const float constant = float(${k});\n        int offset = 0;\n        int k = 0;\n        ${R}\n        vec2 coords = offsetToCoords(offset, ${S}, ${A});\n        float value = getColorAsFloat(${m.texture2D}(A, coords));\n        return value;\n      }\n      `},l=(m,D,E,S,A,I)=>{const k=D.length;let L="";for(let R=k-1;R>=0;--R)L+=`\n        k = m[${R}] - ${I[R]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(D[R]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${D[R]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${E[R]};\n        `;return`\n      float padA(int m[${k}]) {\n        int offset = 0;\n        int k = 0;\n        ${L}\n        vec2 coords = offsetToCoords(offset, ${S}, ${A});\n        float value = getColorAsFloat(${m.texture2D}(A, coords));\n        return value;\n      }\n      `},f=(m,D,E,S,A,I)=>{const k=D.length;let L="";for(let R=k-1;R>=0;--R)L+=`\n        k = m[${R}] - ${I[R]};\n        if (k < 0)  k = 0;\n        if (k >= ${D[R]}) k = ${D[R]-1};\n        offset += k * ${E[R]};\n      `;return`\n      float padA(int m[${k}]) {\n        int offset = 0;\n        int k = 0;\n        ${L}\n        vec2 coords = offsetToCoords(offset, ${S}, ${A});\n        float value = getColorAsFloat(${m.texture2D}(A, coords));\n        return value;\n      }\n      `}},2143:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.globalMaxPool=_.parseMaxPoolAttributes=_.maxPool=_.parseGlobalAveragePoolAttributes=_.globalAveragePool=_.parseAveragePoolAttributes=_.averagePool=void 0;const x=O(246),w=O(2517),T=O(2039);_.averagePool=(f,m,D)=>{s(m);const E={name:"AveragePool",inputNames:["X"],inputTypes:[T.TextureType.unpacked],cacheHint:D.cacheKey};return[f.run(Object.assign(Object.assign({},E),{get:()=>g(m,E,!1,D)}),m)]},_.parseAveragePoolAttributes=f=>{const m=f.attributes.getString("auto_pad","NOTSET"),D=f.attributes.getInt("ceil_mode",0),E=0!==f.attributes.getInt("count_include_pad",0),S=f.attributes.getInts("kernel_shape"),A=f.attributes.getInts("strides",[]),I=f.attributes.getInts("pads",[]);if(0!==D)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return x.createAttributeWithCacheKey({autoPad:m,ceilMode:D,countIncludePad:E,kernelShape:S,strides:A,pads:I})};const g=(f,m,D,E)=>{const[S,A]=v(f,E,D),I=w.ShapeUtil.size(S.kernelShape);let k="";k+=S.countIncludePad?`value /= float(${I});`:`value /= float(${I} - pad);`;const L=`\n        ${o(f[0].dims,S,"value += _X(x);",k,"0.0")}\n      `;return Object.assign(Object.assign({},m),{output:{dims:A,type:f[0].type,textureType:T.TextureType.unpacked},shaderSource:L})};_.globalAveragePool=(f,m,D)=>{s(m);const E={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[T.TextureType.unpacked],cacheHint:`${D.countIncludePad}`};return[f.run(Object.assign(Object.assign({},E),{get:()=>g(m,E,!0,D)}),m)]},_.parseGlobalAveragePoolAttributes=f=>{const m=0!==f.attributes.getInt("count_include_pad",0);return x.createAttributeWithCacheKey({autoPad:"",ceilMode:0,countIncludePad:m,kernelShape:[],strides:[],pads:[]})},_.maxPool=(f,m,D)=>{s(m);const E={name:"MaxPool",inputNames:["X"],inputTypes:[T.TextureType.unpacked],cacheHint:D.cacheKey};return[f.run(Object.assign(Object.assign({},E),{get:()=>b(m,E,!1,D)}),m)]},_.parseMaxPoolAttributes=f=>{const m=f.attributes.getString("auto_pad","NOTSET"),D=f.attributes.getInt("ceil_mode",0),E=f.attributes.getInts("kernel_shape"),S=f.attributes.getInts("strides",[]),A=f.attributes.getInts("pads",[]),I=f.attributes.getInt("storage_order",0),k=f.attributes.getInts("dilations",[]);if(0!==I)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==D)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return x.createAttributeWithCacheKey({autoPad:m,ceilMode:D,countIncludePad:!1,kernelShape:E,strides:S,pads:A,storageOrder:I,dilations:k})};const b=(f,m,D,E)=>{const[S,A]=v(f,E,D),I=`\n      ${o(f[0].dims,S,"\n      value = max(_X(x), value);\n    ","","-1e5")}\n    `;return Object.assign(Object.assign({},m),{output:{dims:A,type:f[0].type,textureType:T.TextureType.unpacked},shaderSource:I})},v=(f,m,D)=>{const E=f[0].dims.slice(),S=Object.hasOwnProperty.call(m,"dilations"),A=m.kernelShape.slice(),I=m.strides.slice(),k=S?m.dilations.slice():[],L=m.pads.slice();w.PoolConvUtil.adjustPoolAttributes(D,E,A,I,k,L);const R=w.PoolConvUtil.computePoolOutputShape(D,E,I,k,A,L,m.autoPad),P=Object.assign({},m);return Object.assign(P,S?{kernelShape:A,strides:I,pads:L,dilations:k,cacheKey:m.cacheKey}:{kernelShape:A,strides:I,pads:L,cacheKey:m.cacheKey}),[P,R]},p={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},c={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[T.TextureType.unpacked]};_.globalMaxPool=(f,m)=>(s(m),[f.run(Object.assign(Object.assign({},c),{get:()=>b(m,c,!0,p)}),m)]);const s=f=>{if(!f||1!==f.length)throw new Error("Pool ops requires 1 input.");if("float32"!==f[0].type&&"float64"!==f[0].type)throw new Error("Invalid input type.")},o=(f,m,D,E,S)=>{const A=f.length;if(m.kernelShape.length<=2){const I=m.kernelShape[m.kernelShape.length-1],k=m.strides[m.strides.length-1],L=m.pads[m.pads.length/2-1],P=f[A-1];let j="",z="",J="";if(j=L+m.pads[m.pads.length-1]!==0?`\n          for (int i = 0; i < ${I}; i++) {\n            x[${A} - 1] = indices[${A} - 1] * ${k} - ${L} + i;\n            if (x[${A} - 1] < 0 || x[${A} - 1] >= ${P}) {\n              pad++;\n              continue;\n            }\n            ${D}\n          }`:`\n          for (int i = 0; i < ${I}; i++) {\n            x[${A} - 1] = indices[${A} - 1] * ${k} - ${L} + i;\n            ${D}\n          }`,2===m.kernelShape.length){const G=m.kernelShape[m.kernelShape.length-2],ne=m.strides[m.strides.length-2],se=m.pads[m.pads.length/2-2],Z=f[A-2];z=se+m.pads[m.pads.length-2]!==0?`\n            for (int j = 0; j < ${G}; j++) {\n              x[${A} - 2] = indices[${A} - 2] * ${ne} - ${se} + j;\n              if (x[${A} - 2] < 0 || x[${A} - 2] >= ${Z}) {\n                pad+= ${I};\n                continue;\n              }\n          `:`\n            for (int j = 0; j < ${G}; j++) {\n              x[${A} - 2] = indices[${A} - 2] * ${ne} - ${se} + j;\n            `,J="\n          }\n        "}return`\n        float process(int indices[${A}]) {\n          int x[${A}];\n          copyVec(indices, x);\n\n          float value = ${S};\n          int pad = 0;\n          ${z}\n          ${j}\n          ${J}\n          ${E}\n          return value;\n        }\n      `}{const I=w.ShapeUtil.size(m.kernelShape),k=w.ShapeUtil.computeStrides(m.kernelShape),L=k.length,R=m.pads.length,P=l(L),j=u(f,"inputDims"),z=u(m.pads,"pads"),J=u(k,"kernelStrides"),G=u(m.strides,"strides");let ne="";return ne=m.pads.reduce((se,q)=>se+q)?`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${D}\n          }`:`\n          }\n          ${D}\n        `,`\n        ${P}\n        float process(int indices[${A}]) {\n          int x[${A}];\n          copyVec(indices, x);\n          int offset[${L}];\n          int pads[${R}];\n          int inputDims[${A}];\n          int kernelStrides[${L}];\n          int strides[${L}];\n          ${z}\n          ${j}\n          ${G}\n          ${J}\n\n          float value = ${S};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${I}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${A} - ${L}; j < ${A}; j++) {\n              x[j] = indices[j] * strides[j - ${A} + ${L}]\n                + offset[j - ${A} + ${L}] - pads[j - 2];\n              ${ne}\n          }\n          ${E}\n\n          return value;\n        }\n      `}},u=(f,m)=>{let D="";for(let E=0;E<f.length;E++)D+=`\n      ${m}[${E}] = ${f[E]};\n    `;return D},l=f=>`\n  void offsetToIndices(int offset, int[${f}] strides, out int[${f}] indices) {\n    if (${f} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${f} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${f} - 1] = offset;\n  }`},4939:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.reduceLogSumSquare=_.reduceLogSum=_.reduceProd=_.reduceMin=_.reduceMax=_.reduceMean=_.reduceSum=_.parseReduceAttributes=void 0;const x=O(246),w=O(782),T=O(2517),g=O(2039),b=(c,s,o,u,l)=>{p(s);const f={name:u,inputNames:["A"],inputTypes:[g.TextureType.unpacked]};return[c.run(Object.assign(Object.assign({},f),{cacheHint:o.cacheKey,get:()=>v(c,s,o,u,l,f)}),s)]};_.parseReduceAttributes=c=>{const s=c.attributes.getInts("axes",[]),o=1===c.attributes.getInt("keepdims",1);return x.createAttributeWithCacheKey({axes:s,keepDims:o})};const v=(c,s,o,u,l,f)=>{const m=[],D=s[0].dims.length||1,E=[],S=T.ShapeUtil.normalizeAxes(o.axes,s[0].dims.length),A=l(s,S);let I=A[1];for(let L=0;L<s[0].dims.length;L++)S.indexOf(L)>=0||0===S.length?(o.keepDims&&m.push(1),I=`\n          for(int j${L} = 0; j${L} < ${s[0].dims[L]}; j${L}++) {\n            inputIdx[${L}] = j${L};\n            ${I}\n          }`):(E.push(`inputIdx[${L}] = outputIdx[${m.length}];`),m.push(s[0].dims[L]));const k=`\n      float process(int outputIdx[${m.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${D}];      // addressing input data\n        ${E.join("\n")}\n        ${A[0]}       // init ops for reduce max/min\n        ${I}\n        ${A[2]}       // final computation for reduce mean\n        return value;\n      }`;return Object.assign(Object.assign({},f),{output:{dims:m,type:s[0].type,textureType:g.TextureType.unpacked},shaderSource:k})},p=c=>{if(!c||1!==c.length)throw new Error("Reduce op requires 1 input.");if(-1===w.NUMBER_TYPES.indexOf(c[0].type))throw new Error("Invalid input type.")};_.reduceSum=(c,s,o)=>b(c,s,o,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),_.reduceMean=(c,s,o)=>b(c,s,o,"ReduceMean",(u,l)=>{let f=1;for(let m=0;m<u[0].dims.length;m++)(l.indexOf(m)>=0||0===l.length)&&(f*=u[0].dims[m]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${f}.;`]}),_.reduceMax=(c,s,o)=>b(c,s,o,"ReduceMax",(u,l)=>{const f=[];for(let m=0;m<u[0].dims.length;m++)(l.indexOf(m)>=0||0===l.length)&&f.push(`inputIdx[${m}] = 0;`);return[`${f.join("\n")}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),_.reduceMin=(c,s,o)=>b(c,s,o,"ReduceMin",(u,l)=>{const f=[];for(let m=0;m<u[0].dims.length;m++)(l.indexOf(m)>=0||0===l.length)&&f.push(`inputIdx[${m}] = 0;`);return[`${f.join("\n")}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),_.reduceProd=(c,s,o)=>b(c,s,o,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),_.reduceLogSum=(c,s,o)=>b(c,s,o,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),_.reduceLogSumSquare=(c,s,o)=>b(c,s,o,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.isReshapeCheap=_.processDims3D=_.createPackedReshape3DProgramInfoLoader=void 0;const x=O(2517),w=O(5060),T=O(2039),g=O(2827);_.createPackedReshape3DProgramInfoLoader=(b,v,p)=>{const c={name:"Reshape (packed)",inputTypes:[T.TextureType.packed],inputNames:["A"],cacheHint:`${p}`};return Object.assign(Object.assign({},c),{get:()=>((s,o,u,l)=>{const f=o.dims,m=l;let D="";for(let A=0;A<4;A++){let I="";switch(A){case 0:I="outputCoords = rc;";break;case 1:I="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:I="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:I="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}D+=`\n        ${I}\n        ${A>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${A}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${A>0?"}":""}\n      `}const E=w.getGlsl(s.session.backend.glContext.version),S=`\n      ${function(A){const I=x.ShapeUtil.computeStrides(A),k=["b","r","c"];return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${I.map((L,R)=>`int ${k[R]} = index / ${L}; ${R===I.length-1?`int ${k[R+1]} = index - ${k[R]} * ${L}`:`index -= ${k[R]} * ${L}`};`).join("")}\n      return ivec3(b, r, c);\n    }\n  `}(f)}\n      ${function(A){const I=x.ShapeUtil.computeStrides(A);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${I[0]} + coords.z * ${I[1]} + coords.y;\n  }\n`}(m)}\n      ${g.unpackFromChannel()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${m[2]};\n        int cols = ${m[1]};\n\n        ${D}\n        ${E.output} = result;\n      }\n    `;return Object.assign(Object.assign({},u),{output:{dims:m,type:o.type,textureType:T.TextureType.packed},shaderSource:S,hasMain:!0})})(b,v,c,p)})},_.processDims3D=function(b){if(0===b.length)return[1,1,1];let v=1;for(let p=0;p<b.length-2;++p)v*=b[p];return[v,b.length>1?b[b.length-2]:1,b[b.length-1]]},_.isReshapeCheap=function(b,v){let p=!1;return p=0===b.length||0===v.length||(b.length<2||v.length<2?b[b.length-1]===v[v.length-1]:b[b.length-1]===v[v.length-1]&&b[b.length-2]===v[v.length-2]),p}},718:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.reshape=void 0;const x=O(2517);_.reshape=(w,T)=>{const g=x.ShapeUtil.calculateReshapedDims(T[0].dims,T[1].integerData);return w.session.pack?[w.reshapePacked(T[0],g)]:[w.reshapeUnpacked(T[0],g)]}},2268:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseResizeAttributesV11=_.parseResizeAttributesV10=_.resize=void 0;const x=O(5060),w=O(2039),T=O(9390),g=O(2827),b=O(9793),v={name:"Resize",inputNames:["A"],inputTypes:[w.TextureType.packed]};_.resize=(u,l,f)=>(b.validateInputs(l,f),[u.run(Object.assign(Object.assign({},v),{cacheHint:f.cacheKey,get:()=>p(u,l,f)}),l)]),_.parseResizeAttributesV10=u=>b.parseUpsampleAttributes(u,10),_.parseResizeAttributesV11=u=>b.parseUpsampleAttributes(u,11);const p=(u,l,f)=>{const m=x.getGlsl(u.session.backend.glContext.version),[D,E]=c(l,f);if(D.every(ne=>1===ne)&&"tf_crop_and_resize"!==f.coordinateTransformMode)return Object.assign(Object.assign({},v),{output:{dims:E,type:l[0].type,textureType:w.TextureType.packed},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${m.texture2D}(X, TexCoords);\n                    ${m.output} = v;\n                }`});const S=E.length;if(S<2)throw new Error(`output dimension should be at least 2, but got ${S}`);const A=E[S-2],I=E[S-1],k=l[0].dims;if(S!==k.length)throw new Error(`output dimension should match input ${k.length}, but got ${S}`);const L=k[S-2],R=k[S-1],P=D[S-2],j=D[S-1];let z="";if("linear"!==f.mode)throw new Error(`resize (packed) does not support mode: '${f.mode}'`);switch(f.coordinateTransformMode){case"asymmetric":z="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":z="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"align_corners":z=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${I}.0 - 1.0, ${A}.0 - 1.0, ${I}.0 - 1.0,\n                            ${A}.0 - 1.0);\n                        vec4 original = vec4(${R}.0 - 1.0, ${L}.0 - 1.0, ${R}.0 - 1.0,\n                            ${L}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${f.coordinateTransformMode}'`)}const J=T.getCoordsDataType(S),G=`\n            const vec2 inputWH = vec2(${L}.0, ${R}.0);\n            const vec4 scaleWHWH = vec4(${P}.0, ${j}.0, ${P}.0, ${j}.0);\n            ${g.unpackFromChannel()}\n            ${z}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${J} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${A-1};\n                bool hasNextCol = rc.z < ${I-1};\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${m.output} = vec4(newValue);\n            }\n        `;return Object.assign(Object.assign({},v),{output:{dims:E,type:l[0].type,textureType:w.TextureType.packed},hasMain:!0,shaderSource:G})},c=(u,l)=>{const f=u[0].dims;let m,D=l.scales;if(0===D.length){const S=u[l.scalesInputIdx];if(S&&0!==S.size){if(u[l.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");D=s(S,l.mode,l.isResize)}else{const A=u[l.sizesInputIdx];if(!A||0===A.size)throw new Error("Either scales or sizes MUST be provided as input.");m=Array.from(A.integerData),D=o(m,f,l.mode,l.isResize)}}else if(u[l.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const E=m||f.map((S,A)=>Math.floor(S*D[A]));return[D,E]},s=(u,l,f)=>{const m=Array.from(u.floatData);return b.scalesValidation(m,l,f),m},o=(u,l,f,m)=>{const D=l.length,E=new Array(D);for(let S=0,A=D;S<A;S++)if(0===l[S]){if(0!==u[S])throw new Error("Input dim is zero but required output dim is non-zero.");E[S]=1}else E[S]=u[S]/l[S];return b.scalesValidation(E,f,m),E}},8117:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.shape=void 0;const x=O(9162);_.shape=(T,g)=>(w(g),[new x.Tensor([g[0].dims.length],"int32",void 0,void 0,new Int32Array(g[0].dims))]);const w=T=>{if(!T||1!==T.length)throw new Error("Shape requires 1 input.")}},2278:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.sliceV10=_.parseSliceAttributes=_.slice=void 0;const x=O(246),w=O(782),T=O(2517),g=O(2039),b={name:"Slice",inputNames:["A"],inputTypes:[g.TextureType.unpacked]};_.slice=(o,u,l)=>(p(u),[o.run(Object.assign(Object.assign({},b),{cacheHint:l.cacheKey,get:()=>v(o,u[0],l)}),u)]),_.parseSliceAttributes=o=>{const u=o.attributes.getInts("starts"),l=o.attributes.getInts("ends"),f=o.attributes.getInts("axes",[]);return x.createAttributeWithCacheKey({starts:u,ends:l,axes:f})};const v=(o,u,l)=>{const f=0===l.axes.length?u.dims.slice(0).map((k,L)=>L):l.axes,m=T.ShapeUtil.normalizeAxes(f,u.dims.length),D=l.starts.map((k,L)=>k>u.dims[m[L]]-1?u.dims[m[L]]:T.ShapeUtil.normalizeAxis(k,u.dims[m[L]])),E=l.ends.map((k,L)=>k>u.dims[m[L]]-1?u.dims[m[L]]:T.ShapeUtil.normalizeAxis(k,u.dims[m[L]])),S=u.dims.slice(),A=[];for(let k=0;k<m.length;k++)S[m[k]]=E[k]-D[k],D[k]>0&&A.push(`outputIdx[${m[k]}] += ${D[k]};`);const I=`\n      float process(int outputIdx[${S.length}]) {\n        ${A.join("\n      ")}\n        return _A(outputIdx);\n      }`;return Object.assign(Object.assign({},b),{output:{dims:S,type:u.type,textureType:g.TextureType.unpacked},shaderSource:I})},p=o=>{if(!o||1!==o.length)throw new Error("Slice requires 1 input.");if(-1===w.NUMBER_TYPES.indexOf(o[0].type))throw new Error("Invalid input type.")};_.sliceV10=(o,u)=>{s(u);const l=c(o,u);return[o.run(Object.assign(Object.assign({},b),{cacheHint:l.cacheKey,get:()=>v(o,u[0],l)}),[u[0]])]};const c=(o,u)=>{if(!o.session.isInitializer(u[1].dataId)||!o.session.isInitializer(u[2].dataId)||u.length>=4&&!o.session.isInitializer(u[3].dataId)||u.length>=5&&!o.session.isInitializer(u[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(u.length>=5&&u[4].integerData.some(D=>1!==D))throw new Error("currently non-1 steps is not supported for Slice");const l=Array.from(u[1].integerData),f=Array.from(u[2].integerData),m=u.length>=4?Array.from(u[3].integerData):[];return{starts:l,ends:f,axes:m,cacheKey:`${m};${l};${f}`}},s=o=>{if(!o||o.length<3||o.length>5)throw new Error("Invalid input number.");if("int32"!==o[1].type||1!==o[1].dims.length)throw new Error("Invalid input type.");if("int32"!==o[2].type||1!==o[2].dims.length)throw new Error("Invalid input type.");if(o.length>=4&&("int32"!==o[3].type||1!==o[3].dims.length))throw new Error("Invalid input type.");if(o.length>=5&&("int32"!==o[4].type||1!==o[4].dims.length))throw new Error("Invalid input type.")}},5524:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.softmaxV13=_.parseSoftmaxAttributesV13=_.parseSoftmaxAttributes=_.softmax=void 0;const x=O(246),w=O(2517),T=O(5060),g=O(2039),b=O(3738),v={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[g.TextureType.unpacked]},p={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked]},c={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked,g.TextureType.unpacked]};_.softmax=(m,D,E)=>{f(D);const S=D[0].dims.slice(),A=w.ShapeUtil.normalizeAxis(E.axis,S.length),I=w.ShapeUtil.sizeToDimension(S,A),k=w.ShapeUtil.sizeFromDimension(S,A);return s(m,D,E,I,k)},_.parseSoftmaxAttributes=m=>x.createAttributeWithCacheKey({axis:m.attributes.getInt("axis",1)}),_.parseSoftmaxAttributesV13=m=>x.createAttributeWithCacheKey({axis:m.attributes.getInt("axis",-1)}),_.softmaxV13=(m,D,E)=>{f(D);const S=D[0].dims.slice(),A=w.ShapeUtil.normalizeAxis(E.axis,S.length),I=S.length,k=A!==I-1,L=[];let R,P=[],j=[];k&&(P=Array.from({length:I}).map((ne,se)=>se),P[A]=I-1,P[I-1]=A,P.map(ne=>L.push(S[ne])),R=x.createAttributeWithCacheKey({perm:P}),j=b.transpose(m,D,R));const z=w.ShapeUtil.sizeToDimension(k?L:S,I-1),J=w.ShapeUtil.sizeFromDimension(k?L:S,I-1),G=s(m,k?j:D,E,z,J);return k?b.transpose(m,G,R):G};const s=(m,D,E,S,A)=>{const I=o(m,D[0],S,A,[S]),k=m.run(Object.assign(Object.assign({},v),{cacheHint:E.cacheKey,get:()=>I}),D),L=u(m,D[0],S,A,I.output.dims,[S]),R=m.run(Object.assign(Object.assign({},p),{cacheHint:E.cacheKey,get:()=>L}),[D[0],k]),P=l(m,D[0],S,A,I.output.dims,L.output.dims);return[m.run(Object.assign(Object.assign({},c),{cacheHint:E.cacheKey,get:()=>P}),[D[0],k,R])]},o=(m,D,E,S,A)=>{const[I,k]=m.calculateTextureWidthAndHeight(D.dims,g.TextureType.unpacked),L=A.length;if(E<1||S<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==A.length)throw new Error("Dimensionality of the output should be 1");if(A[0]!==E)throw new Error("Shape of the output should be equal to logical row count");const R=T.getGlsl(m.session.backend.glContext.version),P=`\n      float process(int[${L}] indices) {\n        int logical_row_start_offset = indices[0] * ${S};\n\n        float max = getColorAsFloat(${R.texture2D}(A, offsetToCoords(logical_row_start_offset, ${I},\n        ${k} )));\n        for(int i=1; i<${S}; ++i)\n        {\n          float current = getColorAsFloat(${R.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${I}, ${k})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return Object.assign(Object.assign({},v),{output:{dims:A,type:D.type,textureType:g.TextureType.unpacked},shaderSource:P})},u=(m,D,E,S,A,I)=>{const[k,L]=m.calculateTextureWidthAndHeight(D.dims,g.TextureType.unpacked),R=I.length;if(E<1||S<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==I.length)throw new Error("Dimensionality of the output should be 1");if(I[0]!==E)throw new Error("Shape of the output should be equal to logical row count");if(1!==A.length)throw new Error("Dimensionality of the intermediate results should be 1");if(A[0]!==E)throw new Error("Shape of the intermediate results should be equal to logical row count");const P=`\n      float process(int[${R}] indices) {\n        int logical_row_start_offset = indices[0] * ${S};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${S}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${T.getGlsl(m.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${k}, ${L}))) - max);\n        }\n\n        return norm_factor;\n      }`;return Object.assign(Object.assign({},p),{output:{dims:I,type:D.type,textureType:g.TextureType.unpacked},shaderSource:P})},l=(m,D,E,S,A,I)=>{const[k,L]=m.calculateTextureWidthAndHeight(D.dims,g.TextureType.unpacked),R=D.dims.length;if(E<1||S<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==A.length||1!==I.length)throw new Error("Dimensionality of the intermediate results should be 1");if(A[0]!==E||I[0]!==E)throw new Error("Shape of the intermediate results should be equal to logical row count");const P=`\n      float process(int[${R}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${k}, ${L});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${S};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return Object.assign(Object.assign({},c),{output:{dims:D.dims,type:D.type,textureType:g.TextureType.unpacked},shaderSource:P})},f=m=>{if(!m||1!==m.length)throw new Error("Softmax requires 1 input.");if("float32"!==m[0].type&&"float64"!==m[0].type)throw new Error("Invalid input type")}},5975:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseSplitAttributes=_.split=void 0;const x=O(246),w=O(2517),T=O(2039),g={name:"Split",inputNames:["A"],inputTypes:[T.TextureType.unpacked]};_.split=(c,s,o)=>{p(s);const u=w.ShapeUtil.normalizeAxis(o.axis,s[0].dims.length),l=b(c,s,u,o),f=[];for(let m=0;m<l;++m)f.push(c.run(Object.assign(Object.assign({},g),{cacheHint:`${o.cacheKey};${m}`,get:()=>v(c,s[0],o,u,m)}),s));return f},_.parseSplitAttributes=c=>{const s=c.attributes.getInt("axis",0),o=c.attributes.getInts("split",[]);return x.createAttributeWithCacheKey({axis:s,split:o,numOutputs:c.outputs.length})};const b=(c,s,o,u)=>{const[,l]=w.SplitUtil.splitShape(s[0].dims,o,u.split,u.numOutputs);return l.length},v=(c,s,o,u,l)=>{const[f,m]=w.SplitUtil.splitShape(s.dims,u,o.split,o.numOutputs),E=f[l],S=`\n      float process(int indices[${E.length}]) {\n        indices[${u}] += ${m[l]};\n        return _A(indices);\n      }\n    `;return Object.assign(Object.assign({},g),{cacheHint:`${o.cacheKey}:${l}`,output:{dims:E,type:s.type,textureType:T.TextureType.unpacked},shaderSource:S})},p=c=>{if(!c||1!==c.length)throw new Error("Split requires one input.");if("int8"!==c[0].type&&"uint8"!==c[0].type&&"int16"!==c[0].type&&"uint16"!==c[0].type&&"int32"!==c[0].type&&"uint32"!==c[0].type&&"float32"!==c[0].type&&"float64"!==c[0].type&&"bool"!==c[0].type)throw new Error("Invalid input type.")}},3933:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseSqueezeAttributes=_.squeezeV13=_.squeeze=void 0;const x=O(2517);_.squeeze=(g,b,v)=>{w(b);const p=x.ShapeUtil.squeezeShape(b[0].dims,v);return[g.reshapeUnpacked(b[0],p)]},_.squeezeV13=(g,b)=>(T(b),_.squeeze(g,[b[0]],Array.from(b[1].integerData))),_.parseSqueezeAttributes=g=>g.attributes.getInts("axes");const w=g=>{if(!g||1!==g.length)throw new Error("Squeeze requires 1 input.");if("string"===g[0].type)throw new Error("invalid input tensor types.")},T=g=>{if(!g||2!==g.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==g[1].type)throw new Error("Invalid input type.")}},6558:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.sum=void 0;const x=O(5060),w=O(2039);_.sum=(b,v)=>{g(v);const p={name:"Sum",inputNames:v.map((c,s)=>`X${s}`),inputTypes:new Array(v.length).fill(w.TextureType.unpacked)};return[b.run(Object.assign(Object.assign({},p),{get:()=>T(b,v,p)}),v)]};const T=(b,v,p)=>{const c=x.getGlsl(b.session.backend.glContext.version),s=v[0].dims.slice(),o=`\n      void main() {\n        vec4 result = ${v.map((u,l)=>`${c.texture2D}(X${l},TexCoords)`).join(" + ")};\n        ${c.output} = result;\n      }\n    `;return Object.assign(Object.assign({},p),{output:{dims:s,type:v[0].type,textureType:w.TextureType.unpacked},hasMain:!0,shaderSource:o})},g=b=>{if(!b||0===b.length)throw new Error("Sum requires inputs.");const v=b[0].dims.length;for(let p=1;p<b.length;p++){if(v!==b[p].dims.length)throw new Error("Input shapes are mismatched.");for(let c=0;c<v;c++)if(b[0].dims[c]!==b[p].dims[c])throw new Error("Input shapes are not matched.")}if("float32"!==b[0].type&&"float64"!==b[0].type)throw new Error("Invalid input type.");for(let p=1;p<b.length;p++)if(b[0].type!==b[p].type)throw new Error("Input types are not matched.")}},5723:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.tile=void 0;const x=O(782),w=O(2039);_.tile=(b,v)=>{g(v);const p={name:"Tile",inputNames:["A"],inputTypes:[w.TextureType.unpacked]};return[b.run(Object.assign(Object.assign({},p),{get:()=>T(b,v,p)}),v)]};const T=(b,v,p)=>{const c=v[0].dims.slice(),s=new Array(c.length),o=[];for(let f=0;f<c.length;f++)s[f]=c[f]*v[1].numberData[f],o.push(`inputIdx[${f}] = int(mod(float(outputIdx[${f}]), ${c[f]}.));`);const u=s.length,l=`\n      float process(int outputIdx[${u}]) {\n        int inputIdx[${u}];\n        ${o.join("\n")}\n        return _A(inputIdx);\n      }\n    `;return Object.assign(Object.assign({},p),{output:{dims:s,type:v[0].type,textureType:w.TextureType.unpacked},shaderSource:l})},g=b=>{if(!b||2!==b.length)throw new Error("Tile requires 2 input.");if(1!==b[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(b[1].dims[0]!==b[0].dims.length)throw new Error("Invalid input shape.");if(-1===x.NUMBER_TYPES.indexOf(b[0].type))throw new Error("Invalid input type.");if("int32"!==b[1].type&&"int16"!==b[1].type)throw new Error("Invalid repeat type.")}},3738:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseTransposeAttributes=_.transpose=void 0;const x=O(246),w=O(2517),T=O(2039),g={name:"Transpose",inputNames:["A"],inputTypes:[T.TextureType.unpacked]};_.transpose=(o,u,l)=>(s(u),[o.run(Object.assign(Object.assign({},g),{cacheHint:l.cacheKey,get:()=>b(o,u[0],l.perm)}),u)]),_.parseTransposeAttributes=o=>x.createAttributeWithCacheKey({perm:o.attributes.getInts("perm",[])});const b=(o,u,l)=>{const f=u.dims;l=v(f,l);const m=p(f,l),D=f.length,E=`\n      ${c("perm",l,D)}\n      float process(int indices[${D}]) {\n        int a[${D}];\n        perm(a, indices);\n        return _A(a);\n      }`;return Object.assign(Object.assign({},g),{output:{dims:m,type:u.type,textureType:T.TextureType.unpacked},shaderSource:E})},v=(o,u)=>(u&&u.length!==o.length&&(u=[...o.keys()].reverse()),u),p=(o,u)=>(u=v(o,u),w.ShapeUtil.sortBasedOnPerm(o,u)),c=(o,u,l)=>{const f=[];f.push(`void ${o}(out int a[${l}], int src[${l}]) {`);for(let m=0;m<l;++m)f.push(`\ta[${u[m]}]=src[${m}];`);return f.push("\t}"),f.join("\n")},s=o=>{if(!o||1!==o.length)throw new Error("Transpose requires 1 input.");if("float32"!==o[0].type&&"float64"!==o[0].type)throw new Error("input should be float tensor")}},8710:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.encodeAsUint8=void 0;const x=O(5060),w=O(2039);_.encodeAsUint8=(T,g)=>{const b=g.shape,v=x.getGlsl(T.session.backend.glContext.version);return T.executeProgram({name:"Uint8Encode",inputTypes:[w.TextureType.unpacked],inputNames:["X"],output:{dims:b,type:g.tensor.type,textureType:w.TextureType.downloadUint8AsFloat},shaderSource:`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${v.texture2D}(X,TexCoords).r;\n      ${v.output} = encodeAsUint8(value);\n    }`,hasMain:!0},[g.tensor])}},4909:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.tanh=_.tan=_.sqrt=_.sin=_.sigmoid=_.relu=_.not=_.neg=_.log=_.parseLeakyReluAttributes=_.leakyRelu=_.identity=_.floor=_.exp=_.parseEluAttributes=_.elu=_.cos=_.ceil=_.clipV11=_.parseClipAttributes=_.clip=_.atan=_.asin=_.acos=_.abs=_.glslTanh=_.glslTan=_.glslSqrt=_.glslSigmoid=_.glslRelu=_.glslSin=_.glslNot=_.glslNeg=_.glslLog=_.glslLeakyRelu=_.glslIdentity=_.glslClip=_.glslFloor=_.glslExp=_.glslElu=_.glslCos=_.glslCeil=_.glslAtan=_.glslAsin=_.glslAcos=_.glslAbs=void 0;const x=O(246),w=O(2517),T=O(8520),g=O(5060),b=O(2039);function v(){return G("abs")}function p(){return G("acos")}function c(){return G("asin")}function s(){return G("atan")}function o(){return G("ceil")}function u(){return G("cos")}function l(q){return{body:`\n  const float alpha = float(${q});\n\n  float elu_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 elu_(vec4 v) {\n    return vec4(elu_(v.x), elu_(v.y), elu_(v.z), elu_(v.w));\n  }\n  `,name:"elu",type:T.FunctionType.ValueBased}}function f(){return G("exp")}function m(){return G("floor")}function D(q,Z){return{body:`\n  const float min = float(${q});\n  const float max = float(${Z});\n\n  float clip_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 clip_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:"clip",type:T.FunctionType.ValueBased}}function E(){const q="indentity";return{body:`\n  float ${q}_(float a) {\n    return a;\n  }\n  vec4 ${q}_(vec4 v) {\n    return v;\n  }\n  `,name:q,type:T.FunctionType.ValueBased}}function S(q){const Z="leakyRelu";return{body:`\n  const float alpha = float(${q});\n\n  float ${Z}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${Z}_(vec4 v) {\n    return vec4(${Z}_(v.x), ${Z}_(v.y), ${Z}_(v.z), ${Z}_(v.w));\n  }\n  `,name:Z,type:T.FunctionType.ValueBased}}function A(){return G("log")}function I(){return{body:"\n  float neg_(float a) {\n    return -a;\n  }\n  vec4 neg_(vec4 v) {\n    return -v;\n  }\n  ",name:"neg",type:T.FunctionType.ValueBased}}function k(){return{body:"\n  float not_(float a) {\n    return float( ! bool(a) );\n  }\n  bool not_(bool a) {\n    return !a;\n  }\n  vec4 not_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 not_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  ",name:"not",type:T.FunctionType.ValueBased}}function L(){return G("sin")}function R(){return{body:"\n  float relu_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 relu_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  ",name:"relu",type:T.FunctionType.ValueBased}}function P(){return{body:"\n  float sigmoid_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 sigmoid_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  ",name:"sigmoid",type:T.FunctionType.ValueBased}}function j(){return G("sqrt")}function z(){return G("tan")}function J(){return{body:"\n  float tanh_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 tanh_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  ",name:"tanh",type:T.FunctionType.ValueBased}}function G(q){return{body:`\n  float ${q}_(float a) {\n    return ${q}(a);\n  }\n  vec4 ${q}_(vec4 v) {\n    return ${q}(v);\n  }\n  `,name:q,type:T.FunctionType.ValueBased}}_.glslAbs=v,_.glslAcos=p,_.glslAsin=c,_.glslAtan=s,_.glslCeil=o,_.glslCos=u,_.glslElu=l,_.glslExp=f,_.glslFloor=m,_.glslClip=D,_.glslIdentity=E,_.glslLeakyRelu=S,_.glslLog=A,_.glslNeg=I,_.glslNot=k,_.glslSin=L,_.glslRelu=R,_.glslSigmoid=P,_.glslSqrt=j,_.glslTan=z,_.glslTanh=J;const ne=(q,Z,pe,ie)=>{const Ke={name:pe.name,inputTypes:[q.session.pack?b.TextureType.packed:b.TextureType.unpacked],inputNames:["A"],cacheHint:ie};return Object.assign(Object.assign({},Ke),{get:()=>((Re,lt,$e,ze)=>{const nt=Re.session.pack?b.TextureType.packed:b.TextureType.unpacked,Ce=g.getGlsl(Re.session.backend.glContext.version);return Object.assign(Object.assign({},lt),{output:{dims:$e.dims,type:$e.type,textureType:nt},shaderSource:`\n     ${ze.body}\n     void main() {\n       vec4 v = ${Ce.texture2D}(A, TexCoords);\n       v = ${ze.name}_(v);\n       ${Ce.output} = v;\n     }\n     `,hasMain:!0})})(q,Ke,Z,pe)})};_.abs=(q,Z)=>[q.run(ne(q,Z[0],v()),Z)],_.acos=(q,Z)=>[q.run(ne(q,Z[0],p()),Z)],_.asin=(q,Z)=>[q.run(ne(q,Z[0],c()),Z)],_.atan=(q,Z)=>[q.run(ne(q,Z[0],s()),Z)],_.clip=(q,Z,pe)=>[q.run(ne(q,Z[0],D(pe.min,pe.max),pe.cacheKey),Z)],_.parseClipAttributes=q=>x.createAttributeWithCacheKey({min:q.attributes.getFloat("min",w.MIN_CLIP),max:q.attributes.getFloat("max",w.MAX_CLIP)}),_.clipV11=(q,Z)=>{const pe=se(q,Z);return _.clip(q,[Z[0]],pe)};const se=(q,Z)=>{if(Z.length>=3&&(!q.session.isInitializer(Z[1].dataId)||!q.session.isInitializer(Z[2].dataId)))throw new Error("dynamic clip attributes are not allowed");return x.createAttributeWithCacheKey({min:Z.length>=3?Z[1].numberData[0]:w.MIN_CLIP,max:Z.length>=3?Z[2].numberData[0]:w.MAX_CLIP})};_.ceil=(q,Z)=>[q.run(ne(q,Z[0],o()),Z)],_.cos=(q,Z)=>[q.run(ne(q,Z[0],u()),Z)],_.elu=(q,Z,pe)=>[q.run(ne(q,Z[0],l(pe.alpha),pe.cacheKey),Z)],_.parseEluAttributes=q=>x.createAttributeWithCacheKey({alpha:q.attributes.getFloat("alpha",1)}),_.exp=(q,Z)=>[q.run(ne(q,Z[0],f()),Z)],_.floor=(q,Z)=>[q.run(ne(q,Z[0],m()),Z)],_.identity=(q,Z)=>[q.run(ne(q,Z[0],E()),Z)],_.leakyRelu=(q,Z,pe)=>[q.run(ne(q,Z[0],S(pe.alpha),pe.cacheKey),Z)],_.parseLeakyReluAttributes=q=>x.createAttributeWithCacheKey({alpha:q.attributes.getFloat("alpha",.01)}),_.log=(q,Z)=>[q.run(ne(q,Z[0],A()),Z)],_.neg=(q,Z)=>[q.run(ne(q,Z[0],I()),Z)],_.not=(q,Z)=>[q.run(ne(q,Z[0],k()),Z)],_.relu=(q,Z)=>[q.run(ne(q,Z[0],R()),Z)],_.sigmoid=(q,Z)=>[q.run(ne(q,Z[0],P()),Z)],_.sin=(q,Z)=>[q.run(ne(q,Z[0],L()),Z)],_.sqrt=(q,Z)=>[q.run(ne(q,Z[0],j()),Z)],_.tan=(q,Z)=>[q.run(ne(q,Z[0],z()),Z)],_.tanh=(q,Z)=>[q.run(ne(q,Z[0],J()),Z)]},5611:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createUnpackProgramInfoLoader=_.createUnpackProgramInfo=void 0;const x=O(5060),w=O(2039),T=O(9390),g=O(2827),b={name:"unpack",inputNames:["A"],inputTypes:[w.TextureType.packed]};_.createUnpackProgramInfo=(v,p)=>{const c=p.dims.length,s=g.getChannels("rc",c),o=s.slice(-2),u=T.getCoordsDataType(c),l=g.unpackFromChannel(),f=0===p.dims.length?"":function(E,S){if(1===E)return"rc";let A="";for(let I=0;I<E;I++)A+=S[I],I<E-1&&(A+=",");return A}(c,s),m=c<=1?"rc":`vec2(${o.join(",")})`,D=`\n    ${l}\n    void main() {\n      ${u} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${f});\n\n       ${x.getGlsl(v.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${m}), 0, 0, 0);\n     }\n   `;return Object.assign(Object.assign({},b),{hasMain:!0,output:{dims:p.dims,type:p.type,textureType:w.TextureType.unpacked},shaderSource:D})},_.createUnpackProgramInfoLoader=(v,p)=>Object.assign(Object.assign({},b),{get:()=>_.createUnpackProgramInfo(v,p)})},8428:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.parseUnsqueezeAttributes=_.unsqueezeV13=_.unsqueeze=void 0;const x=O(2517);_.unsqueeze=(g,b,v)=>{w(b);const p=x.ShapeUtil.unsqueezeShape(b[0].dims,v);return[g.reshapeUnpacked(b[0],p)]},_.unsqueezeV13=(g,b)=>(T(b),_.unsqueeze(g,[b[0]],Array.from(b[1].integerData))),_.parseUnsqueezeAttributes=g=>g.attributes.getInts("axes");const w=g=>{if(!g||1!==g.length)throw new Error("Unsqueeze requires 1 input.");if("string"===g[0].type)throw new Error("invalid input tensor types.")},T=g=>{if(!g||2!==g.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==g[1].type)throw new Error("Invalid input type.")}},9793:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.scalesValidation=_.validateInputs=_.parseUpsampleAttributes=_.parseUpsampleAttributesV9=_.parseUpsampleAttributesV7=_.upsample=void 0;const x=O(246),w=O(5060),T=O(2039),g={name:"Upsample",inputNames:["X"],inputTypes:[T.TextureType.unpacked]};_.upsample=(v,p,c)=>(_.validateInputs(p,c),[v.run(Object.assign(Object.assign({},g),{cacheHint:c.cacheKey,get:()=>b(v,p,c)}),p)]),_.parseUpsampleAttributesV7=v=>_.parseUpsampleAttributes(v,7),_.parseUpsampleAttributesV9=v=>_.parseUpsampleAttributes(v,9),_.parseUpsampleAttributes=(v,p)=>{const c=p>=10,s=v.attributes.getString("mode","nearest");if("nearest"!==s&&"linear"!==s&&(p<11||"cubic"!==s))throw new Error(`unrecognized mode: ${s}`);let o=[];p<9&&(o=v.attributes.getFloats("scales"),_.scalesValidation(o,s,c));const u=v.attributes.getFloat("extrapolation_value",0),l=p>10?v.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(l))throw new Error(`coordinate_transform_mode '${l}' is not supported`);const f="tf_crop_and_resize"===l,m=f,D="nearest"===s&&p>=11?v.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(D))throw new Error(`nearest_mode '${D}' is not supported`);const E=v.attributes.getFloat("cubic_coeff_a",-.75),S=0!==v.attributes.getInt("exclude_outside",0);if(S&&"cubic"!==s)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let I=0,k=0,L=0;return p>10?(I=1,k=2,L=3):9===p&&(k=1),x.createAttributeWithCacheKey({opset:p,isResize:c,mode:s,scales:o,extrapolationValue:u,coordinateTransformMode:l,useExtrapolation:m,needRoiInput:f,nearestMode:D,cubicCoefficientA:E,excludeOutside:S,useNearest2xOptimization:p<11||"nearest"===s&&"asymmetric"===l&&"floor"===D,roiInputIdx:I,scalesInputIdx:k,sizesInputIdx:L})};const b=(v,p,c)=>{const s=w.getGlsl(v.session.backend.glContext.version),[o,u]=v.calculateTextureWidthAndHeight(p[0].dims,T.TextureType.unpacked),l=p[0].dims.map((L,R)=>Math.floor(L*c.scales[R])),[f,m]=v.calculateTextureWidthAndHeight(l,T.TextureType.unpacked),D=l.length,E=new Array(D),S=new Array(D);let A=`\n      int output_pitches[${D}];\n      int input_pitches[${D}];\n      `;for(let L=D-1;L>=0;L--)E[L]=L===D-1?1:E[L+1]*l[L+1],S[L]=L===D-1?1:S[L+1]*p[0].dims[L+1],A+=`\n        output_pitches[${L}] = ${E[L]};\n        input_pitches[${L}] = ${S[L]};\n        `;const I=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${o}, ${u});\n        float value = getColorAsFloat(${s.texture2D}(X, coords));\n        return value;\n      }\n      `,k="nearest"===c.mode?`\n    ${I}\n    float process(int indices[${D}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${m});\n\n      ${A}\n\n      int d, m;\n      for (int dim = 0; dim < ${D}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:4===D?`\n    ${I}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${m});\n\n      ${A}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${p[0].dims[2]} - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${I}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${m});\n\n      ${A}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${p[0].dims[0]} - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return Object.assign(Object.assign({},g),{output:{dims:l,type:p[0].type,textureType:T.TextureType.unpacked},shaderSource:k,variables:[{name:"scales",type:"int",arrayLength:c.scales.length,data:c.scales.map(L=>Math.ceil(L))}]})};_.validateInputs=(v,p)=>{if(!v||p.opset<9&&1!==v.length||p.opset>=9&&p.opset<11&&2!==v.length||p.opset>=11&&3!==v.length&&4!==v.length)throw new Error("invalid inputs.");if(p.scales.length>0&&v[0].dims.length!==p.scales.length)throw new Error("Invalid input shape.");if("string"===v[0].type)throw new Error("Invalid input tensor types.")},_.scalesValidation=(v,p,c)=>{if(c){for(const s of v)if(s<=0)throw new Error("Scale value should be greater than 0.")}else for(const s of v)if(s<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==p&&"cubic"!==p||2===v.length||4===v.length&&1===v[0]&&1===v[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${c?"Resize":"Upsample"} opeartor.`)}},1958:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.ProgramManager=void 0;const x=O(2174),w=O(6231),T=O(8879),g=O(5060);_.ProgramManager=class{constructor(b,v,p){this.profiler=b,this.glContext=v,this.textureLayoutStrategy=p,this.repo=new Map,this.attributesBound=!1}getArtifact(b){return this.repo.get(b)}setArtifact(b,v){this.repo.set(b,v)}run(b,v,p){var c;this.profiler.event("op",`ProgramManager.run ${null!==(c=b.programInfo.name)&&void 0!==c?c:"unknown kernel"}`,()=>{var s;this.glContext.gl.useProgram(b.program);try{this.bindOutput(p),this.attributesBound||this.bindAttributes(b.attribLocations),this.bindUniforms(b.uniformLocations,null!==(s=b.programInfo.variables)&&void 0!==s?s:[],v)}catch(l){throw w.Logger.error("ProgramManager",b.programInfo.shaderSource),l}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(b=>this.glContext.deleteProgram(b.program))}build(b,v,p){return this.profiler.event("backend","ProgramManager.build",()=>{const c=new T.GlslPreprocessor(this.glContext,b,v,p),s=c.preprocess(),o=this.compile(s);return{programInfo:b,program:o,uniformLocations:this.getUniformLocations(o,c.context.programInfo.inputNames,c.context.programInfo.variables),attribLocations:this.getAttribLocations(o)}})}compile(b){if(!this.vertexShader){w.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const c=g.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(c,this.glContext.gl.VERTEX_SHADER)}x.env.debug&&w.Logger.verbose("ProrgramManager",`FragShader:\n${b}\n`);const v=this.glContext.compileShader(b,this.glContext.gl.FRAGMENT_SHADER),p=this.glContext.createProgram(this.vertexShader,v);return this.glContext.deleteShader(v),p}bindOutput(b){const v=b.width,p=b.height;w.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${v}/${p}, shape=${b.shape}, type=${b.tensor.type}`),this.glContext.attachFramebuffer(b.texture,v,p)}bindAttributes(b){this.glContext.setVertexAttributes(b.position,b.textureCoord),this.attributesBound=!0}bindUniforms(b,v,p){var c;const s=this.glContext.gl;let o=0;for(const{name:u,type:l,location:f,arrayLength:m}of b){const D=null===(c=v.find(E=>E.name===u))||void 0===c?void 0:c.data;if("sampler2D"!==l&&!D)throw new Error(`variable '${u}' does not have data defined in program info`);switch(l){case"sampler2D":this.bindTexture(p[o],f,o),o++;break;case"float":m?s.uniform1fv(f,D):s.uniform1f(f,D);break;case"int":m?s.uniform1iv(f,D):s.uniform1i(f,D);break;default:throw new Error(`Uniform not implemented: ${l}`)}}}bindTexture(b,v,p){this.glContext.bindTextureToUniform(b.texture,p,v)}getAttribLocations(b){return{position:this.getAttribLocation(b,"position"),textureCoord:this.getAttribLocation(b,"textureCoord")}}getUniformLocations(b,v,p){const c=[];if(v)for(const s of v)c.push({name:s,type:"sampler2D",location:this.getUniformLocation(b,s)});if(p)for(const s of p)c.push(Object.assign(Object.assign({},s),{location:this.getUniformLocation(b,s.name)}));return c}getUniformLocation(b,v){const p=this.glContext.gl.getUniformLocation(b,v);if(null===p)throw new Error(`Uniform ${v} not found.`);return p}getAttribLocation(b,v){return this.glContext.gl.getAttribLocation(b,v)}}},6416:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.WebGLSessionHandler=void 0;const x=O(6231),w=O(1047),T=O(8316),g=O(1640),b=O(1958),v=O(7859),p=O(5702);_.WebGLSessionHandler=class{constructor(c,s){this.backend=c,this.context=s,this.layoutStrategy=new v.PreferLogicalStrategy(c.glContext.maxTextureSize),this.programManager=new b.ProgramManager(this.context.profiler,c.glContext,this.layoutStrategy),this.textureManager=new p.TextureManager(c.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===c.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=c.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new T.WebGLInferenceHandler(this)}onGraphInitialized(c){const s=c.getValues().filter(o=>-1===o.from&&o.tensor).map(o=>o.tensor.dataId);this.initializers=new Set(s)}isInitializer(c){return!!this.initializers&&this.initializers.has(c)}addInitializer(c){this.initializers.add(c)}getTextureData(c,s){return s?this.packedTextureDataCache.get(c):this.unpackedTextureDataCache.get(c)}setTextureData(c,s,o=!1){x.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),o?this.packedTextureDataCache.set(c,s):this.unpackedTextureDataCache.set(c,s)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(c=>this.textureManager.releaseTexture(c,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(c=>this.textureManager.releaseTexture(c,!0)),this.unpackedTextureDataCache=new Map}resolve(c,s,o){const u=w.resolveOperator(c,s,g.WEBGL_OP_RESOLVE_RULES);return{impl:u.opImpl,context:u.opInit?u.opInit(c,o):c}}}},7769:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.Uint8DataEncoder=_.RGBAFloatDataEncoder=_.RedFloat32DataEncoder=void 0;const x=O(6231);_.RedFloat32DataEncoder=class{constructor(w,T=1){if(1===T)this.internalFormat=w.R32F,this.format=w.RED,this.textureType=w.FLOAT,this.channelSize=T;else{if(4!==T)throw new Error(`Invalid number of channels: ${T}`);this.internalFormat=w.RGBA32F,this.format=w.RGBA,this.textureType=w.FLOAT,this.channelSize=T}}encode(w,T){let g,b;return w.constructor!==Float32Array&&(x.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),b=new Float32Array(w)),T*this.channelSize>w.length?(x.Logger.warning("Encoder","Source data too small. Allocating larger array"),b=w,g=this.allocate(T*this.channelSize),b.forEach((v,p)=>g[p]=v)):(b=w,g=b),g}allocate(w){return new Float32Array(4*w)}decode(w,T){return 1===this.channelSize?w.filter((g,b)=>b%4==0).subarray(0,T):w.subarray(0,T)}},_.RGBAFloatDataEncoder=class{constructor(w,T=1,g){if(1!==T&&4!==T)throw new Error(`Invalid number of channels: ${T}`);this.internalFormat=w.RGBA,this.format=w.RGBA,this.channelSize=T,this.textureType=g||w.FLOAT}encode(w,T){let g=w;return 1===this.channelSize&&(x.Logger.verbose("Encoder","Exploding into a larger array"),g=this.allocate(T),w.forEach((b,v)=>g[4*v]=b)),g}allocate(w){return new Float32Array(4*w)}decode(w,T){return 1===this.channelSize?w.filter((g,b)=>b%4==0).subarray(0,T):w.subarray(0,T)}},_.Uint8DataEncoder=class{constructor(w,T=1){if(this.channelSize=4,1===T)this.internalFormat=w.ALPHA,this.format=w.ALPHA,this.textureType=w.UNSIGNED_BYTE,this.channelSize=T;else{if(4!==T)throw new Error(`Invalid number of channels: ${T}`);this.internalFormat=w.RGBA,this.format=w.RGBA,this.textureType=w.UNSIGNED_BYTE,this.channelSize=T}}encode(w,T){return new Uint8Array(w.buffer,w.byteOffset,w.byteLength)}allocate(w){return new Uint8Array(w*this.channelSize)}decode(w,T){if(w instanceof Uint8Array)return w.subarray(0,T);throw new Error(`Invalid array type: ${w.constructor}`)}}},7859:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.getBatchDim=_.sizeToSquarishShape=_.getRowsCols=_.sizeFromShape=_.isInt=_.parseAxisParam=_.squeezeShape=_.PreferLogicalStrategy=_.AlwaysKeepOriginalSizeStrategy=void 0;const x=O(6231),w=O(2517);function T(c,s){const o=[],u=[],l=null!=s&&Array.isArray(s)&&0===s.length,f=null==s||l?null:g(s,c).sort();let m=0;for(let D=0;D<c.length;++D){if(null!=f){if(f[m]===D&&1!==c[D])throw new Error(`Can't squeeze axis ${D} since its dim '${c[D]}' is not 1`);(null==f[m]||f[m]>D)&&1===c[D]&&(o.push(c[D]),u.push(D)),f[m]<=D&&m++}1!==c[D]&&(o.push(c[D]),u.push(D))}return{newShape:o,keptDims:u}}function g(c,s){const o=s.length;return c=null==c?s.map((u,l)=>l):[].concat(c),w.assert(c.every(u=>u>=-o&&u<o),()=>`All values in axis param must be in range [-${o}, ${o}) but got axis ${c}`),w.assert(c.every(b),()=>`All values in axis param must be integers but got axis ${c}`),c.map(u=>u<0?o+u:u)}function b(c){return c%1==0}function v(c){if(0===c.length)return 1;let s=c[0];for(let o=1;o<c.length;o++)s*=c[o];return s}function p(c){const s=Math.ceil(Math.sqrt(c));return[s,Math.ceil(c/s)]}_.AlwaysKeepOriginalSizeStrategy=class{constructor(c){this.maxTextureSize=c}computeTextureWH(c,s){if(0===c.length)return[1,1];const o=this.maxTextureSize;if(s&&void 0!==s.breakAxis){const f=s.breakAxis>=c.length?1:c.slice(s.breakAxis).reduce((D,E)=>D*E),m=s.breakAxis<=0?1:c.slice(0,s.breakAxis).reduce((D,E)=>D*E);if(!(f>o||m>o))return[f,m];x.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${c}, breakAxis:${s.breakAxis}`)}const u=c.reduce((f,m)=>f*m);let l=Math.floor(Math.sqrt(u));for(;l<o&&l<u&&u%l!=0;l++);if(l>=o||u%l!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${c}`);return[l,u/l]}},_.PreferLogicalStrategy=class{constructor(c){this.maxTextureSize=c}computeTextureWH(c,s){const o=this.computeTexture(c,s);return s&&s.isPacked&&(o[0]/=2,o[1]/=2),s&&s.reverseWH?[o[1],o[0]]:o}computeTexture(c,s){const o=s&&s.isPacked;if(0===c.length)return o?[2,2]:[1,1];let u=this.maxTextureSize;if(s&&void 0!==s.breakAxis){const m=s.breakAxis>=c.length?1:c.slice(s.breakAxis).reduce((E,S)=>E*S),D=s.breakAxis<=0?1:c.slice(0,s.breakAxis).reduce((E,S)=>E*S);if(!(m>u||D>u))return[m,D];x.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${c}, breakAxis:${s.breakAxis}`)}let l=c.slice(0);o&&(u*=2,l=l.map((m,D)=>D>=l.length-2?l[D]%2==0?l[D]:l[D]+1:l[D]),1===l.length&&(l=[2,l[0]])),2!==l.length&&(l=T(l).newShape);const f=v(l);return l.length<=1&&f<=u?[1,f]:2===l.length&&l[0]<=u&&l[1]<=u?l:3===l.length&&l[0]*l[1]<=u&&l[2]<=u?[l[0]*l[1],l[2]]:3===l.length&&l[0]<=u&&l[1]*l[2]<=u?[l[0],l[1]*l[2]]:4===l.length&&l[0]*l[1]*l[2]<=u&&l[3]<=u?[l[0]*l[1]*l[2],l[3]]:4===l.length&&l[0]<=u&&l[1]*l[2]*l[3]<=u?[l[0],l[1]*l[2]*l[3]]:o?p(f/4).map(m=>2*m):p(f)}},_.squeezeShape=T,_.parseAxisParam=g,_.isInt=b,_.sizeFromShape=v,_.getRowsCols=function(c){if(0===c.length)throw Error("Cannot get rows and columns of an empty shape array.");return[c.length>1?c[c.length-2]:1,c[c.length-1]]},_.sizeToSquarishShape=p,_.getBatchDim=function(c,s=2){return v(c.slice(0,c.length-s))}},4057:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createTextureLayoutFromShape=_.calculateTextureWidthAndHeight=_.createTextureLayoutFromTextureType=void 0;const x=O(2517),w=O(2039);_.createTextureLayoutFromTextureType=(T,g,b)=>{const v=b===w.TextureType.unpacked||b===w.TextureType.unpackedReversed?1:4,p=b===w.TextureType.packed,c=b===w.TextureType.unpackedReversed||b===w.TextureType.packed,s=b===w.TextureType.packedLastDimension?g.length-1:void 0,o=b===w.TextureType.packedLastDimension?g.map((u,l)=>l===g.length-1?4*u:u):void 0;return _.createTextureLayoutFromShape(T,g,v,o,{isPacked:p,reverseWH:c,breakAxis:s})},_.calculateTextureWidthAndHeight=(T,g,b)=>{const v=_.createTextureLayoutFromTextureType(T,g,b);return[v.width,v.height]},_.createTextureLayoutFromShape=(T,g,b=1,v,p)=>{const c=!(!p||!p.isPacked),[s,o]=T.computeTextureWH(c&&v||g,p),u=g.length;let l=g.slice(0);if(0===u&&(l=[1]),1===b)v=g;else if(c){if(4!==b)throw new Error("a packed texture must be 4-channel");v=g,u>0&&(l[u-1]=Math.ceil(l[u-1]/2)),u>1&&(l[u-2]=Math.ceil(l[u-2]/2))}else if(!v)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:o,channels:b,isPacked:c,shape:l,strides:x.ShapeUtil.computeStrides(l),unpackedShape:v,reversedWH:p&&p.reverseWH}}},5702:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.TextureManager=void 0;const x=O(6231);_.TextureManager=class{constructor(w,T,g,b){this.glContext=w,this.layoutStrategy=T,this.profiler=g,this.config=b,this.pendingRead=new Map,b.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(w,T,g,b){const v=this.toEncoderType(w),p=this.glContext.getEncoder(v,T.channels||1,b);if(T.isPacked&&1===b)throw new Error("not implemented");const c=T.width,s=T.height;let o,u;if(this.config.reuseTextures){o=`${c}x${s}_${p.format}_${p.internalFormat}_${p.textureType}`,u=this.inUseTextures.get(o),u||(u=[],this.inUseTextures.set(o,u));const f=this.idleTextures.get(o);if(f&&f.length>0){const m=f.pop();return u.push(m),1===b&&this.glContext.updateTexture(m,c,s,p,this.toTextureData(w,g)),m}}x.Logger.verbose("TextureManager",`Creating new texture of size ${T.width}x${T.height}`);const l=this.glContext.allocateTexture(c,s,p,this.toTextureData(w,g));return this.config.reuseTextures&&(u.push(l),this.textureLookup.set(l,o)),l}readTexture(w,T,g){return g||(g=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const b=w.shape.reduce((p,c)=>p*c)*g,v=this.glContext.readTexture(w.texture,w.width,w.height,b,this.toEncoderType(T),g);return this.toTensorData(T,v)})}readTextureAsync(w,T,g){var b=this;return _asyncToGenerator(function*(){const v=w.tensor.dataId;if(g||(g=1),b.pendingRead.has(v)){const p=b.pendingRead.get(v);return new Promise(c=>p?.push(c))}return b.profiler.event("backend","TextureManager.readTextureAsync",_asyncToGenerator(function*(){b.pendingRead.set(v,[]);const p=w.shape.reduce((u,l)=>u*l)*g;yield b.glContext.createAndWaitForFence();const c=b.glContext.readTexture(w.texture,w.width,w.height,p,b.toEncoderType(T),g),s=b.toTensorData(T,c),o=b.pendingRead.get(v);return b.pendingRead.delete(v),o?.forEach(u=>u(s)),s}))})()}readUint8TextureAsFloat(w){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const T=w.shape.reduce((b,v)=>b*v),g=this.glContext.readTexture(w.texture,w.width,w.height,4*T,"byte",4);return new Float32Array(g.buffer,g.byteOffset,T)})}releaseTexture(w,T){let g;if(this.config.reuseTextures&&(g=this.textureLookup.get(w.texture),g)){T&&this.textureLookup.delete(g);const b=this.inUseTextures.get(g);if(b){const v=b.indexOf(w.texture);if(-1!==v){b.splice(v,1);let p=this.idleTextures.get(g);p||(p=[],this.idleTextures.set(g,p)),p.push(w.texture)}}}g&&!T||(x.Logger.verbose("TextureManager",`Deleting texture of size ${w.width}x${w.height}`),this.glContext.deleteTexture(w.texture))}toTensorData(w,T){switch(w){case"int16":return T instanceof Int16Array?T:Int16Array.from(T);case"int32":return T instanceof Int32Array?T:Int32Array.from(T);case"int8":return T instanceof Int8Array?T:Int8Array.from(T);case"uint16":return T instanceof Uint16Array?T:Uint16Array.from(T);case"uint32":return T instanceof Uint32Array?T:Uint32Array.from(T);case"uint8":case"bool":return T instanceof Uint8Array?T:Uint8Array.from(T);case"float32":return T instanceof Float32Array?T:Float32Array.from(T);case"float64":return T instanceof Float64Array?T:Float64Array.from(T);default:throw new Error(`TensorData type ${w} is not supported`)}}toTextureData(w,T){if(T)return T instanceof Float32Array?T:new Float32Array(T)}toEncoderType(w){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(X,_)=>{"use strict";var O;Object.defineProperty(_,"__esModule",{value:!0}),_.TextureType=void 0,(O=_.TextureType||(_.TextureType={}))[O.unpacked=0]="unpacked",O[O.unpackedReversed=1]="unpackedReversed",O[O.packed=2]="packed",O[O.downloadUint8AsFloat=3]="downloadUint8AsFloat",O[O.packedLastDimension=4]="packedLastDimension"},9390:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.getGlChannels=_.getCoordsDataType=_.getSqueezedParams=_.squeezeInputShape=_.generateShaderFuncNameFromInputSamplerNameAtOutCoords=_.generateShaderFuncNameFromInputSamplerName=_.repeatedTry=_.getPackedShape=void 0;const x=O(2517);_.getPackedShape=function(w){const T=w.length;return w.slice(0,T-1).concat(w[T-1]/4)},_.repeatedTry=function(){var w=_asyncToGenerator(function*(T,g=(v=>0),b){return new Promise((v,p)=>{let c=0;const s=()=>{if(T())return void v();c++;const o=g(c);null!=b&&c>=b?p():setTimeout(s,o)};s()})});return function(T){return w.apply(this,arguments)}}(),_.generateShaderFuncNameFromInputSamplerName=function(w){return x.assert(void 0!==w&&0!==w.length,()=>"empty string found for sampler name"),"get"+w.charAt(0).toUpperCase()+w.slice(1)},_.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(w){return x.assert(void 0!==w&&0!==w.length,()=>"empty string found for sampler name"),"get"+w.charAt(0).toUpperCase()+w.slice(1)+"AtOutCoords"},_.squeezeInputShape=function(w,T){let g=JSON.parse(JSON.stringify(w));return g=T,g},_.getSqueezedParams=function(w,T){return T.map(g=>w[g]).join(", ")},_.getCoordsDataType=function(w){if(w<=1)return"int";if(2===w)return"ivec2";if(3===w)return"ivec3";if(4===w)return"ivec4";if(5===w)return"ivec5";if(6===w)return"ivec6";throw Error(`GPU for rank ${w} is not yet supported`)},_.getGlChannels=function(w=6){return["x","y","z","w","u","v"].slice(0,w)}},7305:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.createNewWebGLContext=_.createWebGLContext=void 0;const x=O(6231),w=O(1713),T={};function g(b){const v=function(){const s=document.createElement("canvas");return s.width=1,s.height=1,s}();let p;const c={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!b||"webgl2"===b)&&(p=v.getContext("webgl2",c),p))try{return new w.WebGLContext(p,2)}catch(s){x.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${s}`)}if((!b||"webgl"===b)&&(p=v.getContext("webgl",c)||v.getContext("experimental-webgl",c),p))try{return new w.WebGLContext(p,1)}catch(s){x.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${s}`)}throw new Error("WebGL is not supported")}_.createWebGLContext=function b(v){let p;v&&"webgl2"!==v||!("webgl2"in T)?v&&"webgl"!==v||!("webgl"in T)||(p=T.webgl):p=T.webgl2,p=p||g(v);const c=p.gl;return T[v=v||1===p.version?"webgl":"webgl2"]=p,c.isContextLost()?(delete T[v],b(v)):(c.disable(c.DEPTH_TEST),c.disable(c.STENCIL_TEST),c.disable(c.BLEND),c.disable(c.DITHER),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SAMPLE_COVERAGE),c.enable(c.SCISSOR_TEST),c.enable(c.CULL_FACE),c.cullFace(c.BACK),p)},_.createNewWebGLContext=g},1713:function(X,_,O){"use strict";var x=this&&this.__createBinding||(Object.create?function(c,s,o,u){void 0===u&&(u=o),Object.defineProperty(c,u,{enumerable:!0,get:function(){return s[o]}})}:function(c,s,o,u){void 0===u&&(u=o),c[u]=s[o]}),w=this&&this.__setModuleDefault||(Object.create?function(c,s){Object.defineProperty(c,"default",{enumerable:!0,value:s})}:function(c,s){c.default=s}),T=this&&this.__importStar||function(c){if(c&&c.__esModule)return c;var s={};if(null!=c)for(var o in c)"default"!==o&&Object.prototype.hasOwnProperty.call(c,o)&&x(s,c,o);return w(s,c),s};Object.defineProperty(_,"__esModule",{value:!0}),_.WebGLContext=_.linearSearchLastTrue=void 0;const g=O(2174),b=T(O(7769)),v=O(9390);function p(c){let s=0;for(;s<c.length&&c[s]();++s);return s-1}_.linearSearchLastTrue=p,_.WebGLContext=class{constructor(c,s){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=c,this.version=s,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(c,s,o,u){const l=this.gl,f=l.createTexture();l.bindTexture(l.TEXTURE_2D,f),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);const m=u?o.encode(u,c*s):null;return l.texImage2D(l.TEXTURE_2D,0,o.internalFormat,c,s,0,o.format,o.textureType,m),this.checkError(),f}updateTexture(c,s,o,u,l){const f=this.gl;f.bindTexture(f.TEXTURE_2D,c);const m=u.encode(l,s*o);f.texSubImage2D(f.TEXTURE_2D,0,0,0,s,o,u.format,u.textureType,m),this.checkError()}attachFramebuffer(c,s,o){const u=this.gl;u.bindTexture(u.TEXTURE_2D,c),u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,c,0),this.checkError(),u.viewport(0,0,s,o),u.scissor(0,0,s,o)}readTexture(c,s,o,u,l,f){const m=this.gl;f||(f=1),this.frameBufferBound||this.attachFramebuffer(c,s,o);const D=this.getEncoder(l,f),E=D.allocate(s*o);return m.bindTexture(m.TEXTURE_2D,c),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,c,0),m.readPixels(0,0,s,o,m.RGBA,D.textureType,E),this.checkError(),D.decode(E,u)}isFramebufferReady(){return!0}getActiveTexture(){const c=this.gl;return"TEXTURE"+(c.getParameter(this.gl.ACTIVE_TEXTURE)-c.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(c,s){const o=this.gl;o.vertexAttribPointer(c,3,o.FLOAT,!1,20,0),o.enableVertexAttribArray(c),-1!==s&&(o.vertexAttribPointer(s,2,o.FLOAT,!1,20,12),o.enableVertexAttribArray(s)),this.checkError()}createProgram(c,s){const o=this.gl,u=o.createProgram();return o.attachShader(u,c),o.attachShader(u,s),o.linkProgram(u),u}compileShader(c,s){const o=this.gl,u=o.createShader(s);if(!u)throw new Error(`createShader() returned null with type ${s}`);if(o.shaderSource(u,c),o.compileShader(u),!1===o.getShaderParameter(u,o.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${o.getShaderInfoLog(u)}\nShader source:\n${c}`);return u}deleteShader(c){this.gl.deleteShader(c)}bindTextureToUniform(c,s,o){const u=this.gl;u.activeTexture(u.TEXTURE0+s),this.checkError(),u.bindTexture(u.TEXTURE_2D,c),this.checkError(),u.uniform1i(o,s),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(g.env.debug){const c=this.gl,s=c.getError();let o="";switch(s){case c.NO_ERROR:return;case c.INVALID_ENUM:o="INVALID_ENUM";break;case c.INVALID_VALUE:o="INVALID_VALUE";break;case c.INVALID_OPERATION:o="INVALID_OPERATION";break;case c.INVALID_FRAMEBUFFER_OPERATION:o="INVALID_FRAMEBUFFER_OPERATION";break;case c.OUT_OF_MEMORY:o="OUT_OF_MEMORY";break;case c.CONTEXT_LOST_WEBGL:o="CONTEXT_LOST_WEBGL";break;default:o=`Unknown WebGL Error: ${s.toString(16)}`}throw new Error(o)}}deleteTexture(c){this.gl.deleteTexture(c)}deleteProgram(c){this.gl.deleteProgram(c)}getEncoder(c,s,o=0){if(2===this.version)return new b.RedFloat32DataEncoder(this.gl,s);switch(c){case"float":return 1===o||this.isRenderFloat32Supported?new b.RGBAFloatDataEncoder(this.gl,s):new b.RGBAFloatDataEncoder(this.gl,s,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new b.Uint8DataEncoder(this.gl,s);default:throw new Error(`Invalid dataType: ${c}`)}}clearActiveTextures(){const c=this.gl;for(let s=0;s<this.maxTextureImageUnits;++s)c.activeTexture(c.TEXTURE0+s),c.bindTexture(c.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteFramebuffer(this.framebuffer),c.bindBuffer(c.ARRAY_BUFFER,null),c.deleteBuffer(this.vertexbuffer),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null),c.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const c=this.gl,s=c.createBuffer();if(!s)throw new Error("createBuffer() returned null");const o=this.createDefaultGeometry();return c.bindBuffer(c.ARRAY_BUFFER,s),c.bufferData(c.ARRAY_BUFFER,o,c.STATIC_DRAW),this.checkError(),s}createFramebuffer(){const c=this.gl.createFramebuffer();if(!c)throw new Error("createFramebuffer returned null");return c}queryVitalParameters(){const c=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS)}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const c=this.gl,s=c.createTexture();c.bindTexture(c.TEXTURE_2D,s),c.texImage2D(c.TEXTURE_2D,0,2===this.version?c.RGBA32F:c.RGBA,1,1,0,c.RGBA,c.FLOAT,null);const u=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,u),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,s,0);const l=c.checkFramebufferStatus(c.FRAMEBUFFER)===c.FRAMEBUFFER_COMPLETE;return c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteTexture(s),c.deleteFramebuffer(u),l}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const c=this.gl;let s,o,u,l,f;try{return s=c.createTexture(),o=c.createFramebuffer(),c.bindTexture(c.TEXTURE_2D,s),c.texImage2D(c.TEXTURE_2D,0,2===this.version?c.RGBA32F:c.RGBA,1,1,0,c.RGBA,c.FLOAT,null),c.bindFramebuffer(c.FRAMEBUFFER,o),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,s,0),c.enable(c.BLEND),u=c.createShader(c.VERTEX_SHADER),!!u&&(c.shaderSource(u,"void main(){}"),c.compileShader(u),l=c.createShader(c.FRAGMENT_SHADER),!!l&&(c.shaderSource(l,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),c.compileShader(l),f=c.createProgram(),!!f&&(c.attachShader(f,u),c.attachShader(f,l),c.linkProgram(f),c.useProgram(f),c.drawArrays(c.POINTS,0,1),c.getError()===c.NO_ERROR)))}finally{c.disable(c.BLEND),f&&c.deleteProgram(f),u&&c.deleteShader(u),l&&c.deleteShader(l),o&&(c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteFramebuffer(o)),s&&(c.bindTexture(c.TEXTURE_2D,null),c.deleteTexture(s))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const c=this.gl,s=this.disjointTimerQueryWebgl2Extension,o=c.createQuery();return c.beginQuery(s.TIME_ELAPSED_EXT,o),o}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");this.gl.endQuery(this.disjointTimerQueryWebgl2Extension.TIME_ELAPSED_EXT)}isTimerResultAvailable(c){let s=!1,o=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const u=this.gl,l=this.disjointTimerQueryWebgl2Extension;s=u.getQueryParameter(c,u.QUERY_RESULT_AVAILABLE),o=u.getParameter(l.GPU_DISJOINT_EXT)}return s&&!o}getTimerResult(c){let s=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const o=this.gl;s=o.getQueryParameter(c,o.QUERY_RESULT),o.deleteQuery(c)}return s/1e6}waitForQueryAndGetTime(c){var s=this;return _asyncToGenerator(function*(){return yield v.repeatedTry(()=>s.isTimerResultAvailable(c)),s.getTimerResult(c)})()}createAndWaitForFence(){var c=this;return _asyncToGenerator(function*(){const s=c.createFence(c.gl);return c.pollFence(s)})()}createFence(c){let s;const o=c,u=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);return c.flush(),s=null===u?()=>!0:()=>{const l=o.clientWaitSync(u,0,0);return l===o.ALREADY_SIGNALED||l===o.CONDITION_SATISFIED},{query:u,isFencePassed:s}}pollFence(c){var s=this;return _asyncToGenerator(function*(){return new Promise(o=>{s.addItemToPoll(()=>c.isFencePassed(),()=>o())})})()}pollItems(){const c=p(this.itemsToPoll.map(s=>s.isDoneFn));for(let s=0;s<=c;++s){const{resolveFn:o}=this.itemsToPoll[s];o()}this.itemsToPoll=this.itemsToPoll.slice(c+1)}addItemToPoll(c,s){var o=this;return _asyncToGenerator(function*(){o.itemsToPoll.push({isDoneFn:c,resolveFn:s}),o.itemsToPoll.length>1||(yield v.repeatedTry(()=>(o.pollItems(),0===o.itemsToPoll.length)))})()}}},1036:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.ExecutionPlan=void 0;const x=O(6231);class w{constructor(g,b){this.op=g,this.node=b}}_.ExecutionPlan=class{constructor(T,g,b){this.graph=T,this.profiler=b,this.initialize(g)}initialize(T){this.profiler.event("session","ExecutionPlan.initialize",()=>{const g=this.graph.getNodes();if(g.length!==T.length)throw new Error("The size of nodes and OPs do not match.");this._ops=T.map((b,v)=>new w(b,g[v])),this.reset(),this._starter=[],this._ops.forEach((b,v)=>{let p=!0;for(const c of b.node.inputs)if(!this._values[c]&&-1===this.graph.getInputIndices().indexOf(c)){p=!1;break}p&&this._starter.push(v)})})}reset(){this._values=this.graph.getValues().map(T=>T.tensor)}execute(T,g){var b=this;return _asyncToGenerator(function*(){return b.profiler.event("session","ExecutionPlan.execute",_asyncToGenerator(function*(){b.reset();const v=T.createInferenceHandler(),p=b.graph.getInputIndices();if(g.length!==p.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${g.length} expected: ${p.length}`);g.forEach((f,m)=>{b._values[p[m]]=f});const c=b._starter.slice(0),s=b.graph.getValues(),o=b.graph.getNodes();let u=0;for(;u<c.length;){const f=c[u++],m=b._ops[f],D=m.node.inputs.map(I=>b._values[I]);if(-1!==D.indexOf(void 0))throw new Error(`unresolved input detected: op: ${m.node}`);const E=D;x.Logger.verbose("ExecPlan",`Runing op:${m.node.name} (${E.map((I,k)=>`'${m.node.inputs[k]}': ${I.type}[${I.dims.join(",")}]`).join(", ")})`);const S=yield b.profiler.event("node",m.node.name,_asyncToGenerator(function*(){return m.op.impl(v,E,m.op.context)}));if(S.length!==m.node.outputs.length)throw new Error("the size of output does not match model definition.");S.forEach((I,k)=>{const L=m.node.outputs[k];if(b._values[L])throw new Error(`output [${L}] already has value: op:${m.node.name}`);b._values[L]=I});const A=new Set;S.forEach((I,k)=>{const L=m.node.outputs[k];for(const R of s[L].to){const P=o[R];let j=!0;for(const z of P.inputs)if(!b._values[z]){j=!1;break}j&&A.add(R)}}),c.push(...A)}const l=[];for(let f=0;f<b.graph.getOutputIndices().length;f++){const m=b.graph.getOutputIndices()[f],D=b._values[m];if(void 0===D)throw new Error(`required output [${m}] does not have value`);0===m&&(yield D.getData()),l.push(D)}return x.Logger.verbose("ExecPlan","disposing of inferenceHandler"),v.dispose(),l}))})()}}},7070:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.Graph=void 0;const x=O(1446),w=O(7778);var T=O(9395).onnxruntime.experimental.fbs;const g=O(9162),b=O(2517);_.Graph={from:(s,o)=>new c(s,o)};class v{constructor(o){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,o&&(this.type=b.ProtoUtil.tensorValueTypeFromProto(o.type.tensorType))}get from(){return this._from}get to(){return this._to}}class p{constructor(o,u){o instanceof x.onnx.NodeProto?(this.name=o.name,this.opType=o.opType,this.attributes=new w.Attribute(o.attribute)):o instanceof T.Node&&(this.name=u??o.name(),this.opType=o.opType(),this.attributes=new w.Attribute(b.ProtoUtil.tensorAttributesFromORTFormat(o))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class c{constructor(o,u){if(!o)throw new TypeError("graph is empty");this.buildGraph(o),this.transformGraph(u),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(o){if(o instanceof x.onnx.GraphProto)this.buildGraphFromOnnxFormat(o);else{if(!(o instanceof T.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(o)}}buildGraphFromOnnxFormat(o){const u=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const l=new Map;if(!o.input)throw new Error("missing information in graph: input");const f=[];for(const m of o.input){if(u.has(m.name))throw new Error(`duplicated input name: ${m.name}`);const D=this._allData.push(new v(m))-1;u.set(m.name,D),f.push(m.name)}if(!o.initializer)throw new Error("missing information in graph: initializer");for(const m of o.initializer){let D=u.get(m.name);if(void 0===D){const E=new v;E.type={shape:{dims:b.ProtoUtil.tensorDimsFromProto(m.dims)},tensorType:b.ProtoUtil.tensorDataTypeFromProto(m.dataType)},D=this._allData.push(E)-1,u.set(m.name,D)}this._allData[D]._from=-1,this._allData[D].tensor=g.Tensor.fromProto(m)}for(let m=0;m<this._allData.length;m++)this._allData[m].tensor||(this._allInputIndices.push(m),this._allInputNames.push(f[m]));if(!o.output)throw new Error("missing information in graph: output");for(const m of o.output){if(u.has(m.name))throw new Error(`duplicated output name: ${m.name}`);const D=this._allData.push(new v(m))-1;u.set(m.name,D),this._allOutputIndices.push(D),this._allOutputNames.push(m.name)}if(!o.node)throw new Error("missing information in graph: node");for(const m of o.node){if(!m.name)for(let E=0;;E++){const S=`unnamed_${m.opType}_${E}`;if(!l.has(S)){m.name=S;break}}if(l.has(m.name))throw new Error(`duplicated node name: ${m.name}`);const D=this._nodes.push(new p(m))-1;l.set(m.name,D)}for(let m=0;m<this._nodes.length;m++){const D=this._nodes[m],E=o.node[m];if(!E.output)throw new Error(`missing output for node: ${E.name}`);for(const S of E.output){let A=u.get(S);if(void 0===A&&(A=this._allData.push(new v)-1,u.set(S,A)),D.outputs.push(A),void 0!==this._allData[A]._from)throw new Error(`multiple nodes output to one data value: ${A}`);if(this._allData[A]._from=m,"Constant"===E.opType){if(!E.attribute||1!==E.attribute.length||!E.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!E.output||1!==E.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");D.outputs.pop(),D.executeNode=!1,this._allData[A]._from=-1,this._allData[A].tensor=g.Tensor.fromProto(E.attribute[0].t)}}}for(let m=0;m<this._nodes.length;m++){const D=this._nodes[m],E=o.node[m];if(!E.input)throw new Error(`missing input for node: ${E.name}`);for(const S of E.input){const A=u.get(S);if(void 0===A)throw new Error(`unrecognized input '${S}' for node: ${E.name}`);D.inputs.push(A),this._allData[A]._to.push(m)}}return!0}buildGraphFromOrtFormat(o){var u,l,f;const m=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const D=new Map,E=[];for(let S=0;S<o.inputsLength();S++){const A=o.inputs(S);if(m.has(A))throw new Error(`duplicated input name: ${A}`);for(let I=0;I<o.nodeArgsLength();I++)if((null===(u=o.nodeArgs(I))||void 0===u?void 0:u.name())===A){const k=new v;if((null===(f=null===(l=o.nodeArgs(I))||void 0===l?void 0:l.type())||void 0===f?void 0:f.valueType())!==T.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const L=o.nodeArgs(I).type().value(new T.TensorTypeAndShape),R=b.ProtoUtil.tensorDataTypeFromProto(L.elemType()),P=L.shape(),j=[];for(let J=0;J<P.dimLength();J++)j.push(b.LongUtil.longToNumber(P.dim(J).value().dimValue()));k.type={shape:{dims:j},tensorType:R};const z=this._allData.push(k)-1;m.set(A,z),E.push(A)}}for(let S=0;S<o.initializersLength();S++){const A=o.initializers(S);let I=m.get(A.name());if(void 0===I){const k=new v,L=b.ProtoUtil.tensorDimsFromORTFormat(A),R=b.ProtoUtil.tensorDataTypeFromProto(A.dataType());k.type={shape:{dims:L},tensorType:R},I=this._allData.push(k)-1,m.set(A.name(),I)}this._allData[I]._from=-1,this._allData[I].tensor=g.Tensor.fromOrtTensor(A)}for(let S=0;S<this._allData.length;S++)this._allData[S].tensor||(this._allInputIndices.push(S),this._allInputNames.push(E[S]));for(let S=0;S<o.outputsLength();S++){const A=o.outputs(S);if(m.has(A))throw new Error(`duplicated output name: ${A}`);const I=this._allData.push(new v)-1;m.set(A,I),this._allOutputIndices.push(I),this._allOutputNames.push(A)}if(!o.nodes)throw new Error("missing information in graph: node");for(let S=0;S<o.nodesLength();S++){const A=o.nodes(S);let I=A.name();if(!I)for(let L=0;I=`unnamed_${A.opType()}_${L}`,D.has(I);L++);if(D.has(I))throw new Error(`duplicated node name: ${I}`);const k=this._nodes.push(new p(A,I))-1;D.set(I,k)}for(let S=0;S<this._nodes.length;S++){const A=this._nodes[S],I=o.nodes(S);if(null==I)throw new Error(`No node exists at index ${S}`);if(0===I?.outputsLength())throw new Error(`missing output for node: ${I.name}`);for(let k=0;k<I?.outputsLength();k++){const L=I?.outputs(k);let R=m.get(L);if(void 0===R&&(R=this._allData.push(new v)-1,m.set(L,R)),A.outputs.push(R),void 0!==this._allData[R]._from)throw new Error(`multiple nodes output to one data value: ${R}`);if(this._allData[R]._from=S,"Constant"===I.opType()){if(1!==I.attributesLength()||!I.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==I.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");A.outputs.pop(),A.executeNode=!1,this._allData[R]._from=-1,this._allData[R].tensor=g.Tensor.fromOrtTensor(I.attributes(0).t())}}}for(let S=0;S<this._nodes.length;S++){const A=this._nodes[S],I=o.nodes(S);if(0===I.inputsLength())throw new Error(`missing input for node: ${I.name}`);for(let k=0;k<I.inputsLength();k++){const L=I.inputs(k),R=m.get(L);if(void 0===R)throw new Error(`unrecognized input '${L}' for node: ${I.name()}`);A.inputs.push(R),this._allData[R]._to.push(S)}}}checkIsAcyclic(){const o=new Set;this._allInputIndices.forEach(f=>{this._allData[f]._to.forEach(m=>{o.add(m)})});const u=Array.from(o),l=new Array(this._nodes.length).fill("white");for(;u.length>0;){const f=u.pop();"gray"===l[f]?l[f]="black":(u.push(f),l[f]="gray",this._nodes[f].outputs.forEach(m=>{const D=this._allData[m];if(void 0!==D.tensor)throw new Error("node outputs should not be initialized");if(D._from!==f)throw new Error("from property of the Value object doesn't match index of Node being processed");D._to.forEach(E=>{if("gray"===l[E])throw new Error("model graph is cyclic");"white"===l[E]&&u.push(E)})}))}}transformGraph(o){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),o&&o.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let o=0;for(let u=0;u<this._nodes.length;u++)this._nodes[u].executeNode?o>0&&(this._nodes[u].inputs.forEach(l=>{const f=this._allData[l]._to.indexOf(u+o);-1!==f&&(this._allData[l]._to[f]=u)}),this._nodes[u].outputs.forEach(l=>{this._allData[l]._from&&this._allData[l]._from===u+o&&(this._allData[l]._from=u)})):(o++,this._nodes[u].outputs.forEach(l=>{this._allData[l]._from=-2}),this._nodes.splice(u,1),u--);o=0;for(let u=0;u<this._allData.length;u++)if(-2!==this._allData[u].from||-1!==this._allOutputIndices.indexOf(u+o)){if(o>0){let l=-1;void 0!==this._allData[u].from&&-1!==this._allData[u].from?(l=this._nodes[this._allData[u].from].outputs.indexOf(u+o),-1!==l&&(this._nodes[this._allData[u].from].outputs[l]=u)):(l=this._allInputIndices.indexOf(u+o),-1!==l&&(this._allInputIndices[l]=u)),this._allData[u].to.forEach(f=>{l=this._nodes[f].inputs.indexOf(u+o),-1!==l&&(this._nodes[f].inputs[l]=u)}),0===this._allData[u].to.length&&(l=this._allOutputIndices.indexOf(u+o),-1!==l&&(this._allOutputIndices[l]=u))}}else o++,this._allData.splice(u,1),u--}deleteNode(o){const u=this._nodes[o];if(u.outputs.length>1)for(let S=1;S<u.outputs.length;S++)if(this._allData[u.outputs[S]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");u.executeNode=!1;const l=u.inputs[0],f=u.outputs[0],m=this._allData[f].to,D=this._allData[l].to.indexOf(o);if(-1===D)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[l].to.splice(D,1),this._allData[f]._to=[];const E=this._allOutputIndices.indexOf(f);if(-1!==E&&(this._allOutputIndices[E]=l),m&&m.length>0)for(const S of m){const A=this._nodes[S].inputs.indexOf(f);if(-1===A)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[S].inputs[A]=l,this._allData[l].to.push(S)}}removeAllDropoutNodes(){let o=0;for(const u of this._nodes){if("Dropout"===u.opType){if(1!==u.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==u.outputs.length&&2!==u.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===u.outputs.length&&0!==this._allData[u.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(o)}o++}}removeAllIdentityNodes(){let o=0;for(const u of this._nodes)"Identity"===u.opType&&this.deleteNode(o),o++}isActivation(o){switch(o.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const o of this._nodes)if("Conv"===o.opType){const u=this._allData[o.outputs[0]]._to;if(1===u.length&&this.isActivation(this._nodes[u[0]])){const l=this._nodes[u[0]];if("Clip"===l.opType)if(1===l.inputs.length)try{o.attributes.set("activation_params","floats",[l.attributes.getFloat("min"),l.attributes.getFloat("max")])}catch{o.attributes.set("activation_params","floats",[b.MIN_CLIP,b.MAX_CLIP])}else{if(!(l.inputs.length>=3&&void 0!==this._allData[l.inputs[1]].tensor&&void 0!==this._allData[l.inputs[2]].tensor))continue;o.attributes.set("activation_params","floats",[this._allData[l.inputs[1]].tensor.floatData[0],this._allData[l.inputs[2]].tensor.floatData[0]])}o.attributes.set("activation","string",l.opType),this.deleteNode(u[0])}}}}},6231:(X,_)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.now=_.Profiler=_.Logger=void 0;const O={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},x={none:new class{log(c,s,o){}},console:new class{log(c,s,o){console.log(`${this.color(c)} ${o?"\x1b[35m"+o+"\x1b[0m ":""}${s}`)}color(c){switch(c){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error(`unsupported severity: ${c}`)}}}},w={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let T={"":w};function g(c,s,o,u){if(void 0===s)return{verbose:g.verbose.bind(null,l=c),info:g.info.bind(null,l),warning:g.warning.bind(null,l),error:g.error.bind(null,l),fatal:g.fatal.bind(null,l)};if(void 0===o)b(c,s);else if("number"==typeof o&&void 0===u)b(c,s);else if("string"==typeof o&&void 0===u)b(c,o,0,s);else{if("string"!=typeof o||"number"!=typeof u)throw new TypeError("input is valid");b(c,o,0,s)}var l}function b(c,s,o,u){const l=T[u||""]||T[""];O[c]<O[l.minimalSeverity]||(l.logDateTime&&(s=`${(new Date).toISOString()}|${s}`),x[l.provider].log(c,s,u))}(function(c){function s(u){T={},o("",u||{})}function o(u,l){if("*"===u)s(l);else{const f=T[u]||w;T[u]={provider:l.provider||f.provider,minimalSeverity:l.minimalSeverity||f.minimalSeverity,logDateTime:void 0===l.logDateTime?f.logDateTime:l.logDateTime,logSourceLocation:void 0===l.logSourceLocation?f.logSourceLocation:l.logSourceLocation}}}c.verbose=function(u,l){c("verbose",u,l)},c.info=function(u,l){c("info",u,l)},c.warning=function(u,l){c("warning",u,l)},c.error=function(u,l){c("error",u,l)},c.fatal=function(u,l){c("fatal",u,l)},c.reset=s,c.set=o,c.setWithEnv=function(u){const l={};u.logLevel&&(l.minimalSeverity=u.logLevel),o("",l)}})(g||(g={})),_.Logger=g;class v{constructor(s,o,u,l,f,m){this.category=s,this.name=o,this.startTime=u,this.endCallback=l,this.timer=f,this.ctx=m}end(){return this.endCallback(this)}checkTimer(){var s=this;return _asyncToGenerator(function*(){if(void 0===s.ctx||void 0===s.timer)throw new Error("No webgl timer found");return s.ctx.endTimer(),s.ctx.waitForQueryAndGetTime(s.timer)})()}}class p{constructor(s,o,u,l){this.category=s,this.name=o,this.startTime=u,this.endTime=l}}_.Profiler=class{constructor(c,s,o){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===c?1e4:c,this._flushBatchSize=void 0===s?10:s,this._flushIntervalInMilliseconds=void 0===o?5e3:o}static create(c){return void 0===c?new this:new this(c.maxNumberEvents,c.flushBatchSize,c.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=_.now(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(c,s,o,u){const l=this._started?this.begin(c,s,u):void 0;let f=!1;const m=o();if(m&&"function"==typeof m.then)return f=!0,new Promise((D,E)=>{m.then(function(){var S=_asyncToGenerator(function*(A){l&&(yield l.end()),D(A)});return function(A){return S.apply(this,arguments)}}(),function(){var S=_asyncToGenerator(function*(A){l&&(yield l.end()),E(A)});return function(A){return S.apply(this,arguments)}}())});if(!f&&l){const D=l.end();if(D&&"function"==typeof D.then)return new Promise((E,S)=>{D.then(()=>{E(m)},A=>{S(A)})})}return m}begin(c,s,o){var u=this;if(!this._started)throw new Error("profiler is not started yet");if(void 0===o){const l=_.now();return this.flush(l),new v(c,s,l,f=>this.endSync(f))}{const l=o.beginTimer();return new v(c,s,0,function(){var f=_asyncToGenerator(function*(m){return u.end(m)});return function(m){return f.apply(this,arguments)}}(),l,o)}}end(c){var s=this;return _asyncToGenerator(function*(){const o=yield c.checkTimer();s._timingEvents.length<s._maxNumberEvents&&(s._timingEvents.push(new p(c.category,c.name,c.startTime,o)),s.flush(o))})()}endSync(c){const s=_.now();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new p(c.category,c.name,c.startTime,s)),this.flush(s))}logOneEvent(c){_.Logger.verbose(`Profiler.${c.category}`,`${(c.endTime-c.startTime).toFixed(2)}ms on event '${c.name}' at ${c.endTime.toFixed(2)}`)}flush(c){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||c-this._flushTime>=this._flushIntervalInMilliseconds){for(const s=this._flushPointer;this._flushPointer<s+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=_.now()}}get started(){return this._started}},_.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.Model=void 0;const x=O(4819),w=O(1446),T=O(7070);var g=O(9395).onnxruntime.experimental.fbs;const b=O(2517);_.Model=class{constructor(){}load(v,p,c){if(!c)try{return void this.loadFromOnnxFormat(v,p)}catch(s){if(void 0!==c)throw s}this.loadFromOrtFormat(v,p)}loadFromOnnxFormat(v,p){const c=w.onnx.ModelProto.decode(v);if(b.LongUtil.longToNumber(c.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=c.opsetImport.map(s=>({domain:s.domain,version:b.LongUtil.longToNumber(s.version)})),this._graph=T.Graph.from(c.graph,p)}loadFromOrtFormat(v,p){const c=new x.flatbuffers.ByteBuffer(v),s=g.InferenceSession.getRootAsInferenceSession(c).model();if(b.LongUtil.longToNumber(s.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let o=0;o<s.opsetImportLength();o++){const u=s.opsetImport(o);this._opsets.push({domain:u?.domain(),version:b.LongUtil.longToNumber(u.version())})}this._graph=T.Graph.from(s.graph(),p)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(X,_)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.FLOAT_TYPES=_.INT_TYPES=_.NUMBER_TYPES=void 0,_.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],_.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],_.FLOAT_TYPES=["float32","float64"]},1047:(X,_)=>{"use strict";function O(x,w){if(w.endsWith("+")){const T=Number.parseInt(w.substring(0,w.length-1),10);return!isNaN(T)&&T<=x}if(2===w.split("-").length){const T=w.split("-"),g=Number.parseInt(T[0],10),b=Number.parseInt(T[1],10);return!isNaN(g)&&!isNaN(b)&&g<=x&&x<=b}return Number.parseInt(w,10)===x}Object.defineProperty(_,"__esModule",{value:!0}),_.resolveOperator=void 0,_.resolveOperator=function(x,w,T){for(const g of T){const v=g[1],p=g[2],c=g[3],s=g[4];if(x.opType===g[0])for(const o of w)if((o.domain===v||"ai.onnx"===o.domain&&""===v)&&O(o.version,p))return{opImpl:c,opInit:s}}throw new TypeError(`cannot resolve operator '${x.opType}' with opsets: ${w.map(g=>`${g.domain||"ai.onnx"} v${g.version}`).join(", ")}`)}},9395:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.onnxruntime=void 0;const x=O(4819);var w,T,g,b;(function(g){let b;var v;(v=b=g.AttributeType||(g.AttributeType={}))[v.UNDEFINED=0]="UNDEFINED",v[v.FLOAT=1]="FLOAT",v[v.INT=2]="INT",v[v.STRING=3]="STRING",v[v.TENSOR=4]="TENSOR",v[v.GRAPH=5]="GRAPH",v[v.FLOATS=6]="FLOATS",v[v.INTS=7]="INTS",v[v.STRINGS=8]="STRINGS",v[v.TENSORS=9]="TENSORS",v[v.GRAPHS=10]="GRAPHS",v[v.SPARSE_TENSOR=11]="SPARSE_TENSOR",v[v.SPARSE_TENSORS=12]="SPARSE_TENSORS"})((T=(w=_.onnxruntime||(_.onnxruntime={})).experimental||(w.experimental={})).fbs||(T.fbs={})),function(v){let p;var c;(c=p=v.DimensionValueType||(v.DimensionValueType={}))[c.UNKNOWN=0]="UNKNOWN",c[c.VALUE=1]="VALUE",c[c.PARAM=2]="PARAM"}((b=(g=_.onnxruntime||(_.onnxruntime={})).experimental||(g.experimental={})).fbs||(b.fbs={})),function(g){!function(b){!function(v){let p;var c;(c=p=v.TensorDataType||(v.TensorDataType={}))[c.UNDEFINED=0]="UNDEFINED",c[c.FLOAT=1]="FLOAT",c[c.UINT8=2]="UINT8",c[c.INT8=3]="INT8",c[c.UINT16=4]="UINT16",c[c.INT16=5]="INT16",c[c.INT32=6]="INT32",c[c.INT64=7]="INT64",c[c.STRING=8]="STRING",c[c.BOOL=9]="BOOL",c[c.FLOAT16=10]="FLOAT16",c[c.DOUBLE=11]="DOUBLE",c[c.UINT32=12]="UINT32",c[c.UINT64=13]="UINT64",c[c.COMPLEX64=14]="COMPLEX64",c[c.COMPLEX128=15]="COMPLEX128",c[c.BFLOAT16=16]="BFLOAT16"}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){let p;var c;(c=p=v.NodeType||(v.NodeType={}))[c.Primitive=0]="Primitive",c[c.Fused=1]="Fused"}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){let p;var c;(c=p=v.TypeInfoValue||(v.TypeInfoValue={}))[c.NONE=0]="NONE",c[c.tensor_type=1]="tensor_type",c[c.sequence_type=2]="sequence_type",c[c.map_type=3]="map_type"}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsShape(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsShape(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}dim(s,o){let u=this.bb.__offset(this.bb_pos,4);return u?(o||new g.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}dimLength(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__vector_len(this.bb_pos+s):0}static startShape(s){s.startObject(1)}static addDim(s,o){s.addFieldOffset(0,o,0)}static createDimVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startDimVector(s,o){s.startVector(4,o,4)}static endShape(s){return s.endObject()}static createShape(s,o){return p.startShape(s),p.addDim(s,o),p.endShape(s)}}v.Shape=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsDimension(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsDimension(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}value(s){let o=this.bb.__offset(this.bb_pos,4);return o?(s||new g.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}denotation(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}static startDimension(s){s.startObject(2)}static addValue(s,o){s.addFieldOffset(0,o,0)}static addDenotation(s,o){s.addFieldOffset(1,o,0)}static endDimension(s){return s.endObject()}static createDimension(s,o,u){return p.startDimension(s),p.addValue(s,o),p.addDenotation(s,u),p.endDimension(s)}}v.Dimension=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsDimensionValue(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsDimensionValue(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}dimType(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt8(this.bb_pos+s):g.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}dimParam(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,s):null}static startDimensionValue(s){s.startObject(3)}static addDimType(s,o){s.addFieldInt8(0,o,g.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(s,o){s.addFieldInt64(1,o,s.createLong(0,0))}static addDimParam(s,o){s.addFieldOffset(2,o,0)}static endDimensionValue(s){return s.endObject()}static createDimensionValue(s,o,u,l){return p.startDimensionValue(s),p.addDimType(s,o),p.addDimValue(s,u),p.addDimParam(s,l),p.endDimensionValue(s)}}v.DimensionValue=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsTensorTypeAndShape(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsTensorTypeAndShape(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}elemType(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt32(this.bb_pos+s):g.experimental.fbs.TensorDataType.UNDEFINED}shape(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new g.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startTensorTypeAndShape(s){s.startObject(2)}static addElemType(s,o){s.addFieldInt32(0,o,g.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(s,o){s.addFieldOffset(1,o,0)}static endTensorTypeAndShape(s){return s.endObject()}static createTensorTypeAndShape(s,o,u){return p.startTensorTypeAndShape(s),p.addElemType(s,o),p.addShape(s,u),p.endTensorTypeAndShape(s)}}v.TensorTypeAndShape=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsMapType(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsMapType(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}keyType(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt32(this.bb_pos+s):g.experimental.fbs.TensorDataType.UNDEFINED}valueType(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startMapType(s){s.startObject(2)}static addKeyType(s,o){s.addFieldInt32(0,o,g.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(s,o){s.addFieldOffset(1,o,0)}static endMapType(s){return s.endObject()}static createMapType(s,o,u){return p.startMapType(s),p.addKeyType(s,o),p.addValueType(s,u),p.endMapType(s)}}v.MapType=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsSequenceType(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsSequenceType(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}elemType(s){let o=this.bb.__offset(this.bb_pos,4);return o?(s||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startSequenceType(s){s.startObject(1)}static addElemType(s,o){s.addFieldOffset(0,o,0)}static endSequenceType(s){return s.endObject()}static createSequenceType(s,o){return p.startSequenceType(s),p.addElemType(s,o),p.endSequenceType(s)}}v.SequenceType=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){(b.fbs||(b.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(v,p){return this.bb_pos=v,this.bb=p,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(v,p,c,s){return v.prep(4,12),v.writeInt32(s),v.writeInt32(c),v.writeInt32(p),v.offset()}}}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsNodeEdge(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsNodeEdge(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}nodeIndex(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readUint32(this.bb_pos+s):0}inputEdges(s,o){let u=this.bb.__offset(this.bb_pos,6);return u?(o||new g.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+u)+12*s,this.bb):null}inputEdgesLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}outputEdges(s,o){let u=this.bb.__offset(this.bb_pos,8);return u?(o||new g.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+u)+12*s,this.bb):null}outputEdgesLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}static startNodeEdge(s){s.startObject(3)}static addNodeIndex(s,o){s.addFieldInt32(0,o,0)}static addInputEdges(s,o){s.addFieldOffset(1,o,0)}static startInputEdgesVector(s,o){s.startVector(12,o,4)}static addOutputEdges(s,o){s.addFieldOffset(2,o,0)}static startOutputEdgesVector(s,o){s.startVector(12,o,4)}static endNodeEdge(s){return s.endObject()}static createNodeEdge(s,o,u,l){return p.startNodeEdge(s),p.addNodeIndex(s,o),p.addInputEdges(s,u),p.addOutputEdges(s,l),p.endNodeEdge(s)}}v.NodeEdge=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsNode(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsNode(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}name(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}docString(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}domain(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,s):null}sinceVersion(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readInt32(this.bb_pos+s):0}index(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.readUint32(this.bb_pos+s):0}opType(s){let o=this.bb.__offset(this.bb_pos,14);return o?this.bb.__string(this.bb_pos+o,s):null}type(){let s=this.bb.__offset(this.bb_pos,16);return s?this.bb.readInt32(this.bb_pos+s):g.experimental.fbs.NodeType.Primitive}executionProviderType(s){let o=this.bb.__offset(this.bb_pos,18);return o?this.bb.__string(this.bb_pos+o,s):null}inputs(s,o){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}inputsLength(){let s=this.bb.__offset(this.bb_pos,20);return s?this.bb.__vector_len(this.bb_pos+s):0}outputs(s,o){let u=this.bb.__offset(this.bb_pos,22);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}outputsLength(){let s=this.bb.__offset(this.bb_pos,22);return s?this.bb.__vector_len(this.bb_pos+s):0}attributes(s,o){let u=this.bb.__offset(this.bb_pos,24);return u?(o||new g.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}attributesLength(){let s=this.bb.__offset(this.bb_pos,24);return s?this.bb.__vector_len(this.bb_pos+s):0}inputArgCounts(s){let o=this.bb.__offset(this.bb_pos,26);return o?this.bb.readInt32(this.bb.__vector(this.bb_pos+o)+4*s):0}inputArgCountsLength(){let s=this.bb.__offset(this.bb_pos,26);return s?this.bb.__vector_len(this.bb_pos+s):0}inputArgCountsArray(){let s=this.bb.__offset(this.bb_pos,26);return s?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}implicitInputs(s,o){let u=this.bb.__offset(this.bb_pos,28);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}implicitInputsLength(){let s=this.bb.__offset(this.bb_pos,28);return s?this.bb.__vector_len(this.bb_pos+s):0}static startNode(s){s.startObject(13)}static addName(s,o){s.addFieldOffset(0,o,0)}static addDocString(s,o){s.addFieldOffset(1,o,0)}static addDomain(s,o){s.addFieldOffset(2,o,0)}static addSinceVersion(s,o){s.addFieldInt32(3,o,0)}static addIndex(s,o){s.addFieldInt32(4,o,0)}static addOpType(s,o){s.addFieldOffset(5,o,0)}static addType(s,o){s.addFieldInt32(6,o,g.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(s,o){s.addFieldOffset(7,o,0)}static addInputs(s,o){s.addFieldOffset(8,o,0)}static createInputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startInputsVector(s,o){s.startVector(4,o,4)}static addOutputs(s,o){s.addFieldOffset(9,o,0)}static createOutputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startOutputsVector(s,o){s.startVector(4,o,4)}static addAttributes(s,o){s.addFieldOffset(10,o,0)}static createAttributesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startAttributesVector(s,o){s.startVector(4,o,4)}static addInputArgCounts(s,o){s.addFieldOffset(11,o,0)}static createInputArgCountsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addInt32(o[u]);return s.endVector()}static startInputArgCountsVector(s,o){s.startVector(4,o,4)}static addImplicitInputs(s,o){s.addFieldOffset(12,o,0)}static createImplicitInputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startImplicitInputsVector(s,o){s.startVector(4,o,4)}static endNode(s){return s.endObject()}static createNode(s,o,u,l,f,m,D,E,S,A,I,k,L,R){return p.startNode(s),p.addName(s,o),p.addDocString(s,u),p.addDomain(s,l),p.addSinceVersion(s,f),p.addIndex(s,m),p.addOpType(s,D),p.addType(s,E),p.addExecutionProviderType(s,S),p.addInputs(s,A),p.addOutputs(s,I),p.addAttributes(s,k),p.addInputArgCounts(s,L),p.addImplicitInputs(s,R),p.endNode(s)}}v.Node=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsValueInfo(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsValueInfo(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}name(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}docString(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}type(s){let o=this.bb.__offset(this.bb_pos,8);return o?(s||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startValueInfo(s){s.startObject(3)}static addName(s,o){s.addFieldOffset(0,o,0)}static addDocString(s,o){s.addFieldOffset(1,o,0)}static addType(s,o){s.addFieldOffset(2,o,0)}static endValueInfo(s){return s.endObject()}static createValueInfo(s,o,u,l){return p.startValueInfo(s),p.addName(s,o),p.addDocString(s,u),p.addType(s,l),p.endValueInfo(s)}}v.ValueInfo=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsTypeInfo(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsTypeInfo(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}denotation(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}valueType(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readUint8(this.bb_pos+s):g.experimental.fbs.TypeInfoValue.NONE}value(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__union(s,this.bb_pos+o):null}static startTypeInfo(s){s.startObject(3)}static addDenotation(s,o){s.addFieldOffset(0,o,0)}static addValueType(s,o){s.addFieldInt8(1,o,g.experimental.fbs.TypeInfoValue.NONE)}static addValue(s,o){s.addFieldOffset(2,o,0)}static endTypeInfo(s){return s.endObject()}static createTypeInfo(s,o,u,l){return p.startTypeInfo(s),p.addDenotation(s,o),p.addValueType(s,u),p.addValue(s,l),p.endTypeInfo(s)}}v.TypeInfo=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsOperatorSetId(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsOperatorSetId(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}domain(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}version(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}static startOperatorSetId(s){s.startObject(2)}static addDomain(s,o){s.addFieldOffset(0,o,0)}static addVersion(s,o){s.addFieldInt64(1,o,s.createLong(0,0))}static endOperatorSetId(s){return s.endObject()}static createOperatorSetId(s,o,u){return p.startOperatorSetId(s),p.addDomain(s,o),p.addVersion(s,u),p.endOperatorSetId(s)}}v.OperatorSetId=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsTensor(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsTensor(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}name(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}docString(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}dims(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*s):this.bb.createLong(0,0)}dimsLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}dataType(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readInt32(this.bb_pos+s):g.experimental.fbs.TensorDataType.UNDEFINED}rawData(s){let o=this.bb.__offset(this.bb_pos,12);return o?this.bb.readUint8(this.bb.__vector(this.bb_pos+o)+s):0}rawDataLength(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.__vector_len(this.bb_pos+s):0}rawDataArray(){let s=this.bb.__offset(this.bb_pos,12);return s?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}stringData(s,o){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}stringDataLength(){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__vector_len(this.bb_pos+s):0}static startTensor(s){s.startObject(6)}static addName(s,o){s.addFieldOffset(0,o,0)}static addDocString(s,o){s.addFieldOffset(1,o,0)}static addDims(s,o){s.addFieldOffset(2,o,0)}static createDimsVector(s,o){s.startVector(8,o.length,8);for(let u=o.length-1;u>=0;u--)s.addInt64(o[u]);return s.endVector()}static startDimsVector(s,o){s.startVector(8,o,8)}static addDataType(s,o){s.addFieldInt32(3,o,g.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(s,o){s.addFieldOffset(4,o,0)}static createRawDataVector(s,o){s.startVector(1,o.length,1);for(let u=o.length-1;u>=0;u--)s.addInt8(o[u]);return s.endVector()}static startRawDataVector(s,o){s.startVector(1,o,1)}static addStringData(s,o){s.addFieldOffset(5,o,0)}static createStringDataVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startStringDataVector(s,o){s.startVector(4,o,4)}static endTensor(s){return s.endObject()}static createTensor(s,o,u,l,f,m,D){return p.startTensor(s),p.addName(s,o),p.addDocString(s,u),p.addDims(s,l),p.addDataType(s,f),p.addRawData(s,m),p.addStringData(s,D),p.endTensor(s)}}v.Tensor=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsSparseTensor(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsSparseTensor(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}values(s){let o=this.bb.__offset(this.bb_pos,4);return o?(s||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}indices(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}dims(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*s):this.bb.createLong(0,0)}dimsLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}static startSparseTensor(s){s.startObject(3)}static addValues(s,o){s.addFieldOffset(0,o,0)}static addIndices(s,o){s.addFieldOffset(1,o,0)}static addDims(s,o){s.addFieldOffset(2,o,0)}static createDimsVector(s,o){s.startVector(8,o.length,8);for(let u=o.length-1;u>=0;u--)s.addInt64(o[u]);return s.endVector()}static startDimsVector(s,o){s.startVector(8,o,8)}static endSparseTensor(s){return s.endObject()}static createSparseTensor(s,o,u,l){return p.startSparseTensor(s),p.addValues(s,o),p.addIndices(s,u),p.addDims(s,l),p.endSparseTensor(s)}}v.SparseTensor=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsAttribute(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsAttribute(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}name(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}docString(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}type(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.readInt32(this.bb_pos+s):g.experimental.fbs.AttributeType.UNDEFINED}f(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readFloat32(this.bb_pos+s):0}i(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}s(s){let o=this.bb.__offset(this.bb_pos,14);return o?this.bb.__string(this.bb_pos+o,s):null}t(s){let o=this.bb.__offset(this.bb_pos,16);return o?(s||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}g(s){let o=this.bb.__offset(this.bb_pos,18);return o?(s||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}floats(s){let o=this.bb.__offset(this.bb_pos,20);return o?this.bb.readFloat32(this.bb.__vector(this.bb_pos+o)+4*s):0}floatsLength(){let s=this.bb.__offset(this.bb_pos,20);return s?this.bb.__vector_len(this.bb_pos+s):0}floatsArray(){let s=this.bb.__offset(this.bb_pos,20);return s?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}ints(s){let o=this.bb.__offset(this.bb_pos,22);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*s):this.bb.createLong(0,0)}intsLength(){let s=this.bb.__offset(this.bb_pos,22);return s?this.bb.__vector_len(this.bb_pos+s):0}strings(s,o){let u=this.bb.__offset(this.bb_pos,24);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}stringsLength(){let s=this.bb.__offset(this.bb_pos,24);return s?this.bb.__vector_len(this.bb_pos+s):0}tensors(s,o){let u=this.bb.__offset(this.bb_pos,26);return u?(o||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}tensorsLength(){let s=this.bb.__offset(this.bb_pos,26);return s?this.bb.__vector_len(this.bb_pos+s):0}graphs(s,o){let u=this.bb.__offset(this.bb_pos,28);return u?(o||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}graphsLength(){let s=this.bb.__offset(this.bb_pos,28);return s?this.bb.__vector_len(this.bb_pos+s):0}static startAttribute(s){s.startObject(13)}static addName(s,o){s.addFieldOffset(0,o,0)}static addDocString(s,o){s.addFieldOffset(1,o,0)}static addType(s,o){s.addFieldInt32(2,o,g.experimental.fbs.AttributeType.UNDEFINED)}static addF(s,o){s.addFieldFloat32(3,o,0)}static addI(s,o){s.addFieldInt64(4,o,s.createLong(0,0))}static addS(s,o){s.addFieldOffset(5,o,0)}static addT(s,o){s.addFieldOffset(6,o,0)}static addG(s,o){s.addFieldOffset(7,o,0)}static addFloats(s,o){s.addFieldOffset(8,o,0)}static createFloatsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addFloat32(o[u]);return s.endVector()}static startFloatsVector(s,o){s.startVector(4,o,4)}static addInts(s,o){s.addFieldOffset(9,o,0)}static createIntsVector(s,o){s.startVector(8,o.length,8);for(let u=o.length-1;u>=0;u--)s.addInt64(o[u]);return s.endVector()}static startIntsVector(s,o){s.startVector(8,o,8)}static addStrings(s,o){s.addFieldOffset(10,o,0)}static createStringsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startStringsVector(s,o){s.startVector(4,o,4)}static addTensors(s,o){s.addFieldOffset(11,o,0)}static createTensorsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startTensorsVector(s,o){s.startVector(4,o,4)}static addGraphs(s,o){s.addFieldOffset(12,o,0)}static createGraphsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startGraphsVector(s,o){s.startVector(4,o,4)}static endAttribute(s){return s.endObject()}static createAttribute(s,o,u,l,f,m,D,E,S,A,I,k,L,R){return p.startAttribute(s),p.addName(s,o),p.addDocString(s,u),p.addType(s,l),p.addF(s,f),p.addI(s,m),p.addS(s,D),p.addT(s,E),p.addG(s,S),p.addFloats(s,A),p.addInts(s,I),p.addStrings(s,k),p.addTensors(s,L),p.addGraphs(s,R),p.endAttribute(s)}}v.Attribute=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsGraph(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsGraph(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}initializers(s,o){let u=this.bb.__offset(this.bb_pos,4);return u?(o||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}initializersLength(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__vector_len(this.bb_pos+s):0}nodeArgs(s,o){let u=this.bb.__offset(this.bb_pos,6);return u?(o||new g.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}nodeArgsLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}nodes(s,o){let u=this.bb.__offset(this.bb_pos,8);return u?(o||new g.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}nodesLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}maxNodeIndex(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readUint32(this.bb_pos+s):0}nodeEdges(s,o){let u=this.bb.__offset(this.bb_pos,12);return u?(o||new g.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}nodeEdgesLength(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.__vector_len(this.bb_pos+s):0}inputs(s,o){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}inputsLength(){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__vector_len(this.bb_pos+s):0}outputs(s,o){let u=this.bb.__offset(this.bb_pos,16);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}outputsLength(){let s=this.bb.__offset(this.bb_pos,16);return s?this.bb.__vector_len(this.bb_pos+s):0}sparseInitializers(s,o){let u=this.bb.__offset(this.bb_pos,18);return u?(o||new g.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}sparseInitializersLength(){let s=this.bb.__offset(this.bb_pos,18);return s?this.bb.__vector_len(this.bb_pos+s):0}static startGraph(s){s.startObject(8)}static addInitializers(s,o){s.addFieldOffset(0,o,0)}static createInitializersVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startInitializersVector(s,o){s.startVector(4,o,4)}static addNodeArgs(s,o){s.addFieldOffset(1,o,0)}static createNodeArgsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startNodeArgsVector(s,o){s.startVector(4,o,4)}static addNodes(s,o){s.addFieldOffset(2,o,0)}static createNodesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startNodesVector(s,o){s.startVector(4,o,4)}static addMaxNodeIndex(s,o){s.addFieldInt32(3,o,0)}static addNodeEdges(s,o){s.addFieldOffset(4,o,0)}static createNodeEdgesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startNodeEdgesVector(s,o){s.startVector(4,o,4)}static addInputs(s,o){s.addFieldOffset(5,o,0)}static createInputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startInputsVector(s,o){s.startVector(4,o,4)}static addOutputs(s,o){s.addFieldOffset(6,o,0)}static createOutputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startOutputsVector(s,o){s.startVector(4,o,4)}static addSparseInitializers(s,o){s.addFieldOffset(7,o,0)}static createSparseInitializersVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startSparseInitializersVector(s,o){s.startVector(4,o,4)}static endGraph(s){return s.endObject()}static createGraph(s,o,u,l,f,m,D,E,S){return p.startGraph(s),p.addInitializers(s,o),p.addNodeArgs(s,u),p.addNodes(s,l),p.addMaxNodeIndex(s,f),p.addNodeEdges(s,m),p.addInputs(s,D),p.addOutputs(s,E),p.addSparseInitializers(s,S),p.endGraph(s)}}v.Graph=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsModel(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsModel(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}irVersion(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}opsetImport(s,o){let u=this.bb.__offset(this.bb_pos,6);return u?(o||new g.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}opsetImportLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}producerName(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,s):null}producerVersion(s){let o=this.bb.__offset(this.bb_pos,10);return o?this.bb.__string(this.bb_pos+o,s):null}domain(s){let o=this.bb.__offset(this.bb_pos,12);return o?this.bb.__string(this.bb_pos+o,s):null}modelVersion(){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}docString(s){let o=this.bb.__offset(this.bb_pos,16);return o?this.bb.__string(this.bb_pos+o,s):null}graph(s){let o=this.bb.__offset(this.bb_pos,18);return o?(s||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}graphDocString(s){let o=this.bb.__offset(this.bb_pos,20);return o?this.bb.__string(this.bb_pos+o,s):null}static startModel(s){s.startObject(9)}static addIrVersion(s,o){s.addFieldInt64(0,o,s.createLong(0,0))}static addOpsetImport(s,o){s.addFieldOffset(1,o,0)}static createOpsetImportVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startOpsetImportVector(s,o){s.startVector(4,o,4)}static addProducerName(s,o){s.addFieldOffset(2,o,0)}static addProducerVersion(s,o){s.addFieldOffset(3,o,0)}static addDomain(s,o){s.addFieldOffset(4,o,0)}static addModelVersion(s,o){s.addFieldInt64(5,o,s.createLong(0,0))}static addDocString(s,o){s.addFieldOffset(6,o,0)}static addGraph(s,o){s.addFieldOffset(7,o,0)}static addGraphDocString(s,o){s.addFieldOffset(8,o,0)}static endModel(s){return s.endObject()}static createModel(s,o,u,l,f,m,D,E,S,A){return p.startModel(s),p.addIrVersion(s,o),p.addOpsetImport(s,u),p.addProducerName(s,l),p.addProducerVersion(s,f),p.addDomain(s,m),p.addModelVersion(s,D),p.addDocString(s,E),p.addGraph(s,S),p.addGraphDocString(s,A),p.endModel(s)}}v.Model=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsKernelCreateInfos(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsKernelCreateInfos(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}nodeIndices(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.readUint32(this.bb.__vector(this.bb_pos+o)+4*s):0}nodeIndicesLength(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__vector_len(this.bb_pos+s):0}nodeIndicesArray(){let s=this.bb.__offset(this.bb_pos,4);return s?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}kernelDefHashes(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.readUint64(this.bb.__vector(this.bb_pos+o)+8*s):this.bb.createLong(0,0)}kernelDefHashesLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}static startKernelCreateInfos(s){s.startObject(2)}static addNodeIndices(s,o){s.addFieldOffset(0,o,0)}static createNodeIndicesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addInt32(o[u]);return s.endVector()}static startNodeIndicesVector(s,o){s.startVector(4,o,4)}static addKernelDefHashes(s,o){s.addFieldOffset(1,o,0)}static createKernelDefHashesVector(s,o){s.startVector(8,o.length,8);for(let u=o.length-1;u>=0;u--)s.addInt64(o[u]);return s.endVector()}static startKernelDefHashesVector(s,o){s.startVector(8,o,8)}static endKernelCreateInfos(s){return s.endObject()}static createKernelCreateInfos(s,o,u){return p.startKernelCreateInfos(s),p.addNodeIndices(s,o),p.addKernelDefHashes(s,u),p.endKernelCreateInfos(s)}}v.KernelCreateInfos=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsSubGraphSessionState(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsSubGraphSessionState(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}graphId(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}sessionState(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new g.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startSubGraphSessionState(s){s.startObject(2)}static addGraphId(s,o){s.addFieldOffset(0,o,0)}static addSessionState(s,o){s.addFieldOffset(1,o,0)}static endSubGraphSessionState(s){let o=s.endObject();return s.requiredField(o,4),o}static createSubGraphSessionState(s,o,u){return p.startSubGraphSessionState(s),p.addGraphId(s,o),p.addSessionState(s,u),p.endSubGraphSessionState(s)}}v.SubGraphSessionState=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsSessionState(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsSessionState(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}kernels(s){let o=this.bb.__offset(this.bb_pos,4);return o?(s||new g.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}subGraphSessionStates(s,o){let u=this.bb.__offset(this.bb_pos,6);return u?(o||new g.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}subGraphSessionStatesLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}static startSessionState(s){s.startObject(2)}static addKernels(s,o){s.addFieldOffset(0,o,0)}static addSubGraphSessionStates(s,o){s.addFieldOffset(1,o,0)}static createSubGraphSessionStatesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startSubGraphSessionStatesVector(s,o){s.startVector(4,o,4)}static endSessionState(s){return s.endObject()}static createSessionState(s,o,u){return p.startSessionState(s),p.addKernels(s,o),p.addSubGraphSessionStates(s,u),p.endSessionState(s)}}v.SessionState=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(g){!function(b){!function(v){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsInferenceSession(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsInferenceSession(s,o){return s.setPosition(s.position()+x.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static bufferHasIdentifier(s){return s.__has_identifier("ORTM")}ortVersion(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}model(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new g.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}sessionState(s){let o=this.bb.__offset(this.bb_pos,8);return o?(s||new g.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startInferenceSession(s){s.startObject(3)}static addOrtVersion(s,o){s.addFieldOffset(0,o,0)}static addModel(s,o){s.addFieldOffset(1,o,0)}static addSessionState(s,o){s.addFieldOffset(2,o,0)}static endInferenceSession(s){return s.endObject()}static finishInferenceSessionBuffer(s,o){s.finish(o,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(s,o){s.finish(o,"ORTM",!0)}static createInferenceSession(s,o,u,l){return p.startInferenceSession(s),p.addOrtVersion(s,o),p.addModel(s,u),p.addSessionState(s,l),p.endInferenceSession(s)}}v.InferenceSession=p}(b.fbs||(b.fbs={}))}(g.experimental||(g.experimental={}))}(_.onnxruntime||(_.onnxruntime={}))},7448:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.OnnxjsSessionHandler=void 0;const x=O(2174),w=O(9162);_.OnnxjsSessionHandler=class{constructor(T){this.session=T,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}dispose(){return _asyncToGenerator(function*(){})()}run(T,g,b){var v=this;return _asyncToGenerator(function*(){const p=new Map;for(const o in T)if(Object.hasOwnProperty.call(T,o)){const u=T[o];p.set(o,new w.Tensor(u.dims,u.type,void 0,void 0,u.data))}const c=yield v.session.run(p),s={};return c.forEach((o,u)=>{s[u]=new x.Tensor(o.type,o.data,o.dims)}),s})()}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.Session=void 0;const x=O(7067),w=O(1296),T=O(7091),g=O(1036),b=O(6231),v=O(2644);_.Session=class{constructor(p={}){this._initialized=!1,this.backendHint=p.backendHint,this.profiler=b.Profiler.create(p.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}loadModel(p,c,s){var o=this;return _asyncToGenerator(function*(){yield o.profiler.event("session","Session.loadModel",_asyncToGenerator(function*(){const u=yield T.resolveBackend(o.backendHint);if(o.sessionHandler=u.createSessionHandler(o.context),o._model=new v.Model,"string"==typeof p){const l=p.endsWith(".ort");if(typeof fetch>"u"){const f=yield w.promisify(x.readFile)(p);o.initialize(f,l)}else{const f=yield fetch(p),m=yield f.arrayBuffer();o.initialize(new Uint8Array(m),l)}}else if(ArrayBuffer.isView(p))o.initialize(p);else{const l=new Uint8Array(p,c||0,s||p.byteLength);o.initialize(l)}}))})()}initialize(p,c){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{this._model.load(p,this.sessionHandler.transformGraph?this.sessionHandler:void 0,c),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new g.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}run(p){var c=this;return _asyncToGenerator(function*(){if(!c._initialized)throw new Error("session not initialized yet");return c.profiler.event("session","Session.run",_asyncToGenerator(function*(){const s=c.normalizeAndValidateInputs(p),o=yield c._executionPlan.execute(c.sessionHandler,s);return c.createOutput(o)}))})()}normalizeAndValidateInputs(p){const c=this._model.graph.getInputNames();if(Array.isArray(p)){if(p.length!==c.length)throw new Error(`incorrect input array length: expected ${c.length} but got ${p.length}`)}else{if(p.size!==c.length)throw new Error(`incorrect input map size: expected ${c.length} but got ${p.size}`);const s=new Array(p.size);let o=0;for(let u=0;u<c.length;++u){const l=p.get(c[u]);if(!l)throw new Error(`missing input tensor for: '${name}'`);s[o++]=l}p=s}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,p,!1);else{const s=this._model.graph.getInputIndices(),o=this._model.graph.getValues(),u=new Array(s.length);for(let l=0;l<s.length;++l){const f=o[s[l]];u[l]=f.type.shape.dims,this.context.graphInputTypes.push(f.type.tensorType),this.context.graphInputDims.push(p[l].dims)}this.validateInputTensorDims(u,p,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,p),p}validateInputTensorTypes(p,c){for(let s=0;s<c.length;s++){const o=p[s],u=c[s].type;if(o!==u)throw new Error(`input tensor[${s}] check failed: expected type '${o}' but got ${u}`)}}validateInputTensorDims(p,c,s){for(let o=0;o<c.length;o++){const u=p[o],l=c[o].dims;if(!this.compareTensorDims(u,l,s))throw new Error(`input tensor[${o}] check failed: expected shape '[${u.join(",")}]' but got [${l.join(",")}]`)}}compareTensorDims(p,c,s){if(p.length!==c.length)return!1;for(let o=0;o<p.length;++o)if(p[o]!==c[o]&&(!s||0!==p[o]))return!1;return!0}createOutput(p){const c=this._model.graph.getOutputNames();if(p.length!==c.length)throw new Error("expected number of outputs do not match number of generated outputs");const s=new Map;for(let o=0;o<c.length;++o)s.set(c[o],p[o]);return s}initializeOps(p){const c=p.getNodes();this._ops=new Array(c.length);for(let s=0;s<c.length;s++)this._ops[s]=this.sessionHandler.resolve(c[s],this._model.opsets,p)}}},9162:function(X,_,O){"use strict";var x=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(_,"__esModule",{value:!0}),_.Tensor=void 0;const w=O(3442),T=x(O(3720)),g=O(1446);var b=O(9395).onnxruntime.experimental.fbs;const v=O(2517);class p{constructor(f,m,D,E,S,A=w.Guid.create()){this.dims=f,this.type=m,this.dataProvider=D,this.asyncDataProvider=E,this.cache=S,this.dataId=A,this.size=v.ShapeUtil.validateDimsAndCalcSize(f);const I=this.size,k=void 0===D&&void 0===E&&void 0===S;if(void 0!==S&&S.length!==I)throw new RangeError("Input dims doesn't match data length.");if("string"===m){if(!(void 0===S||Array.isArray(S)&&S.every(L=>"string"==typeof L)))throw new TypeError("cache should be a string array");k&&(this.cache=new Array(I))}else{if(void 0!==S){const L=s(m);if(!(S instanceof L))throw new TypeError(`cache should be type ${L.name}`)}if(k){const L=new ArrayBuffer(I*function(R){switch(R){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${R}`)}}(m));this.cache=(R=L,new(s(m))(R))}}var R}get data(){if(void 0===this.cache){const f=this.dataProvider(this.dataId);if(f.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=f}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(f){return this.data[v.ShapeUtil.indicesToOffset(f,this.strides)]}set(f,m){this.data[v.ShapeUtil.indicesToOffset(f,this.strides)]=m}getData(){var f=this;return _asyncToGenerator(function*(){return void 0===f.cache&&(f.cache=yield f.asyncDataProvider(f.dataId)),f.cache})()}get strides(){return this._strides||(this._strides=v.ShapeUtil.computeStrides(this.dims)),this._strides}static fromProto(f){if(!f)throw new Error("cannot construct Value from an empty tensor");const m=v.ProtoUtil.tensorDataTypeFromProto(f.dataType),D=v.ProtoUtil.tensorDimsFromProto(f.dims),E=new p(D,m);if("string"===m)f.stringData.forEach((S,A)=>{E.data[A]=v.decodeUtf8String(S)});else if(f.rawData&&"number"==typeof f.rawData.byteLength&&f.rawData.byteLength>0){const S=E.data,A=new DataView(f.rawData.buffer,f.rawData.byteOffset,f.rawData.byteLength),I=c(f.dataType),k=f.rawData.byteLength/I;if(f.rawData.byteLength%I!=0)throw new Error("invalid buffer length");if(S.length!==k)throw new Error("buffer length mismatch");for(let L=0;L<k;L++){const R=u(A,f.dataType,L*I);S[L]=R}}else{let S;switch(f.dataType){case g.onnx.TensorProto.DataType.FLOAT:S=f.floatData;break;case g.onnx.TensorProto.DataType.INT32:case g.onnx.TensorProto.DataType.INT16:case g.onnx.TensorProto.DataType.UINT16:case g.onnx.TensorProto.DataType.INT8:case g.onnx.TensorProto.DataType.UINT8:case g.onnx.TensorProto.DataType.BOOL:S=f.int32Data;break;case g.onnx.TensorProto.DataType.INT64:S=f.int64Data;break;case g.onnx.TensorProto.DataType.DOUBLE:S=f.doubleData;break;case g.onnx.TensorProto.DataType.UINT32:case g.onnx.TensorProto.DataType.UINT64:S=f.uint64Data;break;default:throw new Error("unspecific error")}if(null==S)throw new Error("failed to populate data from a tensorproto value");const A=E.data;if(A.length!==S.length)throw new Error("array length mismatch");for(let I=0;I<S.length;I++){const k=S[I];A[I]=T.default.isLong(k)?o(k,f.dataType):k}}return E}static fromData(f,m,D){return new p(m,D,void 0,void 0,f)}static fromOrtTensor(f){if(!f)throw new Error("cannot construct Value from an empty tensor");const m=v.ProtoUtil.tensorDimsFromORTFormat(f),D=v.ProtoUtil.tensorDataTypeFromProto(f.dataType()),E=new p(m,D);if("string"===D)for(let S=0;S<f.stringDataLength();S++)E.data[S]=f.stringData(S);else if(f.rawDataArray()&&"number"==typeof f.rawDataLength()&&f.rawDataLength()>0){const S=E.data,A=new DataView(f.rawDataArray().buffer,f.rawDataArray().byteOffset,f.rawDataLength()),I=c(f.dataType()),k=f.rawDataLength()/I;if(f.rawDataLength()%I!=0)throw new Error("invalid buffer length");if(S.length!==k)throw new Error("buffer length mismatch");for(let L=0;L<k;L++){const R=u(A,f.dataType(),L*I);S[L]=R}}return E}}function c(l){switch(l){case g.onnx.TensorProto.DataType.UINT8:case g.onnx.TensorProto.DataType.INT8:case g.onnx.TensorProto.DataType.BOOL:return 1;case g.onnx.TensorProto.DataType.UINT16:case g.onnx.TensorProto.DataType.INT16:return 2;case g.onnx.TensorProto.DataType.FLOAT:case g.onnx.TensorProto.DataType.INT32:case g.onnx.TensorProto.DataType.UINT32:return 4;case g.onnx.TensorProto.DataType.INT64:case g.onnx.TensorProto.DataType.DOUBLE:case g.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${g.onnx.TensorProto.DataType[l]}`)}}function s(l){switch(l){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function o(l,f){if(f===g.onnx.TensorProto.DataType.INT64||f===b.TensorDataType.INT64){if(l.greaterThanOrEqual(2147483648)||l.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(f!==g.onnx.TensorProto.DataType.UINT32&&f!==b.TensorDataType.UINT32&&f!==g.onnx.TensorProto.DataType.UINT64&&f!==b.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${g.onnx.TensorProto.DataType[f]}`);if(l.greaterThanOrEqual(4294967296)||l.lessThan(0))throw new TypeError("uint64 is not supported")}return l.toNumber()}function u(l,f,m){switch(f){case g.onnx.TensorProto.DataType.BOOL:case g.onnx.TensorProto.DataType.UINT8:return l.getUint8(m);case g.onnx.TensorProto.DataType.INT8:return l.getInt8(m);case g.onnx.TensorProto.DataType.UINT16:return l.getUint16(m,!0);case g.onnx.TensorProto.DataType.INT16:return l.getInt16(m,!0);case g.onnx.TensorProto.DataType.FLOAT:return l.getFloat32(m,!0);case g.onnx.TensorProto.DataType.INT32:return l.getInt32(m,!0);case g.onnx.TensorProto.DataType.UINT32:return l.getUint32(m,!0);case g.onnx.TensorProto.DataType.INT64:return o(T.default.fromBits(l.getUint32(m,!0),l.getUint32(m+4,!0),!1),f);case g.onnx.TensorProto.DataType.DOUBLE:return l.getFloat64(m,!0);case g.onnx.TensorProto.DataType.UINT64:return o(T.default.fromBits(l.getUint32(m,!0),l.getUint32(m+4,!0),!0),f);default:throw new Error(`cannot read from DataView for type ${g.onnx.TensorProto.DataType[f]}`)}}_.Tensor=p},2517:function(X,_,O){"use strict";var x=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(_,"__esModule",{value:!0}),_.decodeUtf8String=_.MAX_CLIP=_.MIN_CLIP=_.PoolConvUtil=_.ReduceUtil=_.SplitUtil=_.MathUtil=_.ShapeUtil=_.LongUtil=_.ProtoUtil=_.GemmUtil=_.arrayCopyHelper=_.BroadcastUtil=_.MatMulUtil=_.ArrayUtil=_.assert=_.checkInputsShape=void 0;const w=O(4819),T=x(O(3720)),g=O(1446),b=O(9162);_.checkInputsShape=function(m,...D){if(!m||m.length!==D.length)return!1;for(let E=0;E<m.length;E++)if(!m[E].dims||m[E].dims.length!==D[E])return!1;return!0},_.assert=function(m,D){if(!m)throw new Error("string"==typeof D?D:D())},_.ArrayUtil=class{static arraysEqual(m,D){if(m.length!==D.length)return!1;for(let E=0;E<m.length;E++)if(m[E]!==D[E])return!1;return!0}};class v{static preprocessInputShapes(D,E){return[1===D.length?[1,D[0]]:D,1===E.length?[E[0],1]:E]}static postprocessOutputShape(D,E,S){1===E&&D.splice(D.length-2,1),1===S&&D.pop()}static calcMatMulShape(D,E){return D[1]!==E[0]?void 0:[D[0],E[1]]}}_.MatMulUtil=v;class p{static calcShape(D,E,S=!1){const A=D.length,I=E.length;if(0===A)return E;if(0===I)return D;const k=Math.max(D.length,E.length),L=new Array(k);if(S){if(A<2||I<2)return;const R=v.calcMatMulShape([D[A-2],D[A-1]],[E[I-2],E[I-1]]);if(void 0===R)return;[L[k-2],L[k-1]]=R}for(let R=S?3:1;R<=k;R++){const P=A-R<0?1:D[A-R],j=I-R<0?1:E[I-R];if(P!==j&&P>1&&j>1)return;L[k-R]=Math.max(P,j)}return L}static index(D,E){const S=new Array(E.length);return p.fillIndex(D,E,S),S}static fillIndex(D,E,S){const A=D.length-E.length;for(let I=0;I<E.length;I++)S[I]=D[A+I]%E[I]}static calc(D,E,S,A,I){const k=p.calcShape(D.dims,E.dims);if(k){if(A&&!o.areEqual(k,D.dims))return;const L=o.size(k),R=A?D:new b.Tensor(k,I||D.type);if(0===k.length)R.set([],S(D.get([]),E.get([])));else{const P=new Array(k.length),j=new Array(D.dims.length),z=new Array(E.dims.length);let J,G=0,ne=0,se=!1,q=!1;0===D.dims.length&&(G=D.get([]),se=!0),0===E.dims.length&&(ne=E.get([]),q=!0);for(let Z=0;Z<L;Z++){J=Z;for(let pe=k.length-1;pe>=0;pe--)P[pe]=J%k[pe],J=Math.floor(J/k[pe]);se||(p.fillIndex(P,D.dims,j),G=D.get(j)),q||(p.fillIndex(P,E.dims,z),ne=E.get(z)),R.set(P,S(G,ne))}}return R}}static isValidBroadcast(D,E){const S=D.length,A=E.length;if(S>A)return!1;for(let I=1;I<=S;I++)if(1!==D[S-I]&&D[S-I]!==E[A-I])return!1;return!0}static getBroadcastDims(D,E){const S=D.length,A=[];for(let I=0;I<S;I++){const k=S-1-I,L=D[k]||1;(E[E.length-1-I]||1)>1&&1===L&&A.unshift(k)}return A}}_.BroadcastUtil=p,_.arrayCopyHelper=function(m,D,E,S,A){if(S<0||S>=D.length)throw new Error("sourceIndex out of bounds");if(E<0||E>=m.length)throw new Error("targetIndex out of bounds");if(S+A>D.length)throw new Error("source indices to be copied are outside bounds");if(E+A>m.length)throw new Error("target array is too small to hold result");for(let I=0;I<A;I++)m[E+I]=D[S+I]},_.GemmUtil=class{static getShapeOfGemmResult(m,D,E,S,A){if(2!==m.length||2!==E.length)throw new Error("shape need to be of size 2");let I,k,L;D?(I=m[1],k=m[0]):(I=m[0],k=m[1]);let R=-1;if(S?(L=E[0],R=1):(L=E[1],R=0),E[R]!==k)throw new Error("dimension mismatch");if(I<=0||L<=0||k<=0)throw new Error("invalid shape specified");if(A&&!p.isValidBroadcast(A,[I,L]))throw new Error("gemm: invalid bias shape for broadcast");return[I,L,k]}};class c{static tensorDataTypeFromProto(D){switch(D){case g.onnx.TensorProto.DataType.INT8:return"int8";case g.onnx.TensorProto.DataType.UINT8:return"uint8";case g.onnx.TensorProto.DataType.BOOL:return"bool";case g.onnx.TensorProto.DataType.INT16:return"int16";case g.onnx.TensorProto.DataType.UINT16:return"uint16";case g.onnx.TensorProto.DataType.INT32:return"int32";case g.onnx.TensorProto.DataType.UINT32:return"uint32";case g.onnx.TensorProto.DataType.FLOAT:return"float32";case g.onnx.TensorProto.DataType.DOUBLE:return"float64";case g.onnx.TensorProto.DataType.STRING:return"string";case g.onnx.TensorProto.DataType.INT64:return"int32";case g.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${g.onnx.TensorProto.DataType[D]}`)}}static tensorDataTypeStringToEnum(D){switch(D){case"int8":return g.onnx.TensorProto.DataType.INT8;case"uint8":return g.onnx.TensorProto.DataType.UINT8;case"bool":return g.onnx.TensorProto.DataType.BOOL;case"int16":return g.onnx.TensorProto.DataType.INT16;case"uint16":return g.onnx.TensorProto.DataType.UINT16;case"int32":return g.onnx.TensorProto.DataType.INT32;case"uint32":return g.onnx.TensorProto.DataType.UINT32;case"float32":return g.onnx.TensorProto.DataType.FLOAT;case"float64":return g.onnx.TensorProto.DataType.DOUBLE;case"string":return g.onnx.TensorProto.DataType.STRING;case"int64":return g.onnx.TensorProto.DataType.INT64;case"uint64":return g.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${D}`)}}static tensorDimsFromProto(D){return D.map(E=>T.default.isLong(E)?E.toNumber():E)}static tensorValueTypeFromProto(D){return{tensorType:c.tensorDataTypeFromProto(D.elemType),shape:{dims:c.tensorDimsFromProto(D.shape.dim.map(E=>E.dimValue))}}}static tensorDimsFromORTFormat(D){const E=[];for(let S=0;S<D.dimsLength();S++)E.push(s.longToNumber(D.dims(S)));return E}static tensorAttributesFromORTFormat(D){const E=[];for(let S=0;S<D.attributesLength();S++)E.push(D.attributes(S));return E}}_.ProtoUtil=c;class s{static longToNumber(D,E){return T.default.isLong(D)?D.toNumber():D instanceof w.flatbuffers.Long?T.default.fromValue({low:D.low,high:D.high,unsigned:null!=E&&E}).toNumber():D}static isLong(D){return T.default.isLong(D)||D instanceof w.flatbuffers.Long}}_.LongUtil=s;class o{static size(D){return o.getSizeFromDimensionRange(D,0,D.length)}static sizeFromDimension(D,E){if(E<0||E>D.length)throw new Error(`invalid dimension of ${E} for sizeFromDimension as Tensor has ${D.length} dimensions.`);return o.getSizeFromDimensionRange(D,E,D.length)}static sizeToDimension(D,E){if(E<0||E>D.length)throw new Error(`invalid dimension of ${E} for sizeToDimension as Tensor has ${D.length} dimensions.`);return o.getSizeFromDimensionRange(D,0,E)}static getSizeFromDimensionRange(D,E,S){let A=1;for(let I=E;I<S;I++){if(D[I]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");A*=D[I]}return A}static computeStrides(D){const E=D.length;if(0===E)return[];if(1===E)return[1];const S=new Array(E);S[E-1]=1,S[E-2]=D[E-1];for(let A=E-3;A>=0;--A)S[A]=S[A+1]*D[A+1];return S}static transpose(D){return D.slice().reverse()}static indicesToOffset(D,E,S){void 0===S&&(S=D.length);let A=0;for(let I=0;I<S;++I)A+=E[I]*D[I];return A}static offsetToIndices(D,E){const S=E.length;if(0===S)return[];if(1===S)return[D*E[0]];const A=new Array(E.length);for(let I=0;I<A.length-1;++I)A[I]=Math.floor(D/E[I]),D-=A[I]*E[I];return A[A.length-1]=D,A}static normalizeAxis(D,E){if(D<-E&&D>=E)throw new Error("unsupported axis for this operation.");return D<0?D+E:D}static normalizeAxes(D,E){return D.map(S=>this.normalizeAxis(S,E))}static incrementIndex(D,E,S){if(0===E.length||0===D.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===S)S=E.length;else if(S<=0||S>E.length)throw new Error("Incorrect axis to increment on");for(let A=S-1;A>=0&&(D[A]++,!(D[A]<E[A]));--A)D[A]=0}static calculateReshapedDims(D,E){if(0===E.length){if(0===D.length||1===o.size(D))return[];throw new Error("cannot reshape to a scalar Tensor")}const S=E.length,A=new Array(S);let I=-1,k=1;for(let R=0;R<S;R++){if(E[R]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===E[R]){if(-1!==I)throw new Error("at most one dimension in shape hints can be -1");I=R}else{if(0===E[R]){if(R>=D.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");A[R]=D[R]}else A[R]=E[R];k*=A[R]}}const L=o.size(D);if(-1!==I){if(L%k!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${D}] Output shape: [${E}]`);A[I]=L/k}else if(k!==L)throw new Error("reshapedDims and originalDims don't have matching sizes");return A}static sortBasedOnPerm(D,E){return E?E.map(S=>D[S]):D.slice().reverse()}static padShape(D,E){const S=D.length;return D.map((A,I)=>A+E[I]+E[I+S])}static areEqual(D,E){return D.length===E.length&&D.every((S,A)=>S===E[A])}static validateDimsAndCalcSize(D){if(D.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let E=1;for(const S of D){if(!Number.isInteger(S))throw new TypeError(`Invalid shape: ${S} is not an integer`);if(S<0||S>2147483647)throw new TypeError(`Invalid shape: length ${S} is not allowed`);E*=S}return E}static flattenShape(D,E){E<0&&(E+=D.length);const S=D.reduce((I,k)=>I*k,1),A=D.slice(E).reduce((I,k)=>I*k,1);return[S/A,A]}static squeezeShape(D,E){const S=new Array;E=o.normalizeAxes(E,D.length);for(let A=0;A<D.length;A++){const I=E.indexOf(A)>=0;if(I&&1!==D[A])throw new Error("squeeze an axis of size different than 1");(0===E.length&&D[A]>1||E.length>0&&!I)&&S.push(D[A])}return S}static unsqueezeShape(D,E){const S=new Array(D.length+E.length);S.fill(0);for(let I=0;I<E.length;I++){const k=o.normalizeAxis(E[I],D.length);if(k>=S.length)throw new Error("'axes' has an out of range axis");if(0!==S[k])throw new Error("'axes' has a duplicate axis");S[k]=1}let A=0;for(let I=0;I<S.length;I++)0===S[I]&&(S[I]=D[A++]);if(A!==D.length)throw new Error("the unsqueezed dimension could not be established");return S}}_.ShapeUtil=o,_.MathUtil=class{static sqr(m,D,E,S,A){if(S<0||S>=D.length)throw new Error("sourceIndex out of bounds");if(E<0||E>=m.length)throw new Error("targetIndex out of bounds");if(S+A>D.length)throw new Error("source indices to be copied are outside bounds");if(E+A>m.length)throw new Error("target array is too small to hold result");for(let I=0;I<A;I++)m[E+I]+=Math.pow(D[S+I],2)}static axpy(m,D,E,S,A,I){if(S<0||S>=D.length)throw new Error("sourceIndex out of bounds");if(E<0||E>=m.length)throw new Error("targetIndex out of bounds");if(S+A>D.length)throw new Error("source indices to be copied are outside bounds");if(E+A>m.length)throw new Error("target array is too small to hold result");for(let k=0;k<A;k++)m[E+k]+=I*D[S+k]}static powx(m,D,E,S,A,I){if(S<0||S>=D.length)throw new Error("sourceIndex out of bounds");if(E<0||E>=m.length)throw new Error("targetIndex out of bounds");if(S+A>D.length)throw new Error("source indices to be copied are outside bounds");if(E+A>m.length)throw new Error("target array is too small to hold result");for(let k=0;k<A;k++)m[E+k]=Math.pow(D[S+k],I)}static mul(m,D,E,S,A){if(S<0||S>=D.length)throw new Error("sourceIndex out of bounds");if(E<0||E>=m.length)throw new Error("targetIndex out of bounds");if(S+A>D.length)throw new Error("source indices to be copied are outside bounds");if(E+A>m.length)throw new Error("target array is too small to hold result");for(let I=0;I<A;I++)m[E+I]=D[S+I]*m[E+I]}};class u{static splitShape(D,E,S,A){if(0===S.length){if(!A)throw new Error("need to know number of outputs when the 'split' attribute is not specified");u.determineSplit(D[E],A,S)}const I=[],k=[0];for(let L=0;L<S.length;++L){0!==L&&k.push(k[L-1]+S[L-1]);const R=D.slice();R[E]=S[L],I.push(R)}return[I,k]}static determineSplit(D,E,S){if(D%E!=0)throw new Error("cannot split tensor to equal sized parts");for(let A=0;A<E;++A)S.push(D/E)}}_.SplitUtil=u;class l{static calcReduce(D,E,S,A,I){const k=D.dims.slice(0);0===E.length&&k.forEach((G,ne)=>E.push(ne));const L=l.calcReduceShape(k,E,!0),R=o.size(L),P=new b.Tensor(L,D.type),j=o.computeStrides(L),z=o.computeStrides(k),J=new Array(k.length);for(let G=0;G<R;G++){const ne=o.offsetToIndices(G,j);p.fillIndex(ne,k,J),P.set(ne,l.calcReduceByAxis(D.numberData,E,k,0,o.indicesToOffset(J,z),A,I))}return S?P:new b.Tensor(l.calcReduceShape(k,E,S),P.type,void 0,void 0,P.data,P.dataId)}static calcReduceByAxis(D,E,S,A,I,k,L){let R=0;if(A>=E.length)return k(D[I]);const P=E[A],j=P>=S.length?1:o.size(S.slice(P+1));for(let z=0;z<S[P];z++)R=0===z?l.calcReduceByAxis(D,E,S,A+1,I,k,L):L(R,l.calcReduceByAxis(D,E,S,A+1,I,k,L)),I+=j;return R}static calcReduceShape(D,E,S){const A=D.slice();for(let I=0;I<E.length;I++)A[E[I]]=S?1:0;return A.filter(I=>0!==I)}}_.ReduceUtil=l;class f{static adjustPoolAttributes(D,E,S,A,I,k){if(!D&&S.length!==E.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(D)for(let L=0;L<E.length-2;L++)L>=S.length?S.push(E[L+2]):S[L]=E[L+2];for(let L=0;L<S.length;L++)if(L<A.length){if(A[L]<0)throw new Error("strides should be greater than or equal to 1")}else A.push(1);for(let L=0;L<S.length;L++)if(L<I.length){if(I[L]<0)throw new Error("dilations should be greater than or equal to 1")}else I.push(1);for(let L=0;L<2*S.length;L++)if(L<k.length){if(k[L]<0)throw new Error("pad should be greater than or equal to 1")}else k.push(0);for(let L=0;L<S.length;L++){if(S[L]<=0)throw new Error("kernel shapes need to be greater than 0");if(k[L]>=S[L]||k[L+S.length]>=S[L])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(D,E,S,A,I,k){if(k){if(I.length!==2*(D.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(E.length!==D.length-2)throw new Error("length of strides should be the length of data dimensions");if(A.length!==D.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let L=0;L<D.length-2;L++)f.adjustPadAndReturnShape(D[L+2],E[L],S[L],A[L],I,L,L+D.length-2,k)}}static computePoolOutputShape(D,E,S,A,I,k,L){if(E.length<=0)throw new Error("input shape must be of size greater than 0");const R=[E[0],E[1]];return f.computeShapeHelper(D,E,R,S,A,I,k,L),R}static computeConvOutputShape(D,E,S,A,I,k,L){if(D.length<=0||E.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const R=[D[0],E[0]];return f.computeShapeHelper(!1,D,R,S,A,I,k,L),R}static computeShapeHelper(D,E,S,A,I,k,L,R){if(D)for(let P=0;P<E.length-2;P++)S.push(1);else for(let P=0;P<E.length-2;P++)S.push(f.adjustPadAndReturnShape(E[P+2],A[P],I[P],k[P],L,P,P+E.length-2,R))}static adjustPadAndReturnShape(D,E,S,A,I,k,L,R){const P=S*(A-1)+1;if(!R||"NOTSET"===R)return Math.floor((D+I[k]+I[L]-P)/E+1);switch(R){case"VALID":return I[k]=0,I[L]=0,Math.floor((D-P)/E+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==S)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const j=((D+E-1)/E-1)*E+A-D;return I[k]=Math.floor("SAME_LOWER"===R?(j+1)/2:j/2),I[L]=j-I[k],Math.floor((D+j-A)/E+1)}default:throw new Error("Unsupported AutoPad type")}}}_.PoolConvUtil=f,_.MIN_CLIP=-34028234663852886e22,_.MAX_CLIP=34028234663852886e22,_.decodeUtf8String=function(m){return(new TextDecoder).decode(m)}},7967:(X,_)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.iterateExtraOptions=void 0,_.iterateExtraOptions=(O,x,w,T)=>{if("object"==typeof O&&null!==O){if(w.has(O))throw new Error("Circular reference in options");w.add(O)}Object.entries(O).forEach(([g,b])=>{const v=x?x+g:g;if("object"==typeof b)_.iterateExtraOptions(b,v+".",w,T);else if("string"==typeof b||"number"==typeof b)T(v,b.toString());else{if("boolean"!=typeof b)throw new Error("Can't handle extra config type: "+typeof b);T(v,b?"1":"0")}})}},2157:function(X,_,O){"use strict";var x,w=this&&this.__createBinding||(Object.create?function(R,P,j,z){void 0===z&&(z=j),Object.defineProperty(R,z,{enumerable:!0,get:function(){return P[j]}})}:function(R,P,j,z){void 0===z&&(z=j),R[z]=P[j]}),T=this&&this.__setModuleDefault||(Object.create?function(R,P){Object.defineProperty(R,"default",{enumerable:!0,value:P})}:function(R,P){R.default=P}),g=this&&this.__importStar||function(R){if(R&&R.__esModule)return R;var P={};if(null!=R)for(var j in R)"default"!==j&&Object.prototype.hasOwnProperty.call(R,j)&&w(P,R,j);return T(P,R),P};Object.defineProperty(_,"__esModule",{value:!0}),_.endProfiling=_.run=_.releaseSession=_.createSession=_.initOrt=_.initWasm=void 0;const b=O(2174),v=g(O(349)),p=O(6361),c=()=>!!b.env.wasm.proxy&&typeof document<"u";let s,o,u,l=!1,f=!1,m=!1;const D=[],E=[],S=[],A=[],I=()=>{if(l||!f||m||!s)throw new Error("worker not ready")},k=R=>{switch(R.data.type){case"init-wasm":l=!1,R.data.err?(m=!0,o[1](R.data.err)):(f=!0,o[0]());break;case"init-ort":R.data.err?u[1](R.data.err):u[0]();break;case"create":R.data.err?D.shift()[1](R.data.err):D.shift()[0](R.data.out);break;case"release":R.data.err?E.shift()[1](R.data.err):E.shift()[0]();break;case"run":R.data.err?S.shift()[1](R.data.err):S.shift()[0](R.data.out);break;case"end-profiling":R.data.err?A.shift()[1](R.data.err):A.shift()[0]()}},L=typeof document<"u"?null===(x=document?.currentScript)||void 0===x?void 0:x.src:void 0;_.initWasm=_asyncToGenerator(function*(){if(c()){if(f)return;if(l)throw new Error("multiple calls to 'initWasm()' detected.");if(m)throw new Error("previous call to 'initWasm()' failed.");return l=!0,void 0===b.env.wasm.wasmPaths&&L&&0!==L.indexOf("blob:")&&(b.env.wasm.wasmPaths=L.substr(0,L.lastIndexOf("/")+1)),new Promise((R,P)=>{s?.terminate(),s=O(9710).Z(),s.onmessage=k,o=[R,P],s.postMessage({type:"init-wasm",in:b.env.wasm})})}return p.initializeWebAssembly(b.env.wasm)}),_.initOrt=function(){var R=_asyncToGenerator(function*(P,j){if(c())return I(),new Promise((z,J)=>{u=[z,J],s.postMessage({type:"init-ort",in:{numThreads:P,loggingLevel:j}})});v.initOrt(P,j)});return function(P,j){return R.apply(this,arguments)}}(),_.createSession=function(){var R=_asyncToGenerator(function*(P,j){return c()?(I(),new Promise((z,J)=>{D.push([z,J]),s.postMessage({type:"create",in:{model:P,options:j}},[P.buffer])})):v.createSession(P,j)});return function(P,j){return R.apply(this,arguments)}}(),_.releaseSession=function(){var R=_asyncToGenerator(function*(P){if(c())return I(),new Promise((j,z)=>{E.push([j,z]),s.postMessage({type:"release",in:P})});v.releaseSession(P)});return function(P){return R.apply(this,arguments)}}(),_.run=function(){var R=_asyncToGenerator(function*(P,j,z,J,G){return c()?(I(),new Promise((ne,se)=>{S.push([ne,se]),s.postMessage({type:"run",in:{sessionId:P,inputIndices:j,inputs:z,outputIndices:J,options:G}},v.extractTransferableBuffers(z))})):v.run(P,j,z,J,G)});return function(P,j,z,J,G){return R.apply(this,arguments)}}(),_.endProfiling=function(){var R=_asyncToGenerator(function*(P){if(c())return I(),new Promise((j,z)=>{A.push([j,z]),s.postMessage({type:"end-profiling",in:P})});v.endProfiling(P)});return function(P){return R.apply(this,arguments)}}()},586:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.setRunOptions=void 0;const x=O(7967),w=O(4983),T=O(6361);_.setRunOptions=g=>{const b=T.getInstance();let v=0;const p=[],c=g||{};try{if(void 0===g?.logSeverityLevel)c.logSeverityLevel=2;else if("number"!=typeof g.logSeverityLevel||!Number.isInteger(g.logSeverityLevel)||g.logSeverityLevel<0||g.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${g.logSeverityLevel}`);if(void 0===g?.logVerbosityLevel)c.logVerbosityLevel=0;else if("number"!=typeof g.logVerbosityLevel||!Number.isInteger(g.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${g.logVerbosityLevel}`);void 0===g?.terminate&&(c.terminate=!1);let s=0;if(void 0!==g?.tag&&(s=w.allocWasmString(g.tag,p)),v=b._OrtCreateRunOptions(c.logSeverityLevel,c.logVerbosityLevel,!!c.terminate,s),0===v)throw new Error("Can't create run options");return void 0!==g?.extra&&x.iterateExtraOptions(g.extra,"",new WeakSet,(o,u)=>{const l=w.allocWasmString(o,p),f=w.allocWasmString(u,p);if(0!==b._OrtAddRunConfigEntry(v,l,f))throw new Error(`Can't set a run config entry: ${o} - ${u}`)}),[v,p]}catch(s){throw 0!==v&&b._OrtReleaseRunOptions(v),p.forEach(b._free),s}}},2306:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.OnnxruntimeWebAssemblySessionHandler=void 0;const x=O(2174),w=O(2157);let T;_.OnnxruntimeWebAssemblySessionHandler=class{loadModel(g,b){var v=this;return _asyncToGenerator(function*(){T||(yield w.initOrt(x.env.wasm.numThreads,(p=>{switch(p){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${p}`)}})(x.env.logLevel)),T=!0),[v.sessionId,v.inputNames,v.outputNames]=yield w.createSession(g,b)})()}dispose(){var g=this;return _asyncToGenerator(function*(){return w.releaseSession(g.sessionId)})()}run(g,b,v){var p=this;return _asyncToGenerator(function*(){const c=[],s=[];Object.entries(g).forEach(f=>{const m=f[0],D=f[1],E=p.inputNames.indexOf(m);if(-1===E)throw new Error(`invalid input '${m}'`);c.push(D),s.push(E)});const o=[];Object.entries(b).forEach(f=>{const m=f[0],D=p.outputNames.indexOf(m);if(-1===D)throw new Error(`invalid output '${m}'`);o.push(D)});const u=yield w.run(p.sessionId,s,c.map(f=>[f.type,f.dims,f.data]),o,v),l={};for(let f=0;f<u.length;f++)l[p.outputNames[o[f]]]=new x.Tensor(u[f][0],u[f][2],u[f][1]);return l})()}startProfiling(){}endProfiling(){w.endProfiling(this.sessionId)}}},4919:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.setSessionOptions=void 0;const x=O(7967),w=O(4983),T=O(6361);_.setSessionOptions=g=>{const b=T.getInstance();let v=0;const p=[],c=g||{};(s=>{s.extra||(s.extra={}),s.extra.session||(s.extra.session={});const o=s.extra.session;o.use_ort_model_bytes_directly||(o.use_ort_model_bytes_directly="1")})(c);try{void 0===g?.graphOptimizationLevel&&(c.graphOptimizationLevel="all");const s=(l=>{switch(l){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${l}`)}})(c.graphOptimizationLevel);void 0===g?.enableCpuMemArena&&(c.enableCpuMemArena=!0),void 0===g?.enableMemPattern&&(c.enableMemPattern=!0),void 0===g?.executionMode&&(c.executionMode="sequential");const o=(l=>{switch(l){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${l}`)}})(c.executionMode);let u=0;if(void 0!==g?.logId&&(u=w.allocWasmString(g.logId,p)),void 0===g?.logSeverityLevel)c.logSeverityLevel=2;else if("number"!=typeof g.logSeverityLevel||!Number.isInteger(g.logSeverityLevel)||g.logSeverityLevel<0||g.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${g.logSeverityLevel}`);if(void 0===g?.logVerbosityLevel)c.logVerbosityLevel=0;else if("number"!=typeof g.logVerbosityLevel||!Number.isInteger(g.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${g.logVerbosityLevel}`);if(void 0===g?.enableProfiling&&(c.enableProfiling=!1),v=b._OrtCreateSessionOptions(s,!!c.enableCpuMemArena,!!c.enableMemPattern,o,!!c.enableProfiling,0,u,c.logSeverityLevel,c.logVerbosityLevel),0===v)throw new Error("Can't create session options");return void 0!==g?.extra&&x.iterateExtraOptions(g.extra,"",new WeakSet,(l,f)=>{const m=w.allocWasmString(l,p),D=w.allocWasmString(f,p);if(0!==b._OrtAddSessionConfigEntry(v,m,D))throw new Error(`Can't set a session config entry: ${l} - ${f}`)}),[v,p]}catch(s){throw 0!==v&&b._OrtReleaseSessionOptions(v),p.forEach(b._free),s}}},4983:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.allocWasmString=void 0;const x=O(6361);_.allocWasmString=(w,T)=>{const g=x.getInstance(),b=g.lengthBytesUTF8(w)+1,v=g._malloc(b);return g.stringToUTF8(w,v,b),T.push(v),v}},349:(X,_,O)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.extractTransferableBuffers=_.endProfiling=_.run=_.releaseSession=_.createSession=_.initOrt=void 0;const x=O(586),w=O(4919),T=O(4983),g=O(6361);_.initOrt=(s,o)=>{const u=g.getInstance()._OrtInit(s,o);if(0!==u)throw new Error(`Can't initialize onnxruntime. error code = ${u}`)};const b=new Map;_.createSession=(s,o)=>{const u=g.getInstance(),l=u._malloc(s.byteLength);let f=0,m=0,D=[];try{if([m,D]=w.setSessionOptions(o),u.HEAPU8.set(s,l),f=u._OrtCreateSession(l,s.byteLength,m),0===f)throw new Error("Can't create a session")}finally{u._free(l),u._OrtReleaseSessionOptions(m),D.forEach(u._free)}const E=u._OrtGetInputCount(f),S=u._OrtGetOutputCount(f),A=[],I=[],k=[],L=[];for(let R=0;R<E;R++){const P=u._OrtGetInputName(f,R);if(0===P)throw new Error("Can't get an input name");I.push(P),A.push(u.UTF8ToString(P))}for(let R=0;R<S;R++){const P=u._OrtGetOutputName(f,R);if(0===P)throw new Error("Can't get an output name");L.push(P),k.push(u.UTF8ToString(P))}return b.set(f,[f,I,L]),[f,A,k]},_.releaseSession=s=>{const o=g.getInstance(),u=b.get(s);if(!u)throw new Error("invalid session id");const l=u[0],m=u[2];u[1].forEach(o._OrtFree),m.forEach(o._OrtFree),o._OrtReleaseSession(l),b.delete(s)};const v=s=>{switch(s){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${s}`)}},p=s=>{switch(s){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:case 7:return"int32";case 12:case 13:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";default:throw new Error(`unsupported data type: ${s}`)}},c=s=>{switch(s){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${s}`)}};_.run=(s,o,u,l,f)=>{const m=g.getInstance(),D=b.get(s);if(!D)throw new Error("invalid session id");const E=D[0],S=D[1],A=D[2],I=o.length,k=l.length;let L=0,R=[];const P=[],j=[];try{[L,R]=x.setRunOptions(f);for(let q=0;q<I;q++){const Z=u[q][0],pe=u[q][1],ie=u[q][2];let _e,Ke;if(Array.isArray(ie)){Ke=4*ie.length,_e=m._malloc(Ke),j.push(_e);let $e=_e/4;for(let ze=0;ze<ie.length;ze++){if("string"!=typeof ie[ze])throw new TypeError(`tensor data at index ${ze} is not a string`);m.HEAPU32[$e++]=T.allocWasmString(ie[ze],j)}}else Ke=ie.byteLength,_e=m._malloc(Ke),j.push(_e),m.HEAPU8.set(new Uint8Array(ie.buffer,ie.byteOffset,Ke),_e);const Re=m.stackSave(),lt=m.stackAlloc(4*pe.length);try{let $e=lt/4;pe.forEach(nt=>m.HEAP32[$e++]=nt);const ze=m._OrtCreateTensor(v(Z),_e,Ke,lt,pe.length);if(0===ze)throw new Error("Can't create a tensor");P.push(ze)}finally{m.stackRestore(Re)}}const z=m.stackSave(),J=m.stackAlloc(4*I),G=m.stackAlloc(4*I),ne=m.stackAlloc(4*k),se=m.stackAlloc(4*k);try{let q=J/4,Z=G/4,pe=ne/4,ie=se/4;for(let Re=0;Re<I;Re++)m.HEAPU32[q++]=P[Re],m.HEAPU32[Z++]=S[o[Re]];for(let Re=0;Re<k;Re++)m.HEAPU32[pe++]=0,m.HEAPU32[ie++]=A[l[Re]];let _e=m._OrtRun(E,G,J,I,se,k,ne,L);const Ke=[];if(0===_e)for(let Re=0;Re<k;Re++){const lt=m.HEAPU32[ne/4+Re],$e=m.stackSave(),ze=m.stackAlloc(16);let nt,Ce=0;try{if(_e=m._OrtGetTensorData(lt,ze,ze+4,ze+8,ze+12),0!==_e)throw new Error(`Can't get a tensor data. error code = ${_e}`);let je=ze/4;const hn=m.HEAPU32[je++];Ce=m.HEAPU32[je++];const Fe=m.HEAPU32[je++],wt=m.HEAPU32[je++],Zt=[];for(let gt=0;gt<wt;gt++)Zt.push(m.HEAPU32[Fe/4+gt]);m._OrtFree(Fe);const pn=0===Zt.length?1:Zt.reduce((gt,Ut)=>gt*Ut);if(nt=p(hn),"string"===nt){const gt=[];let Ut=Ce/4;for(let Ht=0;Ht<pn;Ht++){const Hn=m.HEAPU32[Ut++];gt.push(m.UTF8ToString(Hn,Ht===pn-1?void 0:m.HEAPU32[Ut]-Hn))}Ke.push([nt,Zt,gt])}else{const gt=new(c(nt))(pn);new Uint8Array(gt.buffer,gt.byteOffset,gt.byteLength).set(m.HEAPU8.subarray(Ce,Ce+gt.byteLength)),Ke.push([nt,Zt,gt])}}finally{m.stackRestore($e),"string"===nt&&Ce&&m._free(Ce),m._OrtReleaseTensor(lt)}}if(0===_e)return Ke;throw new Error(`failed to call OrtRun(). error code = ${_e}.`)}finally{m.stackRestore(z)}}finally{P.forEach(m._OrtReleaseTensor),j.forEach(m._free),m._OrtReleaseRunOptions(L),R.forEach(m._free)}},_.endProfiling=s=>{const o=g.getInstance(),u=b.get(s);if(!u)throw new Error("invalid session id");const f=o._OrtEndProfiling(u[0]);if(0===f)throw new Error("Can't get an profile file name");o._OrtFree(f)},_.extractTransferableBuffers=s=>{const o=[];for(const u of s){const l=u[2];!Array.isArray(l)&&l.buffer&&o.push(l.buffer)}return o}},6361:function(X,_,O){"use strict";var x=this&&this.__createBinding||(Object.create?function(f,m,D,E){void 0===E&&(E=D),Object.defineProperty(f,E,{enumerable:!0,get:function(){return m[D]}})}:function(f,m,D,E){void 0===E&&(E=D),f[E]=m[D]}),w=this&&this.__setModuleDefault||(Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m}),T=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var m={};if(null!=f)for(var D in f)"default"!==D&&Object.prototype.hasOwnProperty.call(f,D)&&x(m,f,D);return w(m,f),m},g=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(_,"__esModule",{value:!0}),_.dispose=_.getInstance=_.initializeWebAssembly=void 0;const b=T(O(6449)),v=g(O(932)),p=O(3474);let c,s=!1,o=!1,u=!1;const l=(f,m)=>m?f?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":f?"ort-wasm-simd.wasm":"ort-wasm.wasm";_.initializeWebAssembly=function(){var f=_asyncToGenerator(function*(m){if(s)return Promise.resolve();if(o)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(u)throw new Error("previous call to 'initializeWebAssembly()' failed.");o=!0;const D=m.initTimeout,S=m.simd,A=m.numThreads>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),I=S&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),k="string"==typeof m.wasmPaths?m.wasmPaths:void 0,L=l(!1,A),R=l(I,A),P="object"==typeof m.wasmPaths?m.wasmPaths[R]:void 0;let j=!1;const z=[];if(D>0&&z.push(new Promise(J=>{setTimeout(()=>{j=!0,J()},D)})),z.push(new Promise((J,G)=>{const ne=A?p:v.default,se={locateFile:(q,Z)=>A&&q.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([O(5118)],{type:"text/javascript"})):q===L?P??(k??Z)+R:Z+q};if(A)if(typeof Blob>"u")se.mainScriptUrlOrBlob=b.join("/","ort-wasm-threaded.js");else{const q=`var ortWasmThreaded=(function(){var _scriptDir;return ${ne.toString()}})();`;se.mainScriptUrlOrBlob=new Blob([q],{type:"text/javascript"})}ne(se).then(q=>{o=!1,s=!0,c=q,J()},q=>{o=!1,u=!0,G(q)})})),yield Promise.race(z),j)throw new Error(`WebAssembly backend initializing failed due to timeout: ${D}ms`)});return function(m){return f.apply(this,arguments)}}(),_.getInstance=()=>{if(s&&c)return c;throw new Error("WebAssembly is not initialized yet.")},_.dispose=()=>{var f;!s||o||u||(o=!0,null===(f=c.PThread)||void 0===f||f.terminateAllThreads(),c=void 0,o=!1,s=!1,u=!0)}},9710:(X,_,O)=>{"use strict";O.d(_,{Z:()=>T});var x=O(477),w=O.n(x);function T(){return w()('/*!\n* ONNX Runtime Web v1.11.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return C.buffer!=U&&$(C.buffer),W}function r(){return C.buffer!=U&&$(C.buffer),L}function a(){return C.buffer!=U&&$(C.buffer),H}function o(){return C.buffer!=U&&$(C.buffer),Y}var i;e=e||{},i||(i=void 0!==e?e:{});var s,u,c=Object.assign;i.ready=new Promise((function(e,t){s=e,u=t}));var l,f,p,d,m,g,h=c({},i),y="./this.program",b=(e,t)=>{throw t},v="object"==typeof window,_="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=i.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(e){return i.locateFile?i.locateFile(e,A):A+e}if(w){let t;A=_?n(908).dirname(A)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?null:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof xt))throw e})),process.on("unhandledRejection",(function(e){throw e})),b=(e,t)=>{if(te())throw process.exitCode=e,t;t instanceof xt||x("exiting due to exception: "+t),process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(v||_)&&(_?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));w&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var E=console.log.bind(console),T=console.warn.bind(console);w&&(g(),E=e=>d.writeSync(1,e+"\\n"),T=e=>d.writeSync(2,e+"\\n"));var M,D,R=i.print||E,x=i.printErr||T;c(i,h),h=null,i.thisProgram&&(y=i.thisProgram),i.quit&&(b=i.quit),i.wasmBinary&&(D=i.wasmBinary);var k=i.noExitRuntime||!1;"object"!=typeof WebAssembly&&se("no native wasm support detected");var C,F,P=!1;function I(e){var t=new TextDecoder(e);this.decode=e=>(e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e))}var U,W,L,H,Y,j="undefined"!=typeof TextDecoder?new I("utf8"):void 0;function B(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&j)return j.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function N(e,t){return e?B(r(),e,t):""}function G(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++]=i}else{if(2047>=i){if(n+1>=r)break;t[n++]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++]=224|i>>12}else{if(n+3>=r)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63}t[n++]=128|i>>6&63}t[n++]=128|63&i}}return t[n]=0,n-a}function z(e,t,n){return G(e,r(),t,n)}function V(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function q(e){var n=V(e)+1,r=dt(n);return r&&G(e,t(),r,n),r}function $(e){U=e,i.HEAP8=W=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=H=new Int32Array(e),i.HEAPU8=L=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=Y=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new I("utf-16le"),O&&(U=i.buffer);var X=i.INITIAL_MEMORY||16777216;if(O)C=i.wasmMemory,U=i.buffer;else if(i.wasmMemory)C=i.wasmMemory;else if(!((C=new WebAssembly.Memory({initial:X/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");C&&(U=C.buffer),X=U.byteLength,$(U);var Q,J=[],Z=[],K=[],ee=[];function te(){return k||!1}function ne(){var e=i.preRun.shift();J.unshift(e)}var re,ae=0,oe=null,ie=null;function se(e){throw O?postMessage({cmd:"onAbort",arg:e}):i.onAbort&&i.onAbort(e),x(e="Aborted("+e+")"),P=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),u(e),e}function ue(){return re.startsWith("data:application/octet-stream;base64,")}function ce(){var e=re;try{if(e==re&&D)return new Uint8Array(D);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){se(e)}}i.preloadedImages={},i.preloadedAudios={},re="ort-wasm-threaded.wasm",ue()||(re=S(re));var le={};function fe(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(i);else{var n=t.Tb;"number"==typeof n?void 0===t.Sa?be(n)():be(n)(t.Sa):n(void 0===t.Sa?null:t.Sa)}}}function pe(e){var t=Et();return e=e(),Tt(t),e}function de(e){var t=me.Oa[e];t&&(a()[e>>2]=0,me.jb(t.worker))}var me={Pa:[],Va:[],fb:[],Wb:function(){},ub:function(){me.receiveObjectTransfer=me.zb,me.threadInit=me.lb,me.setExitStatus=me.Bb},Oa:{},Bb:function(){},kb:function(){for(var e in me.Oa){var t=me.Oa[e];t&&t.worker&&me.jb(t.worker)}for(e=0;e<me.Pa.length;++e)me.Pa[e].terminate();me.Pa=[]},jb:function(e){me.Ab((function(){delete me.Oa[e.Qa.eb],me.Pa.push(e),me.Va.splice(me.Va.indexOf(e),1),wt(e.Qa.eb),e.Qa=void 0}))},Ab:function(e){a()[Rt>>2]=0;try{e()}finally{a()[Rt>>2]=1}},zb:function(){},lb:function(){for(var e in me.fb)me.fb[e]()},wb:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Qa&&(me.pb=e.Qa.eb),n.targetThread&&n.targetThread!=pt()){var o=me.Oa[n.bc];o?o.worker.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processQueuedMainThreadWork"===r?ht():"spawnThread"===r?_e(n):"cleanupThread"===r?de(n.thread):"killThread"===r?(n=n.thread,a()[n>>2]=0,r=me.Oa[n],delete me.Oa[n],r.worker.terminate(),wt(n),me.Va.splice(me.Va.indexOf(r.worker),1),r.worker.Qa=void 0):"cancelThread"===r?me.Oa[n.thread].worker.postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Ua&&(e.Ua(),delete e.Ua)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?i.onAbort&&i.onAbort(n.arg):x("worker sent an unknown command "+r);me.pb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:i.mainScriptUrlOrBlob||_scriptDir,wasmMemory:C,wasmModule:F})},mb:function(){var e=S("ort-wasm-threaded.worker.js");me.Pa.push(new Worker(e))},rb:function(){return 0==me.Pa.length&&(me.mb(),me.wb(me.Pa[0])),me.Pa.pop()}};function ge(e){if(O)return je(1,0,e);try{Ct(e)}catch(e){e instanceof xt||"unwind"==e||b(1,e)}}i.establishStackSpace=function(){var e=pt(),t=a()[e+44>>2];e=a()[e+48>>2],St(t,t-e),Tt(t)};var he,ye=[];function be(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=Q.get(e)),t}function ve(e){this.Ta=e-16,this.Gb=function(e){a()[this.Ta+4>>2]=e},this.Db=function(e){a()[this.Ta+8>>2]=e},this.Eb=function(){a()[this.Ta>>2]=0},this.Cb=function(){t()[this.Ta+12>>0]=0},this.Fb=function(){t()[this.Ta+13>>0]=0},this.sb=function(e,t){this.Gb(e),this.Db(t),this.Eb(),this.Cb(),this.Fb()}}function _e(e){var t=me.rb();if(!t)return 6;me.Va.push(t);var n=me.Oa[e.cb]={worker:t,eb:e.cb};t.Qa=n;var r={cmd:"run",start_routine:e.Hb,arg:e.Sa,threadInfoStruct:e.cb};return t.Ua=()=>{r.time=performance.now(),t.postMessage(r,e.Mb)},t.loaded&&(t.Ua(),delete t.Ua),0}i.invokeEntryPoint=function(e,t){return be(e)(t)},he=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-i.__performance_now_clock_drift:()=>performance.now();var we={},Oe=[null,[],[]];function Ae(e,t){var n=Oe[e];0===t||10===t?((1===e?R:x)(B(n,0)),n.length=0):n.push(t)}var Se={};function Ee(e,t,n){return O?je(2,1,e,t,n):0}function Te(e,t){if(O)return je(3,1,e,t)}function Me(e,t,n,r){if(O)return je(4,1,e,t,n,r)}function De(e,t){if(O)return je(5,1,e,t)}function Re(e,t,n){if(O)return je(6,1,e,t,n)}function xe(e,t,n){return O?je(7,1,e,t,n):0}function ke(e,t){if(O)return je(8,1,e,t)}function Ce(e,t){return O?je(9,1,e,t):(e=N(e),Se.Qb(e,t))}function Fe(e,t,n,a,o,i){if(O)t=je(10,1,e,t,n,a,o,i);else if(i<<=12,0!=(16&a)&&0!=e%65536)t=-28;else if(0!=(32&a)){var s=65536*Math.ceil(t/65536);(e=At(65536,s))?r().fill(0,e,e+s):e=0,e?(we[e]={yb:e,vb:t,nb:!0,fd:o,Zb:n,flags:a,offset:i},t=e):t=-48}else t=-52;return t}function Pe(e,t){if(O)e=je(11,1,e,t);else{var n=we[e];0!==t&&n?(t===n.vb&&(we[e]=null,n.nb&&mt(n.yb)),e=0):e=-28}return e}function Ie(e,t,n){if(O)return je(12,1,e,t,n)}function Ue(e,t,n){return O?je(13,1,e,t,n):(e=N(e),Se.Rb(e,t,n))}function We(e){if(O)return je(14,1,e)}function Le(e,t){if(O)return je(15,1,e,t)}function He(e){if(O)return je(16,1,e)}function Ye(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return je(17,1,e,t,n);var o=(new Date).getFullYear(),i=new Date(o,0,1),s=new Date(o,6,1);o=i.getTimezoneOffset();var u=s.getTimezoneOffset(),c=Math.max(o,u);a()[e>>2]=60*c,a()[t>>2]=Number(o!=u),e=r(i),t=r(s),e=q(e),t=q(t),u<o?(a()[n>>2]=e,a()[n+4>>2]=t):(a()[n>>2]=t,a()[n+4>>2]=e)}function je(e,t){var n=arguments.length-2,r=arguments;return pe((function(){for(var a=Mt(8*n),i=a>>3,s=0;s<n;s++){var u=r[2+s];o()[i+s]=u}return vt(e,n,a,t)}))}var Be=[],Ne=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Ge(e){return e=2<e?N(e):e,Ne[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function ze(e,t,n){var r=Ge(e);return r?(r.Za&&(a()[r.Za>>2]=t,a()[r.Za+4>>2]=n),!r.ib&&r.Ob?r.Za?(function(e,t,n,r){pe((function(){var o=Mt(12),i=0;if(t){i=V(t)+1;var s=dt(i);z(t,s,i),i=s}a()[o>>2]=i,a()[o+4>>2]=n,a()[o+8>>2]=r,_t(e,657457152,0,i,o)}))}(r=a()[r.Za+8>>2],e=e?N(e):"",t,n),1):-4:(r.ib&&(r=r.ib),e=!1,r.Ya&&r.Ya.Xa&&(e=0===(e=r.Ya.Xa.getParameter(2978))[0]&&0===e[1]&&e[2]===r.width&&e[3]===r.height),r.width=t,r.height=n,e&&r.Ya.Xa.viewport(0,0,t,n),0)):-4}function Ve(e,t,n){return O?je(18,1,e,t,n):ze(e,t,n)}var qe,$e=["default","low-power","high-performance"],Xe={};function Qe(){if(!qe){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var n=[];for(e in t)n.push(e+"="+t[e]);qe=n}return qe}function Je(e,n){if(O)return je(19,1,e,n);var r=0;return Qe().forEach((function(o,i){var s=n+r;for(i=a()[e+4*i>>2]=s,s=0;s<o.length;++s)t()[i++>>0]=o.charCodeAt(s);t()[i>>0]=0,r+=o.length+1})),0}function Ze(e,t){if(O)return je(20,1,e,t);var n=Qe();a()[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),a()[t>>2]=r,0}function Ke(e){return O?je(21,1,e):0}function et(e,t,n,r){return O?je(22,1,e,t,n,r):(e=Se.Ub(e),t=Se.Sb(e,t,n),a()[r>>2]=t,0)}function tt(e,t,n,r,a){if(O)return je(23,1,e,t,n,r,a)}function nt(e,t,n,o){if(O)return je(24,1,e,t,n,o);for(var i=0,s=0;s<n;s++){var u=a()[t>>2],c=a()[t+4>>2];t+=8;for(var l=0;l<c;l++)Ae(e,r()[u+l]);i+=c}return a()[o>>2]=i,0}function rt(e){return 0==e%4&&(0!=e%100||0==e%400)}function at(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var ot=[31,29,31,30,31,30,31,31,30,31,30,31],it=[31,28,31,30,31,30,31,31,30,31,30,31];function st(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(rt(e.getFullYear())?ot:it)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function ut(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return i(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){e=st(new Date(e.Na+1900,0,1),e.bb);var t=new Date(e.getFullYear()+1,0,4),n=c(new Date(e.getFullYear(),0,4));return t=c(t),0>=u(n,e)?0>=u(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2];for(var p in o={Kb:a()[o>>2],Jb:a()[o+4>>2],$a:a()[o+8>>2],Wa:a()[o+12>>2],Ra:a()[o+16>>2],Na:a()[o+20>>2],ab:a()[o+24>>2],bb:a()[o+28>>2],cc:a()[o+32>>2],Ib:a()[o+36>>2],Lb:f?N(f):""},r=N(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.ab].substring(0,3)},"%A":function(e){return d[e.ab]},"%b":function(e){return m[e.Ra].substring(0,3)},"%B":function(e){return m[e.Ra]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Wa,2)},"%e":function(e){return i(e.Wa,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.$a,2)},"%I":function(e){return 0==(e=e.$a)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){return s(e.Wa+at(rt(e.Na+1900)?ot:it,e.Ra-1),3)},"%m":function(e){return s(e.Ra+1,2)},"%M":function(e){return s(e.Jb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.$a&&12>e.$a?"AM":"PM"},"%S":function(e){return s(e.Kb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.ab||7},"%U":function(e){var t=new Date(e.Na+1900,0,1),n=0===t.getDay()?t:st(t,7-t.getDay());return 0>u(n,e=new Date(e.Na+1900,e.Ra,e.Wa))?s(Math.ceil((31-n.getDate()+(at(rt(e.getFullYear())?ot:it,e.getMonth()-1)-31)+e.getDate())/7),2):0===u(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.Na+1901,0,4),n=c(new Date(e.Na+1900,0,4));t=c(t);var r=st(new Date(e.Na+1900,0,1),e.bb);return 0>u(r,n)?"53":0>=u(t,r)?"01":s(Math.ceil((n.getFullYear()<e.Na+1900?e.bb+32-n.getDate():e.bb+1-n.getDate())/7),2)},"%w":function(e){return e.ab},"%W":function(e){var t=new Date(e.Na,0,1),n=1===t.getDay()?t:st(t,0===t.getDay()?1:7-t.getDay()+1);return 0>u(n,e=new Date(e.Na+1900,e.Ra,e.Wa))?s(Math.ceil((31-n.getDate()+(at(rt(e.getFullYear())?ot:it,e.getMonth()-1)-31)+e.getDate())/7),2):0===u(n,t)?"01":"00"},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.Ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Lb},"%%":function(){return"%"}})r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(V(e)+1);return G(e,t,0,t.length),t}(r),p.length>n?0:(function(e,n){t().set(e,n)}(p,e),p.length-1)}var ct=[null,ge,Ee,Te,Me,De,Re,xe,ke,Ce,Fe,Pe,Ie,Ue,We,Le,He,Ye,Ve,Je,Ze,Ke,et,tt,nt],lt={b:function(e){return dt(e+16)+16},c:function(e,t,n){throw new ve(e).sb(t,n),e},M:function(e){yt(e,!_,1,!v),me.lb()},n:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):de(e)},p:function(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?bt(687865856,e,t,n,r):(e={Hb:n,cb:e,Sa:r,Mb:a},O?(e.Nb="spawnThread",postMessage(e,a),0):_e(e))},i:Ee,U:Te,R:Me,y:De,A:Re,t:xe,S:ke,H:Ce,G:Fe,F:Pe,o:Ie,z:Ue,w:We,T:Le,x:He,j:function(){se("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_:function(){se("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},E:function(){return 2097152},Z:function(e,t,n){var r=performance.now();for(n=r+n,Atomics.exchange(a(),Dt>>2,e);;){if((r=performance.now())>n)return Atomics.exchange(a(),Dt>>2,0),-73;if(0==(r=Atomics.exchange(a(),Dt>>2,0)))break;if(ht(),Atomics.load(a(),e>>2)!=t)return-6;Atomics.exchange(a(),Dt>>2,e)}return 0},N:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(O)postMessage({targetThread:e,cmd:"processThreadQueue"});else{if(!(e=(e=me.Oa[e])&&e.worker))return;e.postMessage({cmd:"processThreadQueue"})}return 1},V:function(e,t){e=new Date(1e3*a()[e>>2]),a()[t>>2]=e.getUTCSeconds(),a()[t+4>>2]=e.getUTCMinutes(),a()[t+8>>2]=e.getUTCHours(),a()[t+12>>2]=e.getUTCDate(),a()[t+16>>2]=e.getUTCMonth(),a()[t+20>>2]=e.getUTCFullYear()-1900,a()[t+24>>2]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2]=e},W:function(e,t){e=new Date(1e3*a()[e>>2]),a()[t>>2]=e.getSeconds(),a()[t+4>>2]=e.getMinutes(),a()[t+8>>2]=e.getHours(),a()[t+12>>2]=e.getDate(),a()[t+16>>2]=e.getMonth(),a()[t+20>>2]=e.getFullYear()-1900,a()[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2]=r,a()[t+36>>2]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2]=e},X:function(e){var t=new Date(a()[e+20>>2]+1900,a()[e+16>>2],a()[e+12>>2],a()[e+8>>2],a()[e+4>>2],a()[e>>2],0),n=a()[e+32>>2],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,i);return 0>n?a()[e+32>>2]=Number(i!=s&&u==r):0<n!=(u==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),a()[e+24>>2]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2]=n,a()[e>>2]=t.getSeconds(),a()[e+4>>2]=t.getMinutes(),a()[e+8>>2]=t.getHours(),a()[e+12>>2]=t.getDate(),a()[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},Y:function e(t,n,r){e.ob||(e.ob=!0,Ye(t,n,r))},d:function(){se("")},q:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return a()[ft()>>2]=28,-1;e=he()}return a()[t>>2]=e/1e3|0,a()[t+4>>2]=e%1e3*1e6|0,0},B:function(e,t){return e-t},m:function(){w||_||(M||(M={}),M["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(M["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,x("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))},v:function(){return 2147483648},f:he,Q:function(e,t,n){r().copyWithin(e,t,t+n)},g:function(){return w?n(993).cpus().length:navigator.hardwareConcurrency},I:function(e,t,n){Be.length=t,n>>=3;for(var r=0;r<t;r++)Be[r]=o()[n+r];return(0>e?le[-e-1]:ct[e]).apply(null,Be)},u:function(e){var t=r().length;if((e>>>=0)<=t||2147483648<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296),0<(a=Math.max(e,a))%65536&&(a+=65536-a%65536);e:{try{C.grow(Math.min(2147483648,a)-U.byteLength+65535>>>16),$(C.buffer);var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},K:function(e,t,n){return Ge(e)?ze(e,t,n):Ve(e,t,n)},C:function(){throw"unwind"},L:function(e,t){t>>=2;var n=a()[t+6];return t={alpha:!!a()[t],depth:!!a()[t+1],stencil:!!a()[t+2],antialias:!!a()[t+3],premultipliedAlpha:!!a()[t+4],preserveDrawingBuffer:!!a()[t+5],powerPreference:$e[n],failIfMajorPerformanceCaveat:!!a()[t+7],xb:a()[t+8],Xb:a()[t+9],gb:a()[t+10],qb:a()[t+11],$b:a()[t+12],ac:a()[t+13]},!(e=Ge(e))||t.qb?0:function(e,t){e.hb||(e.hb=e.getContext,e.getContext=function(t,n){return"webgl"==t==(n=e.hb(t,n))instanceof WebGLRenderingContext?n:null});var n=e.getContext("webgl",t);return n?function(e,t){var n=dt(8);a()[n+4>>2]=pt();var r={Vb:n,attributes:t,version:t.xb,Xa:e};return e.canvas&&(e.canvas.Ya=r),(void 0===t.gb||t.gb)&&function(e){if(e||(e=void 0),!e.tb){e.tb=!0;var t=e.Xa;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,a){t.drawArraysInstancedANGLE(e,n,r,a)},e.drawElementsInstanced=function(e,n,r,a,o){t.drawElementsInstancedANGLE(e,n,r,a,o)})}(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)})}(t),t.Pb=t.getExtension("EXT_disjoint_timer_query"),t.Yb=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}(r),n}(n,t):0}(e,t)},O:Je,P:Ze,D:function(e){Ct(e)},h:Ke,l:et,s:tt,k:nt,J:function(e){var t=Date.now();return a()[e>>2]=t/1e3|0,a()[e+4>>2]=t%1e3*1e3|0,0},a:C||i.wasmMemory,r:ut,e:function(e,t,n,r){return ut(e,t,n,r)}};!function(){function e(e,t){i.asm=e.exports,me.fb.push(i.asm.xa),Q=i.asm.Ba,Z.unshift(i.asm.$),F=t,O||(ae--,i.monitorRunDependencies&&i.monitorRunDependencies(ae),0==ae&&(null!==oe&&(clearInterval(oe),oe=null),ie&&(e=ie,ie=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!D&&(v||_)){if("function"==typeof fetch&&!re.startsWith("file://"))return fetch(re,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+re+"\'";return e.arrayBuffer()})).catch((function(){return ce()}));if(f)return new Promise((function(e,t){f(re,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ce()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),se(e)}))}var r={a:lt};if(O||(ae++,i.monitorRunDependencies&&i.monitorRunDependencies(ae)),i.instantiateWasm)try{return i.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(D||"function"!=typeof WebAssembly.instantiateStreaming||ue()||re.startsWith("file://")||"function"!=typeof fetch?n(t):fetch(re,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(u)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.$).apply(null,arguments)},i._OrtInit=function(){return(i._OrtInit=i.asm.aa).apply(null,arguments)},i._OrtCreateSessionOptions=function(){return(i._OrtCreateSessionOptions=i.asm.ba).apply(null,arguments)},i._OrtAddSessionConfigEntry=function(){return(i._OrtAddSessionConfigEntry=i.asm.ca).apply(null,arguments)},i._OrtReleaseSessionOptions=function(){return(i._OrtReleaseSessionOptions=i.asm.da).apply(null,arguments)},i._OrtCreateSession=function(){return(i._OrtCreateSession=i.asm.ea).apply(null,arguments)},i._OrtReleaseSession=function(){return(i._OrtReleaseSession=i.asm.fa).apply(null,arguments)},i._OrtGetInputCount=function(){return(i._OrtGetInputCount=i.asm.ga).apply(null,arguments)},i._OrtGetOutputCount=function(){return(i._OrtGetOutputCount=i.asm.ha).apply(null,arguments)},i._OrtGetInputName=function(){return(i._OrtGetInputName=i.asm.ia).apply(null,arguments)},i._OrtGetOutputName=function(){return(i._OrtGetOutputName=i.asm.ja).apply(null,arguments)},i._OrtFree=function(){return(i._OrtFree=i.asm.ka).apply(null,arguments)},i._OrtCreateTensor=function(){return(i._OrtCreateTensor=i.asm.la).apply(null,arguments)},i._OrtGetTensorData=function(){return(i._OrtGetTensorData=i.asm.ma).apply(null,arguments)},i._OrtReleaseTensor=function(){return(i._OrtReleaseTensor=i.asm.na).apply(null,arguments)},i._OrtCreateRunOptions=function(){return(i._OrtCreateRunOptions=i.asm.oa).apply(null,arguments)},i._OrtAddRunConfigEntry=function(){return(i._OrtAddRunConfigEntry=i.asm.pa).apply(null,arguments)},i._OrtReleaseRunOptions=function(){return(i._OrtReleaseRunOptions=i.asm.qa).apply(null,arguments)},i._OrtRun=function(){return(i._OrtRun=i.asm.ra).apply(null,arguments)},i._OrtEndProfiling=function(){return(i._OrtEndProfiling=i.asm.sa).apply(null,arguments)};var ft=i.___errno_location=function(){return(ft=i.___errno_location=i.asm.ta).apply(null,arguments)},pt=i._pthread_self=function(){return(pt=i._pthread_self=i.asm.ua).apply(null,arguments)},dt=i._malloc=function(){return(dt=i._malloc=i.asm.va).apply(null,arguments)},mt=i._free=function(){return(mt=i._free=i.asm.wa).apply(null,arguments)};i._emscripten_tls_init=function(){return(i._emscripten_tls_init=i.asm.xa).apply(null,arguments)};var gt=i.___funcs_on_exit=function(){return(gt=i.___funcs_on_exit=i.asm.ya).apply(null,arguments)},ht=i._emscripten_main_thread_process_queued_calls=function(){return(ht=i._emscripten_main_thread_process_queued_calls=i.asm.za).apply(null,arguments)},yt=i.__emscripten_thread_init=function(){return(yt=i.__emscripten_thread_init=i.asm.Aa).apply(null,arguments)};i._emscripten_current_thread_process_queued_calls=function(){return(i._emscripten_current_thread_process_queued_calls=i.asm.Ca).apply(null,arguments)};var bt=i._emscripten_sync_run_in_main_thread_4=function(){return(bt=i._emscripten_sync_run_in_main_thread_4=i.asm.Da).apply(null,arguments)},vt=i._emscripten_run_in_main_runtime_thread_js=function(){return(vt=i._emscripten_run_in_main_runtime_thread_js=i.asm.Ea).apply(null,arguments)},_t=i._emscripten_dispatch_to_thread_=function(){return(_t=i._emscripten_dispatch_to_thread_=i.asm.Fa).apply(null,arguments)},wt=i.__emscripten_thread_free_data=function(){return(wt=i.__emscripten_thread_free_data=i.asm.Ga).apply(null,arguments)};i.__emscripten_thread_exit=function(){return(i.__emscripten_thread_exit=i.asm.Ha).apply(null,arguments)};var Ot,At=i._memalign=function(){return(At=i._memalign=i.asm.Ia).apply(null,arguments)},St=i._emscripten_stack_set_limits=function(){return(St=i._emscripten_stack_set_limits=i.asm.Ja).apply(null,arguments)},Et=i.stackSave=function(){return(Et=i.stackSave=i.asm.Ka).apply(null,arguments)},Tt=i.stackRestore=function(){return(Tt=i.stackRestore=i.asm.La).apply(null,arguments)},Mt=i.stackAlloc=function(){return(Mt=i.stackAlloc=i.asm.Ma).apply(null,arguments)},Dt=i.__emscripten_main_thread_futex=687896,Rt=i.__emscripten_allow_main_runtime_queued_calls=683012;function xt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function kt(){function e(){if(!Ot&&(Ot=!0,i.calledRun=!0,!P)&&(O||fe(Z),s(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!O)){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var e=i.postRun.shift();ee.unshift(e)}fe(ee)}}if(!(0<ae))if(O)s(i),O||fe(Z),postMessage({cmd:"loaded"});else{if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)ne();fe(J),0<ae||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),e()}),1)):e())}}function Ct(e){if(O)throw ge(e),"unwind";te()||O||(gt(),fe(K),Oe[1].length&&Ae(1,10),Oe[2].length&&Ae(2,10),me.kb()),te()||(me.kb(),i.onExit&&i.onExit(e),P=!0),b(e,new xt(e))}if(i.UTF8ToString=N,i.stringToUTF8=z,i.lengthBytesUTF8=V,i.keepRuntimeAlive=te,i.PThread=me,i.stackSave=Et,i.stackRestore=Tt,i.stackAlloc=Mt,i.PThread=me,i.wasmMemory=C,i.ExitStatus=xt,ie=function e(){Ot||kt(),Ot||(ie=e)},i.run=kt,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return O&&(k=!1,me.ub()),kt(),e.ready});e.exports=r},118:e=>{"use strict";e.exports=\'"use strict";var e={};if("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node){var t=require("worker_threads"),r=t.parentPort;r.on("message",(function(e){onmessage({data:e})}));var a=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:t.Worker,importScripts:function(e){(0,eval)(a.readFileSync(e,"utf8"))},postMessage:function(e){r.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.threadInfoStruct,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInit();try{var a=e.invokeEntryPoint(t.data.start_routine,t.data.arg);e.keepRuntimeAlive()?e.PThread.setExitStatus(a):e.__emscripten_thread_exit(a)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processThreadQueue"===t.data.cmd?e._pthread_self()&&e._emscripten_current_thread_process_queued_calls():(s("worker.js received unknown command "+t.data.cmd),s(t.data)))}catch(e){throw s("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&s(e.stack),e}};\\n\'},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t;e=e||{},t||(t=void 0!==e?e:{});var r,a,o=Object.assign;t.ready=new Promise((function(e,t){r=e,a=t}));var i,s,u,c,l,f,p=o({},t),d="./this.program",m="object"==typeof window,g="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";h?(y=g?n(908).dirname(y)+"/":"//",f=()=>{l||(c=n(384),l=n(908))},i=function(e,t){return f(),e=l.normalize(e),c.readFileSync(e,t?null:"utf8")},u=e=>((e=i(e,!0)).buffer||(e=new Uint8Array(e)),e),s=(e,t,n)=>{f(),e=l.normalize(e),c.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(d=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",(function(e){throw e})),t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var b,v=t.print||console.log.bind(console),_=t.printErr||console.warn.bind(console);o(t,p),p=null,t.thisProgram&&(d=t.thisProgram),t.wasmBinary&&(b=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&N("no native wasm support detected");var w,O,A,S,E,T=!1,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function D(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&M)return M.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function R(e,t){return e?D(S,e,t):""}function x(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++]=i}else{if(2047>=i){if(n+1>=r)break;t[n++]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++]=224|i>>12}else{if(n+3>=r)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63}t[n++]=128|i>>6&63}t[n++]=128|63&i}}return t[n]=0,n-a}function k(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function C(e){var t=k(e)+1,n=de(t);return n&&x(e,A,n,t),n}function F(){var e=w.buffer;O=e,t.HEAP8=A=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=S=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var P,I=[],U=[],W=[];function L(){var e=t.preRun.shift();I.unshift(e)}var H,Y=0,j=null,B=null;function N(e){throw t.onAbort&&t.onAbort(e),_(e="Aborted("+e+")"),T=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),a(e),e}function G(){return H.startsWith("data:application/octet-stream;base64,")}if(t.preloadedImages={},t.preloadedAudios={},H="ort-wasm.wasm",!G()){var z=H;H=t.locateFile?t.locateFile(z,y):y+z}function V(){var e=H;try{if(e==H&&b)return new Uint8Array(b);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){N(e)}}function q(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n(t);else{var r=n.Na;"number"==typeof r?void 0===n.va?X(r)():X(r)(n.va):r(void 0===n.va?null:n.va)}}}var $=[];function X(e){var t=$[e];return t||(e>=$.length&&($.length=e+1),$[e]=t=P.get(e)),t}function Q(e){this.qa=e-16,this.Fa=function(e){E[this.qa+4>>2]=e},this.Ca=function(e){E[this.qa+8>>2]=e},this.Da=function(){E[this.qa>>2]=0},this.Ba=function(){A[this.qa+12>>0]=0},this.Ea=function(){A[this.qa+13>>0]=0},this.ya=function(e,t){this.Fa(e),this.Ca(t),this.Da(),this.Ba(),this.Ea()}}var J,Z,K={},ee=[null,[],[]],te={},ne={};function re(){if(!Z){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(e in ne)void 0===ne[e]?delete t[e]:t[e]=ne[e];var n=[];for(e in t)n.push(e+"="+t[e]);Z=n}return Z}function ae(e){return 0==e%4&&(0!=e%100||0==e%400)}function oe(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(ae(e.getFullYear())?ie:se)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function ce(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){e=ue(new Date(e.oa+1900,0,1),e.ua);var t=new Date(e.getFullYear()+1,0,4),n=s(new Date(e.getFullYear(),0,4));return t=s(t),0>=i(n,e)?0>=i(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2];for(var l in r={Ia:E[r>>2],Ha:E[r+4>>2],sa:E[r+8>>2],ra:E[r+12>>2],pa:E[r+16>>2],oa:E[r+20>>2],ta:E[r+24>>2],ua:E[r+28>>2],Qa:E[r+32>>2],Ga:E[r+36>>2],Ja:c?R(c):""},n=R(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.ta].substring(0,3)},"%A":function(e){return f[e.ta]},"%b":function(e){return p[e.pa].substring(0,3)},"%B":function(e){return p[e.pa]},"%C":function(e){return o((e.oa+1900)/100|0,2)},"%d":function(e){return o(e.ra,2)},"%e":function(e){return a(e.ra,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.sa,2)},"%I":function(e){return 0==(e=e.sa)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){return o(e.ra+oe(ae(e.oa+1900)?ie:se,e.pa-1),3)},"%m":function(e){return o(e.pa+1,2)},"%M":function(e){return o(e.Ha,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.sa&&12>e.sa?"AM":"PM"},"%S":function(e){return o(e.Ia,2)},"%t":function(){return"\\t"},"%u":function(e){return e.ta||7},"%U":function(e){var t=new Date(e.oa+1900,0,1),n=0===t.getDay()?t:ue(t,7-t.getDay());return 0>i(n,e=new Date(e.oa+1900,e.pa,e.ra))?o(Math.ceil((31-n.getDate()+(oe(ae(e.getFullYear())?ie:se,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.oa+1901,0,4),n=s(new Date(e.oa+1900,0,4));t=s(t);var r=ue(new Date(e.oa+1900,0,1),e.ua);return 0>i(r,n)?"53":0>=i(t,r)?"01":o(Math.ceil((n.getFullYear()<e.oa+1900?e.ua+32-n.getDate():e.ua+1-n.getDate())/7),2)},"%w":function(e){return e.ta},"%W":function(e){var t=new Date(e.oa,0,1),n=1===t.getDay()?t:ue(t,0===t.getDay()?1:7-t.getDay()+1);return 0>i(n,e=new Date(e.oa+1900,e.pa,e.ra))?o(Math.ceil((31-n.getDate()+(oe(ae(e.getFullYear())?ie:se,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(n,t)?"01":"00"},"%y":function(e){return(e.oa+1900).toString().substring(2)},"%Y":function(e){return e.oa+1900},"%z":function(e){var t=0<=(e=e.Ga);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ja},"%%":function(){return"%"}})n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(k(e)+1);return x(e,t,0,t.length),t}(n),l.length>t?0:(A.set(l,e),l.length-1)}var le={a:function(e){return de(e+16)+16},b:function(e,t,n){throw new Q(e).ya(t,n),e},g:function(){return 0},I:function(){},F:function(){},v:function(){},y:function(){},r:function(){return 0},G:function(){},B:function(e,t){return e=R(e),te.Ka(e,t)},A:function(e,t,n,r,a,o){if(o<<=12,0!=(16&r)&&0!=e%65536)t=-28;else if(0!=(32&r)){e=65536*Math.ceil(t/65536);var i=ge(65536,e);i?(S.fill(0,i,i+e),e=i):e=0,e?(K[e]={Aa:e,za:t,wa:!0,fd:a,Pa:n,flags:r,offset:o},t=e):t=-48}else t=-52;return t},z:function(e,t){var n=K[e];return 0!==t&&n?(t===n.za&&(K[e]=null,n.wa&&me(n.Aa)),e=0):e=-28,e},k:function(){},x:function(e,t,n){return e=R(e),te.La(e,t,n)},t:function(){},H:function(){},u:function(){},h:function(){N("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},n:function(){N("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},J:function(e,t){e=new Date(1e3*E[e>>2]),E[t>>2]=e.getUTCSeconds(),E[t+4>>2]=e.getUTCMinutes(),E[t+8>>2]=e.getUTCHours(),E[t+12>>2]=e.getUTCDate(),E[t+16>>2]=e.getUTCMonth(),E[t+20>>2]=e.getUTCFullYear()-1900,E[t+24>>2]=e.getUTCDay(),E[t+28>>2]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},K:function(e,t){e=new Date(1e3*E[e>>2]),E[t>>2]=e.getSeconds(),E[t+4>>2]=e.getMinutes(),E[t+8>>2]=e.getHours(),E[t+12>>2]=e.getDate(),E[t+16>>2]=e.getMonth(),E[t+20>>2]=e.getFullYear()-1900,E[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[t+32>>2]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},L:function(e){var t=new Date(E[e+20>>2]+1900,E[e+16>>2],E[e+12>>2],E[e+8>>2],E[e+4>>2],E[e>>2],0),n=E[e+32>>2],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>n?E[e+32>>2]=Number(o!=i&&s==r):0<n!=(s==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),E[e+24>>2]=t.getDay(),E[e+28>>2]=(t.getTime()-a.getTime())/864e5|0,E[e>>2]=t.getSeconds(),E[e+4>>2]=t.getMinutes(),E[e+8>>2]=t.getHours(),E[e+12>>2]=t.getDate(),E[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},M:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();E[e>>2]=60*Math.max(a,s),E[t>>2]=Number(a!=s),e=r(o),t=r(i),e=C(e),t=C(t),s<a?(E[n>>2]=e,E[n+4>>2]=t):(E[n>>2]=t,E[n+4>>2]=e)}(t,n,r))},d:function(){N("")},m:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return E[pe()>>2]=28,-1;e=J()}return E[t>>2]=e/1e3|0,E[t+4>>2]=e%1e3*1e6|0,0},p:function(e,t){return e-t},s:function(){return 2147483648},l:J=h?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),E:function(e,t,n){S.copyWithin(e,t,t+n)},f:function(e){var t=S.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296),0<(r=Math.max(e,r))%65536&&(r+=65536-r%65536);e:{try{w.grow(Math.min(2147483648,r)-O.byteLength+65535>>>16),F();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},C:function(e,t){var n=0;return re().forEach((function(r,a){var o=t+n;for(a=E[e+4*a>>2]=o,o=0;o<r.length;++o)A[a++>>0]=r.charCodeAt(o);A[a>>0]=0,n+=r.length+1})),0},D:function(e,t){var n=re();E[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),E[t>>2]=r,0},e:function(){return 0},j:function(e,t,n,r){return e=te.Oa(e),t=te.Ma(e,t,n),E[r>>2]=t,0},q:function(){},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=E[t>>2],s=E[t+4>>2];t+=8;for(var u=0;u<s;u++){var c=S[i+u],l=ee[e];0===c||10===c?((1===e?v:_)(D(l,0)),l.length=0):l.push(c)}a+=s}return E[r>>2]=a,0},w:function(e){var t=Date.now();return E[e>>2]=t/1e3|0,E[e+4>>2]=t%1e3*1e3|0,0},o:ce,c:function(e,t,n,r){return ce(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,w=t.asm.N,F(),P=t.asm.ja,U.unshift(t.asm.O),Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),0==Y&&(null!==j&&(clearInterval(j),j=null),B&&(e=B,B=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!b&&(m||g)){if("function"==typeof fetch&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+H+"\'";return e.arrayBuffer()})).catch((function(){return V()}));if(s)return new Promise((function(e,t){s(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return V()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){_("failed to asynchronously prepare wasm: "+e),N(e)}))}var o={a:le};if(Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(b||"function"!=typeof WebAssembly.instantiateStreaming||G()||H.startsWith("file://")||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.O).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.P).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Q).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.R).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.S).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.T).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.U).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.V).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.W).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.X).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Y).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.Z).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm._).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.$).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.aa).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ba).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ca).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.da).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ea).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.fa).apply(null,arguments)};var fe,pe=t.___errno_location=function(){return(pe=t.___errno_location=t.asm.ga).apply(null,arguments)},de=t._malloc=function(){return(de=t._malloc=t.asm.ha).apply(null,arguments)},me=t._free=function(){return(me=t._free=t.asm.ia).apply(null,arguments)},ge=t._memalign=function(){return(ge=t._memalign=t.asm.ka).apply(null,arguments)},he=t.stackSave=function(){return(he=t.stackSave=t.asm.la).apply(null,arguments)},ye=t.stackRestore=function(){return(ye=t.stackRestore=t.asm.ma).apply(null,arguments)},be=t.stackAlloc=function(){return(be=t.stackAlloc=t.asm.na).apply(null,arguments)};function ve(){function e(){if(!fe&&(fe=!0,t.calledRun=!0,!T)){if(q(U),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}q(W)}}if(!(0<Y)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)L();q(I),0<Y||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.UTF8ToString=R,t.stringToUTF8=function(e,t,n){return x(e,S,t,n)},t.lengthBytesUTF8=k,t.stackSave=he,t.stackRestore=ye,t.stackAlloc=be,B=function e(){fe||ve(),fe||(B=e)},t.run=ve,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return ve(),e.ready});e.exports=r},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)t.iterateExtraOptions(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setRunOptions=e=>{const t=o.getInstance();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=a.allocWasmString(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),s=a.allocWasmString(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setSessionOptions=e=>{const t=o.getInstance();let n=0;const i=[],s=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(s);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");const o=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(s.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(s.executionMode="sequential");const u=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(s.executionMode);let c=0;if(void 0!==(null==e?void 0:e.logId)&&(c=a.allocWasmString(e.logId,i)),void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);if(void 0===(null==e?void 0:e.enableProfiling)&&(s.enableProfiling=!1),n=t._OrtCreateSessionOptions(o,!!s.enableCpuMemArena,!!s.enableMemPattern,u,!!s.enableProfiling,0,c,s.logSeverityLevel,s.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),s=a.allocWasmString(r,i);if(0!==t._OrtAddSessionConfigEntry(n,o,s))throw new Error(`Can\'t set a session config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),i.forEach(t._free),e}}},983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(361);t.allocWasmString=(e,t)=>{const n=r.getInstance(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=void 0;const r=n(586),a=n(919),o=n(983),i=n(361);t.initOrt=(e,t)=>{const n=i.getInstance()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const s=new Map;t.createSession=(e,t)=>{const n=i.getInstance(),r=n._malloc(e.byteLength);let o=0,u=0,c=[];try{if([u,c]=a.setSessionOptions(t),n.HEAPU8.set(e,r),o=n._OrtCreateSession(r,e.byteLength,u),0===o)throw new Error("Can\'t create a session")}finally{n._free(r),n._OrtReleaseSessionOptions(u),c.forEach(n._free)}const l=n._OrtGetInputCount(o),f=n._OrtGetOutputCount(o),p=[],d=[],m=[],g=[];for(let e=0;e<l;e++){const t=n._OrtGetInputName(o,e);if(0===t)throw new Error("Can\'t get an input name");d.push(t),p.push(n.UTF8ToString(t))}for(let e=0;e<f;e++){const t=n._OrtGetOutputName(o,e);if(0===t)throw new Error("Can\'t get an output name");g.push(t),m.push(n.UTF8ToString(t))}return s.set(o,[o,d,g]),[o,p,m]},t.releaseSession=e=>{const t=i.getInstance(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),s.delete(e)};const u=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},c=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:case 7:return"int32";case 12:case 13:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";default:throw new Error(`unsupported data type: ${e}`)}},l=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}};t.run=(e,t,n,a,f)=>{const p=i.getInstance(),d=s.get(e);if(!d)throw new Error("invalid session id");const m=d[0],g=d[1],h=d[2],y=t.length,b=a.length;let v=0,_=[];const w=[],O=[];try{[v,_]=r.setRunOptions(f);for(let e=0;e<y;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let i,s;if(Array.isArray(a)){s=4*a.length,i=p._malloc(s),O.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);p.HEAPU32[e++]=o.allocWasmString(a[t],O)}}else s=a.byteLength,i=p._malloc(s),O.push(i),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,s),i);const c=p.stackSave(),l=p.stackAlloc(4*r.length);try{let e=l/4;r.forEach((t=>p.HEAP32[e++]=t));const n=p._OrtCreateTensor(u(t),i,s,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");w.push(n)}finally{p.stackRestore(c)}}const e=p.stackSave(),i=p.stackAlloc(4*y),s=p.stackAlloc(4*y),d=p.stackAlloc(4*b),A=p.stackAlloc(4*b);try{let n=i/4,r=s/4,o=d/4,u=A/4;for(let e=0;e<y;e++)p.HEAPU32[n++]=w[e],p.HEAPU32[r++]=g[t[e]];for(let e=0;e<b;e++)p.HEAPU32[o++]=0,p.HEAPU32[u++]=h[a[e]];let f=p._OrtRun(m,s,i,y,A,b,d,v);const _=[];if(0===f)for(let e=0;e<b;e++){const t=p.HEAPU32[d/4+e],n=p.stackSave(),r=p.stackAlloc(16);let a,o=0;try{if(f=p._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t get a tensor data. error code = ${f}`);let e=r/4;const i=p.HEAPU32[e++];o=p.HEAPU32[e++];const s=p.HEAPU32[e++],u=p.HEAPU32[e++],d=[];for(let e=0;e<u;e++)d.push(p.HEAPU32[s/4+e]);p._OrtFree(s);const m=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=c(i),"string"===a){const e=[];let t=o/4;for(let n=0;n<m;n++){const r=p.HEAPU32[t++],a=n===m-1?void 0:p.HEAPU32[t]-r;e.push(p.UTF8ToString(r,a))}_.push([a,d,e])}else{const e=new(l(a))(m);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(p.HEAPU8.subarray(o,o+e.byteLength)),_.push([a,d,e])}}finally{p.stackRestore(n),"string"===a&&o&&p._free(o),p._OrtReleaseTensor(t)}}if(0===f)return _;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(e)}}finally{w.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),_.forEach(p._free)}},t.endProfiling=e=>{const t=i.getInstance(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const s=o(n(449)),u=i(n(932)),c=n(474);let l,f=!1,p=!1,d=!1;const m=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),i=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g="string"==typeof e.wasmPaths?e.wasmPaths:void 0,h=m(!1,o),y=m(i,o),b="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let v=!1;const _=[];if(t>0&&_.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),_.push(new Promise(((e,t)=>{const r=o?c:u.default,a={locateFile:(e,t)=>{if(o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob)return URL.createObjectURL(new Blob([n(118)],{type:"text/javascript"}));if(e===h){const e=null!=g?g:t;return null!=b?b:e+y}return t+e}};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=s.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{p=!1,f=!0,l=t,e()}),(e=>{p=!1,d=!0,t(e)}))}))),await Promise.race(_),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!f||p||d||(p=!0,null===(e=l.PThread)||void 0===e||e.terminateAllThreads(),l=void 0,p=!1,f=!1,d=!0)}},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(349),t=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":t.initializeWebAssembly(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;e.initOrt(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=e.createSession(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;e.releaseSession(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in,s=e.run(t,r,a,o,i);postMessage({type:"run",out:s},e.extractTransferableBuffers(s))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;e.endProfiling(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},477:X=>{"use strict";X.exports=function(_,O,x,w){var T=self||window;try{try{var g;try{g=new T.Blob([_])}catch{(g=new(T.BlobBuilder||T.WebKitBlobBuilder||T.MozBlobBuilder||T.MSBlobBuilder)).append(_),g=g.getBlob()}var b=T.URL||T.webkitURL,v=b.createObjectURL(g),p=new T[O](v,x);return b.revokeObjectURL(v),p}catch{return new T[O]("data:application/javascript,".concat(encodeURIComponent(_)),x)}}catch{if(!w)throw Error("Inline worker is not supported");return new T[O](w,x)}}},2174:X=>{"use strict";X.exports=__WEBPACK_EXTERNAL_MODULE__2174__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},6449:()=>{},2203:()=>{},5381:()=>{},8022:()=>{}},__webpack_module_cache__={};function __nested_webpack_require_759873__(X){var _=__webpack_module_cache__[X];if(void 0!==_)return _.exports;var O=__webpack_module_cache__[X]={exports:{}};return __webpack_modules__[X].call(O.exports,O,O.exports,__nested_webpack_require_759873__),O.exports}__nested_webpack_require_759873__.n=X=>{var _=X&&X.__esModule?()=>X.default:()=>X;return __nested_webpack_require_759873__.d(_,{a:_}),_},__nested_webpack_require_759873__.d=(X,_)=>{for(var O in _)__nested_webpack_require_759873__.o(_,O)&&!__nested_webpack_require_759873__.o(X,O)&&Object.defineProperty(X,O,{enumerable:!0,get:_[O]})},__nested_webpack_require_759873__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),__nested_webpack_require_759873__.o=(X,_)=>Object.prototype.hasOwnProperty.call(X,_),__nested_webpack_require_759873__.r=X=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})};var __webpack_exports__=__nested_webpack_require_759873__(6018);return __webpack_exports__})()},module.exports=_(__webpack_require__(667))},926:X=>{function _(x,w,T,g,b,v,p){try{var c=x[v](p),s=c.value}catch(o){return void T(o)}c.done?w(s):Promise.resolve(s).then(g,b)}X.exports=function O(x){return function(){var w=this,T=arguments;return new Promise(function(g,b){var v=x.apply(w,T);function p(s){_(v,g,b,p,c,"next",s)}function c(s){_(v,g,b,p,c,"throw",s)}p(void 0)})}},X.exports.__esModule=!0,X.exports.default=X.exports},861:(X,_,O)=>{"use strict";function x(T,g,b,v,p,c,s){try{var o=T[c](s),u=o.value}catch(l){return void b(l)}o.done?g(u):Promise.resolve(u).then(v,p)}function w(T){return function(){var g=this,b=arguments;return new Promise(function(v,p){var c=T.apply(g,b);function s(u){x(c,v,p,s,o,"next",u)}function o(u){x(c,v,p,s,o,"throw",u)}s(void 0)})}}O.d(_,{Z:()=>w})}},X=>{X(X.s=86)}]);